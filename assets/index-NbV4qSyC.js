(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function o1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var of={exports:{}},nl={},af={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function a1(){if(yy)return qe;yy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,x={};function N(U,J,fe){this.props=U,this.context=J,this.refs=x,this.updater=fe||k}N.prototype.isReactComponent={},N.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},N.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=N.prototype;function B(U,J,fe){this.props=U,this.context=J,this.refs=x,this.updater=fe||k}var G=B.prototype=new j;G.constructor=B,V(G,N.prototype),G.isPureReactComponent=!0;var ee=Array.isArray,de=Object.prototype.hasOwnProperty,_e={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(U,J,fe){var Ae,xe={},Le=null,je=null;if(J!=null)for(Ae in J.ref!==void 0&&(je=J.ref),J.key!==void 0&&(Le=""+J.key),J)de.call(J,Ae)&&!D.hasOwnProperty(Ae)&&(xe[Ae]=J[Ae]);var He=arguments.length-2;if(He===1)xe.children=fe;else if(1<He){for(var rt=Array(He),St=0;St<He;St++)rt[St]=arguments[St+2];xe.children=rt}if(U&&U.defaultProps)for(Ae in He=U.defaultProps,He)xe[Ae]===void 0&&(xe[Ae]=He[Ae]);return{$$typeof:n,type:U,key:Le,ref:je,props:xe,_owner:_e.current}}function A(U,J){return{$$typeof:n,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(fe){return J[fe]})}var b=/\/+/g;function R(U,J){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):J.toString(36)}function Ne(U,J,fe,Ae,xe){var Le=typeof U;(Le==="undefined"||Le==="boolean")&&(U=null);var je=!1;if(U===null)je=!0;else switch(Le){case"string":case"number":je=!0;break;case"object":switch(U.$$typeof){case n:case e:je=!0}}if(je)return je=U,xe=xe(je),U=Ae===""?"."+R(je,0):Ae,ee(xe)?(fe="",U!=null&&(fe=U.replace(b,"$&/")+"/"),Ne(xe,J,fe,"",function(St){return St})):xe!=null&&(P(xe)&&(xe=A(xe,fe+(!xe.key||je&&je.key===xe.key?"":(""+xe.key).replace(b,"$&/")+"/")+U)),J.push(xe)),1;if(je=0,Ae=Ae===""?".":Ae+":",ee(U))for(var He=0;He<U.length;He++){Le=U[He];var rt=Ae+R(Le,He);je+=Ne(Le,J,fe,rt,xe)}else if(rt=S(U),typeof rt=="function")for(U=rt.call(U),He=0;!(Le=U.next()).done;)Le=Le.value,rt=Ae+R(Le,He++),je+=Ne(Le,J,fe,rt,xe);else if(Le==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return je}function Ue(U,J,fe){if(U==null)return U;var Ae=[],xe=0;return Ne(U,Ae,"","",function(Le){return J.call(fe,Le,xe++)}),Ae}function Je(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(fe){(U._status===0||U._status===-1)&&(U._status=1,U._result=fe)},function(fe){(U._status===0||U._status===-1)&&(U._status=2,U._result=fe)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var ke={current:null},se={transition:null},ge={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:se,ReactCurrentOwner:_e};function ce(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:Ue,forEach:function(U,J,fe){Ue(U,function(){J.apply(this,arguments)},fe)},count:function(U){var J=0;return Ue(U,function(){J++}),J},toArray:function(U){return Ue(U,function(J){return J})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},qe.Component=N,qe.Fragment=t,qe.Profiler=o,qe.PureComponent=B,qe.StrictMode=i,qe.Suspense=p,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,qe.act=ce,qe.cloneElement=function(U,J,fe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ae=V({},U.props),xe=U.key,Le=U.ref,je=U._owner;if(J!=null){if(J.ref!==void 0&&(Le=J.ref,je=_e.current),J.key!==void 0&&(xe=""+J.key),U.type&&U.type.defaultProps)var He=U.type.defaultProps;for(rt in J)de.call(J,rt)&&!D.hasOwnProperty(rt)&&(Ae[rt]=J[rt]===void 0&&He!==void 0?He[rt]:J[rt])}var rt=arguments.length-2;if(rt===1)Ae.children=fe;else if(1<rt){He=Array(rt);for(var St=0;St<rt;St++)He[St]=arguments[St+2];Ae.children=He}return{$$typeof:n,type:U.type,key:xe,ref:Le,props:Ae,_owner:je}},qe.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},qe.createElement=I,qe.createFactory=function(U){var J=I.bind(null,U);return J.type=U,J},qe.createRef=function(){return{current:null}},qe.forwardRef=function(U){return{$$typeof:d,render:U}},qe.isValidElement=P,qe.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:Je}},qe.memo=function(U,J){return{$$typeof:y,type:U,compare:J===void 0?null:J}},qe.startTransition=function(U){var J=se.transition;se.transition={};try{U()}finally{se.transition=J}},qe.unstable_act=ce,qe.useCallback=function(U,J){return ke.current.useCallback(U,J)},qe.useContext=function(U){return ke.current.useContext(U)},qe.useDebugValue=function(){},qe.useDeferredValue=function(U){return ke.current.useDeferredValue(U)},qe.useEffect=function(U,J){return ke.current.useEffect(U,J)},qe.useId=function(){return ke.current.useId()},qe.useImperativeHandle=function(U,J,fe){return ke.current.useImperativeHandle(U,J,fe)},qe.useInsertionEffect=function(U,J){return ke.current.useInsertionEffect(U,J)},qe.useLayoutEffect=function(U,J){return ke.current.useLayoutEffect(U,J)},qe.useMemo=function(U,J){return ke.current.useMemo(U,J)},qe.useReducer=function(U,J,fe){return ke.current.useReducer(U,J,fe)},qe.useRef=function(U){return ke.current.useRef(U)},qe.useState=function(U){return ke.current.useState(U)},qe.useSyncExternalStore=function(U,J,fe){return ke.current.useSyncExternalStore(U,J,fe)},qe.useTransition=function(){return ke.current.useTransition()},qe.version="18.3.1",qe}var vy;function ap(){return vy||(vy=1,af.exports=a1()),af.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function l1(){if(_y)return nl;_y=1;var n=ap(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,E={},S=null,k=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(k=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(E[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:d,key:S,ref:k,props:E,_owner:o.current}}return nl.Fragment=t,nl.jsx=c,nl.jsxs=c,nl}var wy;function u1(){return wy||(wy=1,of.exports=l1()),of.exports}var X=u1(),q=ap();const Be=o1(q);var hc={},lf={exports:{}},vn={},uf={exports:{}},cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function c1(){return Ey||(Ey=1,function(n){function e(se,ge){var ce=se.length;se.push(ge);e:for(;0<ce;){var U=ce-1>>>1,J=se[U];if(0<o(J,ge))se[U]=ge,se[ce]=J,ce=U;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ge=se[0],ce=se.pop();if(ce!==ge){se[0]=ce;e:for(var U=0,J=se.length,fe=J>>>1;U<fe;){var Ae=2*(U+1)-1,xe=se[Ae],Le=Ae+1,je=se[Le];if(0>o(xe,ce))Le<J&&0>o(je,xe)?(se[U]=je,se[Le]=ce,U=Le):(se[U]=xe,se[Ae]=ce,U=Ae);else if(Le<J&&0>o(je,ce))se[U]=je,se[Le]=ce,U=Le;else break e}}return ge}function o(se,ge){var ce=se.sortIndex-ge.sortIndex;return ce!==0?ce:se.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,E=null,S=3,k=!1,V=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(se){for(var ge=t(y);ge!==null;){if(ge.callback===null)i(y);else if(ge.startTime<=se)i(y),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(y)}}function ee(se){if(x=!1,G(se),!V)if(t(p)!==null)V=!0,Je(de);else{var ge=t(y);ge!==null&&ke(ee,ge.startTime-se)}}function de(se,ge){V=!1,x&&(x=!1,j(I),I=-1),k=!0;var ce=S;try{for(G(ge),E=t(p);E!==null&&(!(E.expirationTime>ge)||se&&!M());){var U=E.callback;if(typeof U=="function"){E.callback=null,S=E.priorityLevel;var J=U(E.expirationTime<=ge);ge=n.unstable_now(),typeof J=="function"?E.callback=J:E===t(p)&&i(p),G(ge)}else i(p);E=t(p)}if(E!==null)var fe=!0;else{var Ae=t(y);Ae!==null&&ke(ee,Ae.startTime-ge),fe=!1}return fe}finally{E=null,S=ce,k=!1}}var _e=!1,D=null,I=-1,A=5,P=-1;function M(){return!(n.unstable_now()-P<A)}function b(){if(D!==null){var se=n.unstable_now();P=se;var ge=!0;try{ge=D(!0,se)}finally{ge?R():(_e=!1,D=null)}}else _e=!1}var R;if(typeof B=="function")R=function(){B(b)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Ue=Ne.port2;Ne.port1.onmessage=b,R=function(){Ue.postMessage(null)}}else R=function(){N(b,0)};function Je(se){D=se,_e||(_e=!0,R())}function ke(se,ge){I=N(function(){se(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){V||k||(V=!0,Je(de))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var ce=S;S=ge;try{return se()}finally{S=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ce=S;S=se;try{return ge()}finally{S=ce}},n.unstable_scheduleCallback=function(se,ge,ce){var U=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?U+ce:U):ce=U,se){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ce+J,se={id:_++,callback:ge,priorityLevel:se,startTime:ce,expirationTime:J,sortIndex:-1},ce>U?(se.sortIndex=ce,e(y,se),t(p)===null&&se===t(y)&&(x?(j(I),I=-1):x=!0,ke(ee,ce-U))):(se.sortIndex=J,e(p,se),V||k||(V=!0,Je(de))),se},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(se){var ge=S;return function(){var ce=S;S=ge;try{return se.apply(this,arguments)}finally{S=ce}}}}(cf)),cf}var Ty;function h1(){return Ty||(Ty=1,uf.exports=c1()),uf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function d1(){if(Iy)return vn;Iy=1;var n=ap(),e=h1();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function S(r){return p.call(E,r)?!0:p.call(_,r)?!1:y.test(r)?E[r]=!0:(_[r]=!0,!1)}function k(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function V(r,s,l,h){if(s===null||typeof s>"u"||k(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(r,s,l,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new x(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new x(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new x(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new x(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new x(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new x(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new x(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new x(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new x(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function B(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(j,B);N[s]=new x(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(j,B);N[s]=new x(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(j,B);N[s]=new x(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new x(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new x(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,l,h){var f=N.hasOwnProperty(s)?N[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(V(s,l,f,h)&&(l=null),h||f===null?S(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),_e=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),se=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var ce=Object.assign,U;function J(r){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var fe=!1;function Ae(r,s){if(!r||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var h=K}Reflect.construct(r,[],s)}else{try{s.call()}catch(K){h=K}r.call(s.prototype)}else{try{throw Error()}catch(K){h=K}r()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var f=K.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,C=g.length-1;1<=w&&0<=C&&f[w]!==g[C];)C--;for(;1<=w&&0<=C;w--,C--)if(f[w]!==g[C]){if(w!==1||C!==1)do if(w--,C--,0>C||f[w]!==g[C]){var O=`
`+f[w].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=w&&0<=C);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?J(r):""}function xe(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case _e:return"Portal";case A:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Ne:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ue:return s=r.displayName||null,s!==null?s:Le(r.type)||"Memo";case Je:s=r._payload,r=r._init;try{return Le(r(s))}catch{}}return null}function je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function He(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function rt(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(r){var s=rt(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Vn(r){r._valueTracker||(r._valueTracker=St(r))}function hi(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=rt(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function Kn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function fr(r,s){var l=s.checked;return ce({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function ss(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=He(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Xs(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function Js(r,s){Xs(r,s);var l=He(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?W(r,s.type,l):s.hasOwnProperty("defaultValue")&&W(r,s.type,He(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function L(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function W(r,s,l){(s!=="number"||Kn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Y=Array.isArray;function he(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+He(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function le(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function oe(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Y(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:He(l)}}function Se(r,s){var l=He(s.value),h=He(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Me(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ze(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ze(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Bt,os=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Bt=Bt||document.createElement("div"),Bt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Bt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function bn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mr=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(r){Mr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Gn[s]=Gn[r]})});function di(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Gn.hasOwnProperty(r)&&Gn[r]?(""+s).trim():s+"px"}function as(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=di(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var fi=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ga(r,s){if(s){if(fi[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ya(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ls=null;function Zs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var eo=null,Ln=null,pr=null;function to(r){if(r=Ba(r)){if(typeof eo!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ru(s),eo(r.stateNode,r.type,s))}}function mr(r){Ln?pr?pr.push(r):pr=[r]:Ln=r}function va(){if(Ln){var r=Ln,s=pr;if(pr=Ln=null,to(r),s)for(r=0;r<s.length;r++)to(s[r])}}function us(r,s){return r(s)}function _a(){}var Fr=!1;function wa(r,s,l){if(Fr)return r(s,l);Fr=!0;try{return us(r,s,l)}finally{Fr=!1,(Ln!==null||pr!==null)&&(_a(),va())}}function _t(r,s){var l=r.stateNode;if(l===null)return null;var h=Ru(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var no=!1;if(d)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){no=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{no=!1}function cs(r,s,l,h,f,g,w,C,O){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(re){this.onError(re)}}var hs=!1,ro=null,Yn=!1,Ea=null,Vh={onError:function(r){hs=!0,ro=r}};function io(r,s,l,h,f,g,w,C,O){hs=!1,ro=null,cs.apply(Vh,arguments)}function Xl(r,s,l,h,f,g,w,C,O){if(io.apply(this,arguments),hs){if(hs){var K=ro;hs=!1,ro=null}else throw Error(t(198));Yn||(Yn=!0,Ea=K)}}function Xn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function ds(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Jn(r){if(Xn(r)!==r)throw Error(t(188))}function Jl(r){var s=r.alternate;if(!s){if(s=Xn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Jn(f),r;if(g===h)return Jn(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=g;else{for(var w=!1,C=f.child;C;){if(C===l){w=!0,l=f,h=g;break}if(C===h){w=!0,h=f,l=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===l){w=!0,l=g,h=f;break}if(C===h){w=!0,h=g,l=f;break}C=C.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Ta(r){return r=Jl(r),r!==null?so(r):null}function so(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=so(r);if(s!==null)return s;r=r.sibling}return null}var oo=e.unstable_scheduleCallback,Ia=e.unstable_cancelCallback,Zl=e.unstable_shouldYield,bh=e.unstable_requestPaint,ot=e.unstable_now,eu=e.unstable_getCurrentPriorityLevel,fs=e.unstable_ImmediatePriority,pi=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,Sa=e.unstable_LowPriority,tu=e.unstable_IdlePriority,ps=null,Tn=null;function nu(r){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(ps,r,void 0,(r.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:iu,Aa=Math.log,ru=Math.LN2;function iu(r){return r>>>=0,r===0?32:31-(Aa(r)/ru|0)|0}var ao=64,lo=4194304;function mi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ms(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var C=w&~f;C!==0?h=mi(C):(g&=w,g!==0&&(h=mi(g)))}else w=l&~f,w!==0?h=mi(w):g!==0&&(h=mi(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-sn(s),f=1<<l,h|=r[l],s&=~f;return h}function Lh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-sn(g),C=1<<w,O=f[w];O===-1?(!(C&l)||C&h)&&(f[w]=Lh(C,s)):O<=s&&(r.expiredLanes|=C),g&=~C}}function In(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function gs(){var r=ao;return ao<<=1,!(ao&4194240)&&(ao=64),r}function gi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function yi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-sn(s),r[s]=l}function st(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-sn(l),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~g}}function vi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-sn(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var Ge=0;function _i(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var su,uo,ou,au,lu,Ra=!1,gr=[],zt=null,Zn=null,er=null,wi=new Map,Mn=new Map,yr=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(r,s){switch(r){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":wi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(s.pointerId)}}function hn(r,s,l,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ba(s),s!==null&&uo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Mh(r,s,l,h,f){switch(s){case"focusin":return zt=hn(zt,r,s,l,h,f),!0;case"dragenter":return Zn=hn(Zn,r,s,l,h,f),!0;case"mouseover":return er=hn(er,r,s,l,h,f),!0;case"pointerover":var g=f.pointerId;return wi.set(g,hn(wi.get(g)||null,r,s,l,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Mn.set(g,hn(Mn.get(g)||null,r,s,l,h,f)),!0}return!1}function cu(r){var s=Es(r.target);if(s!==null){var l=Xn(s);if(l!==null){if(s=l.tag,s===13){if(s=ds(l),s!==null){r.blockedOn=s,lu(r.priority,function(){ou(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function jr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=co(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);ls=h,l.target.dispatchEvent(h),ls=null}else return s=Ba(l),s!==null&&uo(s),r.blockedOn=l,!1;s.shift()}return!0}function ys(r,s,l){jr(r)&&l.delete(s)}function hu(){Ra=!1,zt!==null&&jr(zt)&&(zt=null),Zn!==null&&jr(Zn)&&(Zn=null),er!==null&&jr(er)&&(er=null),wi.forEach(ys),Mn.forEach(ys)}function tr(r,s){r.blockedOn===s&&(r.blockedOn=null,Ra||(Ra=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hu)))}function nr(r){function s(f){return tr(f,r)}if(0<gr.length){tr(gr[0],r);for(var l=1;l<gr.length;l++){var h=gr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(zt!==null&&tr(zt,r),Zn!==null&&tr(Zn,r),er!==null&&tr(er,r),wi.forEach(s),Mn.forEach(s),l=0;l<yr.length;l++)h=yr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<yr.length&&(l=yr[0],l.blockedOn===null);)cu(l),l.blockedOn===null&&yr.shift()}var Br=ee.ReactCurrentBatchConfig,Ei=!0;function dt(r,s,l,h){var f=Ge,g=Br.transition;Br.transition=null;try{Ge=1,Ca(r,s,l,h)}finally{Ge=f,Br.transition=g}}function Fh(r,s,l,h){var f=Ge,g=Br.transition;Br.transition=null;try{Ge=4,Ca(r,s,l,h)}finally{Ge=f,Br.transition=g}}function Ca(r,s,l,h){if(Ei){var f=co(r,s,l,h);if(f===null)Qh(r,s,h,vs,l),uu(r,h);else if(Mh(f,r,s,l,h))h.stopPropagation();else if(uu(r,h),s&4&&-1<Oh.indexOf(r)){for(;f!==null;){var g=Ba(f);if(g!==null&&su(g),g=co(r,s,l,h),g===null&&Qh(r,s,h,vs,l),g===f)break;f=g}f!==null&&h.stopPropagation()}else Qh(r,s,h,null,l)}}var vs=null;function co(r,s,l,h){if(vs=null,r=Zs(h),r=Es(r),r!==null)if(s=Xn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=ds(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return vs=r,null}function Pa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eu()){case fs:return 1;case pi:return 4;case On:case Sa:return 16;case tu:return 536870912;default:return 16}default:return 16}}var Sn=null,ho=null,dn=null;function ka(){if(dn)return dn;var r,s=ho,l=s.length,h,f="value"in Sn?Sn.value:Sn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var w=l-r;for(h=1;h<=w&&s[l-h]===f[g-h];h++);return dn=f.slice(r,1<h?1-h:void 0)}function fo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function vr(){return!0}function xa(){return!1}function $t(r){function s(l,h,f,g,w){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(l=r[C],this[C]=l?l(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?vr:xa,this.isPropagationStopped=xa,this}return ce(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),s}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=$t(rr),_r=ce({},rr,{view:0,detail:0}),Uh=$t(_r),mo,zr,Ti,_s=ce({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ti&&(Ti&&r.type==="mousemove"?(mo=r.screenX-Ti.screenX,zr=r.screenY-Ti.screenY):zr=mo=0,Ti=r),mo)},movementY:function(r){return"movementY"in r?r.movementY:zr}}),go=$t(_s),Na=ce({},_s,{dataTransfer:0}),du=$t(Na),yo=ce({},_r,{relatedTarget:0}),vo=$t(yo),fu=ce({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),$r=$t(fu),pu=ce({},rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),mu=$t(pu),gu=ce({},rr,{data:0}),Da=$t(gu),_o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},on={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=yu[r])?!!s[r]:!1}function wr(){return vu}var u=ce({},_r,{key:function(r){if(r.key){var s=_o[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=fo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?on[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(r){return r.type==="keypress"?fo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?fo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=$t(u),v=ce({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=$t(v),z=ce({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),Q=$t(z),ue=ce({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),it=$t(ue),xt=ce({},_s,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=$t(xt),Ot=[9,13,27,32],At=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var An=d&&"TextEvent"in window&&!Fn,ws=d&&(!At||Fn&&8<Fn&&11>=Fn),wo=" ",hm=!1;function dm(r,s){switch(r){case"keyup":return Ot.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Eo=!1;function rE(r,s){switch(r){case"compositionend":return fm(s);case"keypress":return s.which!==32?null:(hm=!0,wo);case"textInput":return r=s.data,r===wo&&hm?null:r;default:return null}}function iE(r,s){if(Eo)return r==="compositionend"||!At&&dm(r,s)?(r=ka(),dn=ho=Sn=null,Eo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ws&&s.locale!=="ko"?null:s.data;default:return null}}var sE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!sE[r.type]:s==="textarea"}function mm(r,s,l,h){mr(h),s=Iu(s,"onChange"),0<s.length&&(l=new po("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Va=null,ba=null;function oE(r){Vm(r,0)}function _u(r){var s=Ro(r);if(hi(s))return r}function aE(r,s){if(r==="change")return s}var gm=!1;if(d){var jh;if(d){var Bh="oninput"in document;if(!Bh){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),Bh=typeof ym.oninput=="function"}jh=Bh}else jh=!1;gm=jh&&(!document.documentMode||9<document.documentMode)}function vm(){Va&&(Va.detachEvent("onpropertychange",_m),ba=Va=null)}function _m(r){if(r.propertyName==="value"&&_u(ba)){var s=[];mm(s,ba,r,Zs(r)),wa(oE,s)}}function lE(r,s,l){r==="focusin"?(vm(),Va=s,ba=l,Va.attachEvent("onpropertychange",_m)):r==="focusout"&&vm()}function uE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _u(ba)}function cE(r,s){if(r==="click")return _u(s)}function hE(r,s){if(r==="input"||r==="change")return _u(s)}function dE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ir=typeof Object.is=="function"?Object.is:dE;function La(r,s){if(ir(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!ir(r[f],s[f]))return!1}return!0}function wm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Em(r,s){var l=wm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wm(l)}}function Tm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Tm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Im(){for(var r=window,s=Kn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Kn(r.document)}return s}function zh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function fE(r){var s=Im(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Tm(l.ownerDocument.documentElement,l)){if(h!==null&&zh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Em(l,g);var w=Em(l,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var pE=d&&"documentMode"in document&&11>=document.documentMode,To=null,$h=null,Oa=null,qh=!1;function Sm(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qh||To==null||To!==Kn(h)||(h=To,"selectionStart"in h&&zh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Oa&&La(Oa,h)||(Oa=h,h=Iu($h,"onSelect"),0<h.length&&(s=new po("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=To)))}function wu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Io={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},Hh={},Am={};d&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Eu(r){if(Hh[r])return Hh[r];if(!Io[r])return r;var s=Io[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Am)return Hh[r]=s[l];return r}var Rm=Eu("animationend"),Cm=Eu("animationiteration"),Pm=Eu("animationstart"),km=Eu("transitionend"),xm=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(r,s){xm.set(r,s),a(s,[r])}for(var Wh=0;Wh<Nm.length;Wh++){var Kh=Nm[Wh],mE=Kh.toLowerCase(),gE=Kh[0].toUpperCase()+Kh.slice(1);Ii(mE,"on"+gE)}Ii(Rm,"onAnimationEnd"),Ii(Cm,"onAnimationIteration"),Ii(Pm,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(km,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function Dm(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Xl(h,s,void 0,r),r.currentTarget=null}function Vm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var C=h[w],O=C.instance,K=C.currentTarget;if(C=C.listener,O!==g&&f.isPropagationStopped())break e;Dm(f,C,K),g=O}else for(w=0;w<h.length;w++){if(C=h[w],O=C.instance,K=C.currentTarget,C=C.listener,O!==g&&f.isPropagationStopped())break e;Dm(f,C,K),g=O}}}if(Yn)throw r=Ea,Yn=!1,Ea=null,r}function lt(r,s){var l=s[td];l===void 0&&(l=s[td]=new Set);var h=r+"__bubble";l.has(h)||(bm(s,r,2,!1),l.add(h))}function Gh(r,s,l){var h=0;s&&(h|=4),bm(l,r,h,s)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function Fa(r){if(!r[Tu]){r[Tu]=!0,i.forEach(function(l){l!=="selectionchange"&&(yE.has(l)||Gh(l,!1,r),Gh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Tu]||(s[Tu]=!0,Gh("selectionchange",!1,s))}}function bm(r,s,l,h){switch(Pa(s)){case 1:var f=dt;break;case 4:f=Fh;break;default:f=Ca}l=f.bind(null,s,l,r),f=void 0,!no||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Qh(r,s,l,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var C=h.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;w=w.return}for(;C!==null;){if(w=Es(C),w===null)return;if(O=w.tag,O===5||O===6){h=g=w;continue e}C=C.parentNode}}h=h.return}wa(function(){var K=g,re=Zs(l),ie=[];e:{var ne=xm.get(r);if(ne!==void 0){var pe=po,we=r;switch(r){case"keypress":if(fo(l)===0)break e;case"keydown":case"keyup":pe=m;break;case"focusin":we="focus",pe=vo;break;case"focusout":we="blur",pe=vo;break;case"beforeblur":case"afterblur":pe=vo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Q;break;case Rm:case Cm:case Pm:pe=$r;break;case km:pe=it;break;case"scroll":pe=Uh;break;case"wheel":pe=Ye;break;case"copy":case"cut":case"paste":pe=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=T}var Te=(s&4)!==0,wt=!Te&&r==="scroll",$=Te?ne!==null?ne+"Capture":null:ne;Te=[];for(var F=K,H;F!==null;){H=F;var ae=H.stateNode;if(H.tag===5&&ae!==null&&(H=ae,$!==null&&(ae=_t(F,$),ae!=null&&Te.push(Ua(F,ae,H)))),wt)break;F=F.return}0<Te.length&&(ne=new pe(ne,we,null,l,re),ie.push({event:ne,listeners:Te}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",ne&&l!==ls&&(we=l.relatedTarget||l.fromElement)&&(Es(we)||we[qr]))break e;if((pe||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,pe?(we=l.relatedTarget||l.toElement,pe=K,we=we?Es(we):null,we!==null&&(wt=Xn(we),we!==wt||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=K),pe!==we)){if(Te=go,ae="onMouseLeave",$="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(Te=T,ae="onPointerLeave",$="onPointerEnter",F="pointer"),wt=pe==null?ne:Ro(pe),H=we==null?ne:Ro(we),ne=new Te(ae,F+"leave",pe,l,re),ne.target=wt,ne.relatedTarget=H,ae=null,Es(re)===K&&(Te=new Te($,F+"enter",we,l,re),Te.target=H,Te.relatedTarget=wt,ae=Te),wt=ae,pe&&we)t:{for(Te=pe,$=we,F=0,H=Te;H;H=So(H))F++;for(H=0,ae=$;ae;ae=So(ae))H++;for(;0<F-H;)Te=So(Te),F--;for(;0<H-F;)$=So($),H--;for(;F--;){if(Te===$||$!==null&&Te===$.alternate)break t;Te=So(Te),$=So($)}Te=null}else Te=null;pe!==null&&Lm(ie,ne,pe,Te,!1),we!==null&&wt!==null&&Lm(ie,wt,we,Te,!0)}}e:{if(ne=K?Ro(K):window,pe=ne.nodeName&&ne.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ne.type==="file")var Ie=aE;else if(pm(ne))if(gm)Ie=hE;else{Ie=uE;var Ce=lE}else(pe=ne.nodeName)&&pe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ie=cE);if(Ie&&(Ie=Ie(r,K))){mm(ie,Ie,l,re);break e}Ce&&Ce(r,ne,K),r==="focusout"&&(Ce=ne._wrapperState)&&Ce.controlled&&ne.type==="number"&&W(ne,"number",ne.value)}switch(Ce=K?Ro(K):window,r){case"focusin":(pm(Ce)||Ce.contentEditable==="true")&&(To=Ce,$h=K,Oa=null);break;case"focusout":Oa=$h=To=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Sm(ie,l,re);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":Sm(ie,l,re)}var Pe;if(At)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Eo?dm(r,l)&&(Ve="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(ws&&l.locale!=="ko"&&(Eo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Eo&&(Pe=ka()):(Sn=re,ho="value"in Sn?Sn.value:Sn.textContent,Eo=!0)),Ce=Iu(K,Ve),0<Ce.length&&(Ve=new Da(Ve,r,null,l,re),ie.push({event:Ve,listeners:Ce}),Pe?Ve.data=Pe:(Pe=fm(l),Pe!==null&&(Ve.data=Pe)))),(Pe=An?rE(r,l):iE(r,l))&&(K=Iu(K,"onBeforeInput"),0<K.length&&(re=new Da("onBeforeInput","beforeinput",null,l,re),ie.push({event:re,listeners:K}),re.data=Pe))}Vm(ie,s)})}function Ua(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Iu(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=_t(r,l),g!=null&&h.unshift(Ua(r,g,f)),g=_t(r,s),g!=null&&h.push(Ua(r,g,f))),r=r.return}return h}function So(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Lm(r,s,l,h,f){for(var g=s._reactName,w=[];l!==null&&l!==h;){var C=l,O=C.alternate,K=C.stateNode;if(O!==null&&O===h)break;C.tag===5&&K!==null&&(C=K,f?(O=_t(l,g),O!=null&&w.unshift(Ua(l,O,C))):f||(O=_t(l,g),O!=null&&w.push(Ua(l,O,C)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var vE=/\r\n?/g,_E=/\u0000|\uFFFD/g;function Om(r){return(typeof r=="string"?r:""+r).replace(vE,`
`).replace(_E,"")}function Su(r,s,l){if(s=Om(s),Om(r)!==s&&l)throw Error(t(425))}function Au(){}var Yh=null,Xh=null;function Jh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zh=typeof setTimeout=="function"?setTimeout:void 0,wE=typeof clearTimeout=="function"?clearTimeout:void 0,Mm=typeof Promise=="function"?Promise:void 0,EE=typeof queueMicrotask=="function"?queueMicrotask:typeof Mm<"u"?function(r){return Mm.resolve(null).then(r).catch(TE)}:Zh;function TE(r){setTimeout(function(){throw r})}function ed(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),nr(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);nr(s)}function Si(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Fm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),Er="__reactFiber$"+Ao,ja="__reactProps$"+Ao,qr="__reactContainer$"+Ao,td="__reactEvents$"+Ao,IE="__reactListeners$"+Ao,SE="__reactHandles$"+Ao;function Es(r){var s=r[Er];if(s)return s;for(var l=r.parentNode;l;){if(s=l[qr]||l[Er]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Fm(r);r!==null;){if(l=r[Er])return l;r=Fm(r)}return s}r=l,l=r.parentNode}return null}function Ba(r){return r=r[Er]||r[qr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ro(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ru(r){return r[ja]||null}var nd=[],Co=-1;function Ai(r){return{current:r}}function ut(r){0>Co||(r.current=nd[Co],nd[Co]=null,Co--)}function at(r,s){Co++,nd[Co]=r.current,r.current=s}var Ri={},Qt=Ai(Ri),fn=Ai(!1),Ts=Ri;function Po(r,s){var l=r.type.contextTypes;if(!l)return Ri;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function pn(r){return r=r.childContextTypes,r!=null}function Cu(){ut(fn),ut(Qt)}function Um(r,s,l){if(Qt.current!==Ri)throw Error(t(168));at(Qt,s),at(fn,l)}function jm(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,je(r)||"Unknown",f));return ce({},l,h)}function Pu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ri,Ts=Qt.current,at(Qt,r),at(fn,fn.current),!0}function Bm(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=jm(r,s,Ts),h.__reactInternalMemoizedMergedChildContext=r,ut(fn),ut(Qt),at(Qt,r)):ut(fn),at(fn,l)}var Hr=null,ku=!1,rd=!1;function zm(r){Hr===null?Hr=[r]:Hr.push(r)}function AE(r){ku=!0,zm(r)}function Ci(){if(!rd&&Hr!==null){rd=!0;var r=0,s=Ge;try{var l=Hr;for(Ge=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Hr=null,ku=!1}catch(f){throw Hr!==null&&(Hr=Hr.slice(r+1)),oo(fs,Ci),f}finally{Ge=s,rd=!1}}return null}var ko=[],xo=0,xu=null,Nu=0,Un=[],jn=0,Is=null,Wr=1,Kr="";function Ss(r,s){ko[xo++]=Nu,ko[xo++]=xu,xu=r,Nu=s}function $m(r,s,l){Un[jn++]=Wr,Un[jn++]=Kr,Un[jn++]=Is,Is=r;var h=Wr;r=Kr;var f=32-sn(h)-1;h&=~(1<<f),l+=1;var g=32-sn(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,Wr=1<<32-sn(s)+f|l<<f|h,Kr=g+r}else Wr=1<<g|l<<f|h,Kr=r}function id(r){r.return!==null&&(Ss(r,1),$m(r,1,0))}function sd(r){for(;r===xu;)xu=ko[--xo],ko[xo]=null,Nu=ko[--xo],ko[xo]=null;for(;r===Is;)Is=Un[--jn],Un[jn]=null,Kr=Un[--jn],Un[jn]=null,Wr=Un[--jn],Un[jn]=null}var Rn=null,Cn=null,ft=!1,sr=null;function qm(r,s){var l=qn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Hm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Rn=r,Cn=Si(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Rn=r,Cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Is!==null?{id:Wr,overflow:Kr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=qn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Rn=r,Cn=null,!0):!1;default:return!1}}function od(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ad(r){if(ft){var s=Cn;if(s){var l=s;if(!Hm(r,s)){if(od(r))throw Error(t(418));s=Si(l.nextSibling);var h=Rn;s&&Hm(r,s)?qm(h,l):(r.flags=r.flags&-4097|2,ft=!1,Rn=r)}}else{if(od(r))throw Error(t(418));r.flags=r.flags&-4097|2,ft=!1,Rn=r}}}function Wm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Rn=r}function Du(r){if(r!==Rn)return!1;if(!ft)return Wm(r),ft=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Jh(r.type,r.memoizedProps)),s&&(s=Cn)){if(od(r))throw Km(),Error(t(418));for(;s;)qm(r,s),s=Si(s.nextSibling)}if(Wm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Cn=Si(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Cn=null}}else Cn=Rn?Si(r.stateNode.nextSibling):null;return!0}function Km(){for(var r=Cn;r;)r=Si(r.nextSibling)}function No(){Cn=Rn=null,ft=!1}function ld(r){sr===null?sr=[r]:sr.push(r)}var RE=ee.ReactCurrentBatchConfig;function za(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var C=f.refs;w===null?delete C[g]:C[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Vu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Gm(r){var s=r._init;return s(r._payload)}function Qm(r){function s($,F){if(r){var H=$.deletions;H===null?($.deletions=[F],$.flags|=16):H.push(F)}}function l($,F){if(!r)return null;for(;F!==null;)s($,F),F=F.sibling;return null}function h($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function f($,F){return $=Li($,F),$.index=0,$.sibling=null,$}function g($,F,H){return $.index=H,r?(H=$.alternate,H!==null?(H=H.index,H<F?($.flags|=2,F):H):($.flags|=2,F)):($.flags|=1048576,F)}function w($){return r&&$.alternate===null&&($.flags|=2),$}function C($,F,H,ae){return F===null||F.tag!==6?(F=Zd(H,$.mode,ae),F.return=$,F):(F=f(F,H),F.return=$,F)}function O($,F,H,ae){var Ie=H.type;return Ie===D?re($,F,H.props.children,ae,H.key):F!==null&&(F.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Je&&Gm(Ie)===F.type)?(ae=f(F,H.props),ae.ref=za($,F,H),ae.return=$,ae):(ae=rc(H.type,H.key,H.props,null,$.mode,ae),ae.ref=za($,F,H),ae.return=$,ae)}function K($,F,H,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=ef(H,$.mode,ae),F.return=$,F):(F=f(F,H.children||[]),F.return=$,F)}function re($,F,H,ae,Ie){return F===null||F.tag!==7?(F=Ds(H,$.mode,ae,Ie),F.return=$,F):(F=f(F,H),F.return=$,F)}function ie($,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Zd(""+F,$.mode,H),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case de:return H=rc(F.type,F.key,F.props,null,$.mode,H),H.ref=za($,null,F),H.return=$,H;case _e:return F=ef(F,$.mode,H),F.return=$,F;case Je:var ae=F._init;return ie($,ae(F._payload),H)}if(Y(F)||ge(F))return F=Ds(F,$.mode,H,null),F.return=$,F;Vu($,F)}return null}function ne($,F,H,ae){var Ie=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Ie!==null?null:C($,F,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case de:return H.key===Ie?O($,F,H,ae):null;case _e:return H.key===Ie?K($,F,H,ae):null;case Je:return Ie=H._init,ne($,F,Ie(H._payload),ae)}if(Y(H)||ge(H))return Ie!==null?null:re($,F,H,ae,null);Vu($,H)}return null}function pe($,F,H,ae,Ie){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return $=$.get(H)||null,C(F,$,""+ae,Ie);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case de:return $=$.get(ae.key===null?H:ae.key)||null,O(F,$,ae,Ie);case _e:return $=$.get(ae.key===null?H:ae.key)||null,K(F,$,ae,Ie);case Je:var Ce=ae._init;return pe($,F,H,Ce(ae._payload),Ie)}if(Y(ae)||ge(ae))return $=$.get(H)||null,re(F,$,ae,Ie,null);Vu(F,ae)}return null}function we($,F,H,ae){for(var Ie=null,Ce=null,Pe=F,Ve=F=0,Ut=null;Pe!==null&&Ve<H.length;Ve++){Pe.index>Ve?(Ut=Pe,Pe=null):Ut=Pe.sibling;var et=ne($,Pe,H[Ve],ae);if(et===null){Pe===null&&(Pe=Ut);break}r&&Pe&&et.alternate===null&&s($,Pe),F=g(et,F,Ve),Ce===null?Ie=et:Ce.sibling=et,Ce=et,Pe=Ut}if(Ve===H.length)return l($,Pe),ft&&Ss($,Ve),Ie;if(Pe===null){for(;Ve<H.length;Ve++)Pe=ie($,H[Ve],ae),Pe!==null&&(F=g(Pe,F,Ve),Ce===null?Ie=Pe:Ce.sibling=Pe,Ce=Pe);return ft&&Ss($,Ve),Ie}for(Pe=h($,Pe);Ve<H.length;Ve++)Ut=pe(Pe,$,Ve,H[Ve],ae),Ut!==null&&(r&&Ut.alternate!==null&&Pe.delete(Ut.key===null?Ve:Ut.key),F=g(Ut,F,Ve),Ce===null?Ie=Ut:Ce.sibling=Ut,Ce=Ut);return r&&Pe.forEach(function(Oi){return s($,Oi)}),ft&&Ss($,Ve),Ie}function Te($,F,H,ae){var Ie=ge(H);if(typeof Ie!="function")throw Error(t(150));if(H=Ie.call(H),H==null)throw Error(t(151));for(var Ce=Ie=null,Pe=F,Ve=F=0,Ut=null,et=H.next();Pe!==null&&!et.done;Ve++,et=H.next()){Pe.index>Ve?(Ut=Pe,Pe=null):Ut=Pe.sibling;var Oi=ne($,Pe,et.value,ae);if(Oi===null){Pe===null&&(Pe=Ut);break}r&&Pe&&Oi.alternate===null&&s($,Pe),F=g(Oi,F,Ve),Ce===null?Ie=Oi:Ce.sibling=Oi,Ce=Oi,Pe=Ut}if(et.done)return l($,Pe),ft&&Ss($,Ve),Ie;if(Pe===null){for(;!et.done;Ve++,et=H.next())et=ie($,et.value,ae),et!==null&&(F=g(et,F,Ve),Ce===null?Ie=et:Ce.sibling=et,Ce=et);return ft&&Ss($,Ve),Ie}for(Pe=h($,Pe);!et.done;Ve++,et=H.next())et=pe(Pe,$,Ve,et.value,ae),et!==null&&(r&&et.alternate!==null&&Pe.delete(et.key===null?Ve:et.key),F=g(et,F,Ve),Ce===null?Ie=et:Ce.sibling=et,Ce=et);return r&&Pe.forEach(function(s1){return s($,s1)}),ft&&Ss($,Ve),Ie}function wt($,F,H,ae){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case de:e:{for(var Ie=H.key,Ce=F;Ce!==null;){if(Ce.key===Ie){if(Ie=H.type,Ie===D){if(Ce.tag===7){l($,Ce.sibling),F=f(Ce,H.props.children),F.return=$,$=F;break e}}else if(Ce.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Je&&Gm(Ie)===Ce.type){l($,Ce.sibling),F=f(Ce,H.props),F.ref=za($,Ce,H),F.return=$,$=F;break e}l($,Ce);break}else s($,Ce);Ce=Ce.sibling}H.type===D?(F=Ds(H.props.children,$.mode,ae,H.key),F.return=$,$=F):(ae=rc(H.type,H.key,H.props,null,$.mode,ae),ae.ref=za($,F,H),ae.return=$,$=ae)}return w($);case _e:e:{for(Ce=H.key;F!==null;){if(F.key===Ce)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){l($,F.sibling),F=f(F,H.children||[]),F.return=$,$=F;break e}else{l($,F);break}else s($,F);F=F.sibling}F=ef(H,$.mode,ae),F.return=$,$=F}return w($);case Je:return Ce=H._init,wt($,F,Ce(H._payload),ae)}if(Y(H))return we($,F,H,ae);if(ge(H))return Te($,F,H,ae);Vu($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(l($,F.sibling),F=f(F,H),F.return=$,$=F):(l($,F),F=Zd(H,$.mode,ae),F.return=$,$=F),w($)):l($,F)}return wt}var Do=Qm(!0),Ym=Qm(!1),bu=Ai(null),Lu=null,Vo=null,ud=null;function cd(){ud=Vo=Lu=null}function hd(r){var s=bu.current;ut(bu),r._currentValue=s}function dd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function bo(r,s){Lu=r,ud=Vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(mn=!0),r.firstContext=null)}function Bn(r){var s=r._currentValue;if(ud!==r)if(r={context:r,memoizedValue:s,next:null},Vo===null){if(Lu===null)throw Error(t(308));Vo=r,Lu.dependencies={lanes:0,firstContext:r}}else Vo=Vo.next=r;return s}var As=null;function fd(r){As===null?As=[r]:As.push(r)}function Xm(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,fd(s)):(l.next=f.next,f.next=l),s.interleaved=l,Gr(r,h)}function Gr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Pi=!1;function pd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Qr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ki(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Ze&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Gr(r,l)}return f=h.interleaved,f===null?(s.next=s,fd(h)):(s.next=f.next,f.next=s),h.interleaved=s,Gr(r,l)}function Ou(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,vi(r,l)}}function Zm(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Mu(r,s,l,h){var f=r.updateQueue;Pi=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var O=C,K=O.next;O.next=null,w===null?g=K:w.next=K,w=O;var re=r.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==w&&(C===null?re.firstBaseUpdate=K:C.next=K,re.lastBaseUpdate=O))}if(g!==null){var ie=f.baseState;w=0,re=K=O=null,C=g;do{var ne=C.lane,pe=C.eventTime;if((h&ne)===ne){re!==null&&(re=re.next={eventTime:pe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var we=r,Te=C;switch(ne=s,pe=l,Te.tag){case 1:if(we=Te.payload,typeof we=="function"){ie=we.call(pe,ie,ne);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Te.payload,ne=typeof we=="function"?we.call(pe,ie,ne):we,ne==null)break e;ie=ce({},ie,ne);break e;case 2:Pi=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,ne=f.effects,ne===null?f.effects=[C]:ne.push(C))}else pe={eventTime:pe,lane:ne,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(K=re=pe,O=ie):re=re.next=pe,w|=ne;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ne=C,C=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);if(re===null&&(O=ie),f.baseState=O,f.firstBaseUpdate=K,f.lastBaseUpdate=re,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Ps|=w,r.lanes=w,r.memoizedState=ie}}function eg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var $a={},Tr=Ai($a),qa=Ai($a),Ha=Ai($a);function Rs(r){if(r===$a)throw Error(t(174));return r}function md(r,s){switch(at(Ha,s),at(qa,r),at(Tr,$a),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:$e(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=$e(s,r)}ut(Tr),at(Tr,s)}function Lo(){ut(Tr),ut(qa),ut(Ha)}function tg(r){Rs(Ha.current);var s=Rs(Tr.current),l=$e(s,r.type);s!==l&&(at(qa,r),at(Tr,l))}function gd(r){qa.current===r&&(ut(Tr),ut(qa))}var pt=Ai(0);function Fu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yd=[];function vd(){for(var r=0;r<yd.length;r++)yd[r]._workInProgressVersionPrimary=null;yd.length=0}var Uu=ee.ReactCurrentDispatcher,_d=ee.ReactCurrentBatchConfig,Cs=0,mt=null,Nt=null,Mt=null,ju=!1,Wa=!1,Ka=0,CE=0;function Yt(){throw Error(t(321))}function wd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!ir(r[l],s[l]))return!1;return!0}function Ed(r,s,l,h,f,g){if(Cs=g,mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Uu.current=r===null||r.memoizedState===null?NE:DE,r=l(h,f),Wa){g=0;do{if(Wa=!1,Ka=0,25<=g)throw Error(t(301));g+=1,Mt=Nt=null,s.updateQueue=null,Uu.current=VE,r=l(h,f)}while(Wa)}if(Uu.current=$u,s=Nt!==null&&Nt.next!==null,Cs=0,Mt=Nt=mt=null,ju=!1,s)throw Error(t(300));return r}function Td(){var r=Ka!==0;return Ka=0,r}function Ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?mt.memoizedState=Mt=r:Mt=Mt.next=r,Mt}function zn(){if(Nt===null){var r=mt.alternate;r=r!==null?r.memoizedState:null}else r=Nt.next;var s=Mt===null?mt.memoizedState:Mt.next;if(s!==null)Mt=s,Nt=r;else{if(r===null)throw Error(t(310));Nt=r,r={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Mt===null?mt.memoizedState=Mt=r:Mt=Mt.next=r}return Mt}function Ga(r,s){return typeof s=="function"?s(r):s}function Id(r){var s=zn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=Nt,f=h.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,h=h.baseState;var C=w=null,O=null,K=g;do{var re=K.lane;if((Cs&re)===re)O!==null&&(O=O.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:r(h,K.action);else{var ie={lane:re,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};O===null?(C=O=ie,w=h):O=O.next=ie,mt.lanes|=re,Ps|=re}K=K.next}while(K!==null&&K!==g);O===null?w=h:O.next=C,ir(h,s.memoizedState)||(mn=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=O,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do g=f.lane,mt.lanes|=g,Ps|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Sd(r){var s=zn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);ir(g,s.memoizedState)||(mn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function ng(){}function rg(r,s){var l=mt,h=zn(),f=s(),g=!ir(h.memoizedState,f);if(g&&(h.memoizedState=f,mn=!0),h=h.queue,Ad(og.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Qa(9,sg.bind(null,l,h,f,s),void 0,null),Ft===null)throw Error(t(349));Cs&30||ig(l,s,f)}return f}function ig(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=mt.updateQueue,s===null?(s={lastEffect:null,stores:null},mt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function sg(r,s,l,h){s.value=l,s.getSnapshot=h,ag(s)&&lg(r)}function og(r,s,l){return l(function(){ag(s)&&lg(r)})}function ag(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!ir(r,l)}catch{return!0}}function lg(r){var s=Gr(r,1);s!==null&&ur(s,r,1,-1)}function ug(r){var s=Ir();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:r},s.queue=r,r=r.dispatch=xE.bind(null,mt,r),[s.memoizedState,r]}function Qa(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=mt.updateQueue,s===null?(s={lastEffect:null,stores:null},mt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function cg(){return zn().memoizedState}function Bu(r,s,l,h){var f=Ir();mt.flags|=r,f.memoizedState=Qa(1|s,l,void 0,h===void 0?null:h)}function zu(r,s,l,h){var f=zn();h=h===void 0?null:h;var g=void 0;if(Nt!==null){var w=Nt.memoizedState;if(g=w.destroy,h!==null&&wd(h,w.deps)){f.memoizedState=Qa(s,l,g,h);return}}mt.flags|=r,f.memoizedState=Qa(1|s,l,g,h)}function hg(r,s){return Bu(8390656,8,r,s)}function Ad(r,s){return zu(2048,8,r,s)}function dg(r,s){return zu(4,2,r,s)}function fg(r,s){return zu(4,4,r,s)}function pg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function mg(r,s,l){return l=l!=null?l.concat([r]):null,zu(4,4,pg.bind(null,s,r),l)}function Rd(){}function gg(r,s){var l=zn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&wd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function yg(r,s){var l=zn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&wd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function vg(r,s,l){return Cs&21?(ir(l,s)||(l=gs(),mt.lanes|=l,Ps|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,mn=!0),r.memoizedState=l)}function PE(r,s){var l=Ge;Ge=l!==0&&4>l?l:4,r(!0);var h=_d.transition;_d.transition={};try{r(!1),s()}finally{Ge=l,_d.transition=h}}function _g(){return zn().memoizedState}function kE(r,s,l){var h=Vi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},wg(r))Eg(s,l);else if(l=Xm(r,s,l,h),l!==null){var f=ln();ur(l,r,h,f),Tg(l,s,h)}}function xE(r,s,l){var h=Vi(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(wg(r))Eg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,C=g(w,l);if(f.hasEagerState=!0,f.eagerState=C,ir(C,w)){var O=s.interleaved;O===null?(f.next=f,fd(s)):(f.next=O.next,O.next=f),s.interleaved=f;return}}catch{}finally{}l=Xm(r,s,f,h),l!==null&&(f=ln(),ur(l,r,h,f),Tg(l,s,h))}}function wg(r){var s=r.alternate;return r===mt||s!==null&&s===mt}function Eg(r,s){Wa=ju=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Tg(r,s,l){if(l&4194240){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,vi(r,l)}}var $u={readContext:Bn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},NE={readContext:Bn,useCallback:function(r,s){return Ir().memoizedState=[r,s===void 0?null:s],r},useContext:Bn,useEffect:hg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Bu(4194308,4,pg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Bu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Bu(4,2,r,s)},useMemo:function(r,s){var l=Ir();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=Ir();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=kE.bind(null,mt,r),[h.memoizedState,r]},useRef:function(r){var s=Ir();return r={current:r},s.memoizedState=r},useState:ug,useDebugValue:Rd,useDeferredValue:function(r){return Ir().memoizedState=r},useTransition:function(){var r=ug(!1),s=r[0];return r=PE.bind(null,r[1]),Ir().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=mt,f=Ir();if(ft){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ft===null)throw Error(t(349));Cs&30||ig(h,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,hg(og.bind(null,h,g,r),[r]),h.flags|=2048,Qa(9,sg.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=Ir(),s=Ft.identifierPrefix;if(ft){var l=Kr,h=Wr;l=(h&~(1<<32-sn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ka++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=CE++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},DE={readContext:Bn,useCallback:gg,useContext:Bn,useEffect:Ad,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:fg,useMemo:yg,useReducer:Id,useRef:cg,useState:function(){return Id(Ga)},useDebugValue:Rd,useDeferredValue:function(r){var s=zn();return vg(s,Nt.memoizedState,r)},useTransition:function(){var r=Id(Ga)[0],s=zn().memoizedState;return[r,s]},useMutableSource:ng,useSyncExternalStore:rg,useId:_g,unstable_isNewReconciler:!1},VE={readContext:Bn,useCallback:gg,useContext:Bn,useEffect:Ad,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:fg,useMemo:yg,useReducer:Sd,useRef:cg,useState:function(){return Sd(Ga)},useDebugValue:Rd,useDeferredValue:function(r){var s=zn();return Nt===null?s.memoizedState=r:vg(s,Nt.memoizedState,r)},useTransition:function(){var r=Sd(Ga)[0],s=zn().memoizedState;return[r,s]},useMutableSource:ng,useSyncExternalStore:rg,useId:_g,unstable_isNewReconciler:!1};function or(r,s){if(r&&r.defaultProps){s=ce({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Cd(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:ce({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var qu={isMounted:function(r){return(r=r._reactInternals)?Xn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=ln(),f=Vi(r),g=Qr(h,f);g.payload=s,l!=null&&(g.callback=l),s=ki(r,g,f),s!==null&&(ur(s,r,f,h),Ou(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=ln(),f=Vi(r),g=Qr(h,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=ki(r,g,f),s!==null&&(ur(s,r,f,h),Ou(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=ln(),h=Vi(r),f=Qr(l,h);f.tag=2,s!=null&&(f.callback=s),s=ki(r,f,h),s!==null&&(ur(s,r,h,l),Ou(s,r,h))}};function Ig(r,s,l,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!La(l,h)||!La(f,g):!0}function Sg(r,s,l){var h=!1,f=Ri,g=s.contextType;return typeof g=="object"&&g!==null?g=Bn(g):(f=pn(s)?Ts:Qt.current,h=s.contextTypes,g=(h=h!=null)?Po(r,f):Ri),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=qu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Ag(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&qu.enqueueReplaceState(s,s.state,null)}function Pd(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},pd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Bn(g):(g=pn(s)?Ts:Qt.current,f.context=Po(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Cd(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&qu.enqueueReplaceState(f,f.state,null),Mu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Oo(r,s){try{var l="",h=s;do l+=xe(h),h=h.return;while(h);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function kd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function xd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var bE=typeof WeakMap=="function"?WeakMap:Map;function Rg(r,s,l){l=Qr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Xu||(Xu=!0,Hd=h),xd(r,s)},l}function Cg(r,s,l){l=Qr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){xd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){xd(r,s),typeof h!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function Pg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new bE;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=GE.bind(null,r,s,l),s.then(r,r))}function kg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function xg(r,s,l,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Qr(-1,1),s.tag=2,ki(l,s,1))),l.lanes|=1),r)}var LE=ee.ReactCurrentOwner,mn=!1;function an(r,s,l,h){s.child=r===null?Ym(s,null,l,h):Do(s,r.child,l,h)}function Ng(r,s,l,h,f){l=l.render;var g=s.ref;return bo(s,f),h=Ed(r,s,l,h,g,f),l=Td(),r!==null&&!mn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Yr(r,s,f)):(ft&&l&&id(s),s.flags|=1,an(r,s,h,f),s.child)}function Dg(r,s,l,h,f){if(r===null){var g=l.type;return typeof g=="function"&&!Jd(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Vg(r,s,g,h,f)):(r=rc(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:La,l(w,h)&&r.ref===s.ref)return Yr(r,s,f)}return s.flags|=1,r=Li(g,h),r.ref=s.ref,r.return=s,s.child=r}function Vg(r,s,l,h,f){if(r!==null){var g=r.memoizedProps;if(La(g,h)&&r.ref===s.ref)if(mn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(mn=!0);else return s.lanes=r.lanes,Yr(r,s,f)}return Nd(r,s,l,h,f)}function bg(r,s,l){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Fo,Pn),Pn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,at(Fo,Pn),Pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,at(Fo,Pn),Pn|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,at(Fo,Pn),Pn|=h;return an(r,s,f,l),s.child}function Lg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Nd(r,s,l,h,f){var g=pn(l)?Ts:Qt.current;return g=Po(s,g),bo(s,f),l=Ed(r,s,l,h,g,f),h=Td(),r!==null&&!mn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Yr(r,s,f)):(ft&&h&&id(s),s.flags|=1,an(r,s,l,f),s.child)}function Og(r,s,l,h,f){if(pn(l)){var g=!0;Pu(s)}else g=!1;if(bo(s,f),s.stateNode===null)Wu(r,s),Sg(s,l,h),Pd(s,l,h,f),h=!0;else if(r===null){var w=s.stateNode,C=s.memoizedProps;w.props=C;var O=w.context,K=l.contextType;typeof K=="object"&&K!==null?K=Bn(K):(K=pn(l)?Ts:Qt.current,K=Po(s,K));var re=l.getDerivedStateFromProps,ie=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==h||O!==K)&&Ag(s,w,h,K),Pi=!1;var ne=s.memoizedState;w.state=ne,Mu(s,h,w,f),O=s.memoizedState,C!==h||ne!==O||fn.current||Pi?(typeof re=="function"&&(Cd(s,l,re,h),O=s.memoizedState),(C=Pi||Ig(s,l,C,h,ne,O,K))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=O),w.props=h,w.state=O,w.context=K,h=C):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,Jm(r,s),C=s.memoizedProps,K=s.type===s.elementType?C:or(s.type,C),w.props=K,ie=s.pendingProps,ne=w.context,O=l.contextType,typeof O=="object"&&O!==null?O=Bn(O):(O=pn(l)?Ts:Qt.current,O=Po(s,O));var pe=l.getDerivedStateFromProps;(re=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==ie||ne!==O)&&Ag(s,w,h,O),Pi=!1,ne=s.memoizedState,w.state=ne,Mu(s,h,w,f);var we=s.memoizedState;C!==ie||ne!==we||fn.current||Pi?(typeof pe=="function"&&(Cd(s,l,pe,h),we=s.memoizedState),(K=Pi||Ig(s,l,K,h,ne,we,O)||!1)?(re||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,we,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,we,O)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=we),w.props=h,w.state=we,w.context=O,h=K):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),h=!1)}return Dd(r,s,l,h,g,f)}function Dd(r,s,l,h,f,g){Lg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&Bm(s,l,!1),Yr(r,s,g);h=s.stateNode,LE.current=s;var C=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=Do(s,r.child,null,g),s.child=Do(s,null,C,g)):an(r,s,C,g),s.memoizedState=h.state,f&&Bm(s,l,!0),s.child}function Mg(r){var s=r.stateNode;s.pendingContext?Um(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Um(r,s.context,!1),md(r,s.containerInfo)}function Fg(r,s,l,h,f){return No(),ld(f),s.flags|=256,an(r,s,l,h),s.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function bd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ug(r,s,l){var h=s.pendingProps,f=pt.current,g=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(f&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),at(pt,f&1),r===null)return ad(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=ic(w,h,0,null),r=Ds(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=bd(l),s.memoizedState=Vd,r):Ld(s,w));if(f=r.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return OE(r,s,w,h,C,f,l);if(g){g=h.fallback,w=s.mode,f=r.child,C=f.sibling;var O={mode:"hidden",children:h.children};return!(w&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=O,s.deletions=null):(h=Li(f,O),h.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=Li(C,g):(g=Ds(g,w,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?bd(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,s.memoizedState=Vd,h}return g=r.child,r=g.sibling,h=Li(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Ld(r,s){return s=ic({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Hu(r,s,l,h){return h!==null&&ld(h),Do(s,r.child,null,l),r=Ld(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function OE(r,s,l,h,f,g,w){if(l)return s.flags&256?(s.flags&=-257,h=kd(Error(t(422))),Hu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=ic({mode:"visible",children:h.children},f,0,null),g=Ds(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Do(s,r.child,null,w),s.child.memoizedState=bd(w),s.memoizedState=Vd,g);if(!(s.mode&1))return Hu(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var C=h.dgst;return h=C,g=Error(t(419)),h=kd(g,h,void 0),Hu(r,s,w,h)}if(C=(w&r.childLanes)!==0,mn||C){if(h=Ft,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Gr(r,f),ur(h,r,f,-1))}return Xd(),h=kd(Error(t(421))),Hu(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=QE.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Cn=Si(f.nextSibling),Rn=s,ft=!0,sr=null,r!==null&&(Un[jn++]=Wr,Un[jn++]=Kr,Un[jn++]=Is,Wr=r.id,Kr=r.overflow,Is=s),s=Ld(s,h.children),s.flags|=4096,s)}function jg(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),dd(r.return,s,l)}function Od(r,s,l,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=f)}function Bg(r,s,l){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(an(r,s,h.children,l),h=pt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jg(r,l,s);else if(r.tag===19)jg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(at(pt,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&Fu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Od(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Fu(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Od(s,!0,l,null,g);break;case"together":Od(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Wu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Yr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ps|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Li(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Li(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function ME(r,s,l){switch(s.tag){case 3:Mg(s),No();break;case 5:tg(s);break;case 1:pn(s.type)&&Pu(s);break;case 4:md(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;at(bu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(at(pt,pt.current&1),s.flags|=128,null):l&s.child.childLanes?Ug(r,s,l):(at(pt,pt.current&1),r=Yr(r,s,l),r!==null?r.sibling:null);at(pt,pt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,r.flags&128){if(h)return Bg(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(pt,pt.current),h)break;return null;case 22:case 23:return s.lanes=0,bg(r,s,l)}return Yr(r,s,l)}var zg,Md,$g,qg;zg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Md=function(){},$g=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Rs(Tr.current);var g=null;switch(l){case"input":f=fr(r,f),h=fr(r,h),g=[];break;case"select":f=ce({},f,{value:void 0}),h=ce({},h,{value:void 0}),g=[];break;case"textarea":f=le(r,f),h=le(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Au)}ga(l,h);var w;l=null;for(K in f)if(!h.hasOwnProperty(K)&&f.hasOwnProperty(K)&&f[K]!=null)if(K==="style"){var C=f[K];for(w in C)C.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in h){var O=h[K];if(C=f!=null?f[K]:void 0,h.hasOwnProperty(K)&&O!==C&&(O!=null||C!=null))if(K==="style")if(C){for(w in C)!C.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in O)O.hasOwnProperty(w)&&C[w]!==O[w]&&(l||(l={}),l[w]=O[w])}else l||(g||(g=[]),g.push(K,l)),l=O;else K==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,C=C?C.__html:void 0,O!=null&&C!==O&&(g=g||[]).push(K,O)):K==="children"?typeof O!="string"&&typeof O!="number"||(g=g||[]).push(K,""+O):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(O!=null&&K==="onScroll"&&lt("scroll",r),g||C===O||(g=[])):(g=g||[]).push(K,O))}l&&(g=g||[]).push("style",l);var K=g;(s.updateQueue=K)&&(s.flags|=4)}},qg=function(r,s,l,h){l!==h&&(s.flags|=4)};function Ya(r,s){if(!ft)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Xt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function FE(r,s,l){var h=s.pendingProps;switch(sd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return pn(s.type)&&Cu(),Xt(s),null;case 3:return h=s.stateNode,Lo(),ut(fn),ut(Qt),vd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Du(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,sr!==null&&(Gd(sr),sr=null))),Md(r,s),Xt(s),null;case 5:gd(s);var f=Rs(Ha.current);if(l=s.type,r!==null&&s.stateNode!=null)$g(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Xt(s),null}if(r=Rs(Tr.current),Du(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[Er]=s,h[ja]=g,r=(s.mode&1)!==0,l){case"dialog":lt("cancel",h),lt("close",h);break;case"iframe":case"object":case"embed":lt("load",h);break;case"video":case"audio":for(f=0;f<Ma.length;f++)lt(Ma[f],h);break;case"source":lt("error",h);break;case"img":case"image":case"link":lt("error",h),lt("load",h);break;case"details":lt("toggle",h);break;case"input":ss(h,g),lt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},lt("invalid",h);break;case"textarea":oe(h,g),lt("invalid",h)}ga(l,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var C=g[w];w==="children"?typeof C=="string"?h.textContent!==C&&(g.suppressHydrationWarning!==!0&&Su(h.textContent,C,r),f=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&Su(h.textContent,C,r),f=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&lt("scroll",h)}switch(l){case"input":Vn(h),L(h,g,!0);break;case"textarea":Vn(h),Me(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Au)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ze(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(l,{is:h.is}):(r=w.createElement(l),l==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,l),r[Er]=s,r[ja]=h,zg(r,s,!1,!1),s.stateNode=r;e:{switch(w=ya(l,h),l){case"dialog":lt("cancel",r),lt("close",r),f=h;break;case"iframe":case"object":case"embed":lt("load",r),f=h;break;case"video":case"audio":for(f=0;f<Ma.length;f++)lt(Ma[f],r);f=h;break;case"source":lt("error",r),f=h;break;case"img":case"image":case"link":lt("error",r),lt("load",r),f=h;break;case"details":lt("toggle",r),f=h;break;case"input":ss(r,h),f=fr(r,h),lt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=ce({},h,{value:void 0}),lt("invalid",r);break;case"textarea":oe(r,h),f=le(r,h),lt("invalid",r);break;default:f=h}ga(l,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var O=C[g];g==="style"?as(r,O):g==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&os(r,O)):g==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&bn(r,O):typeof O=="number"&&bn(r,""+O):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?O!=null&&g==="onScroll"&&lt("scroll",r):O!=null&&G(r,g,O,w))}switch(l){case"input":Vn(r),L(r,h,!1);break;case"textarea":Vn(r),Me(r);break;case"option":h.value!=null&&r.setAttribute("value",""+He(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?he(r,!!h.multiple,g,!1):h.defaultValue!=null&&he(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Au)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Xt(s),null;case 6:if(r&&s.stateNode!=null)qg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Rs(Ha.current),Rs(Tr.current),Du(s)){if(h=s.stateNode,l=s.memoizedProps,h[Er]=s,(g=h.nodeValue!==l)&&(r=Rn,r!==null))switch(r.tag){case 3:Su(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Su(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Er]=s,s.stateNode=h}return Xt(s),null;case 13:if(ut(pt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ft&&Cn!==null&&s.mode&1&&!(s.flags&128))Km(),No(),s.flags|=98560,g=!1;else if(g=Du(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Er]=s}else No(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Xt(s),g=!1}else sr!==null&&(Gd(sr),sr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||pt.current&1?Dt===0&&(Dt=3):Xd())),s.updateQueue!==null&&(s.flags|=4),Xt(s),null);case 4:return Lo(),Md(r,s),r===null&&Fa(s.stateNode.containerInfo),Xt(s),null;case 10:return hd(s.type._context),Xt(s),null;case 17:return pn(s.type)&&Cu(),Xt(s),null;case 19:if(ut(pt),g=s.memoizedState,g===null)return Xt(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Ya(g,!1);else{if(Dt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Fu(r),w!==null){for(s.flags|=128,Ya(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return at(pt,pt.current&1|2),s.child}r=r.sibling}g.tail!==null&&ot()>Uo&&(s.flags|=128,h=!0,Ya(g,!1),s.lanes=4194304)}else{if(!h)if(r=Fu(w),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ya(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!ft)return Xt(s),null}else 2*ot()-g.renderingStartTime>Uo&&l!==1073741824&&(s.flags|=128,h=!0,Ya(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(l=g.last,l!==null?l.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ot(),s.sibling=null,l=pt.current,at(pt,h?l&1|2:l&1),s):(Xt(s),null);case 22:case 23:return Yd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Pn&1073741824&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function UE(r,s){switch(sd(s),s.tag){case 1:return pn(s.type)&&Cu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Lo(),ut(fn),ut(Qt),vd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return gd(s),null;case 13:if(ut(pt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));No()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ut(pt),null;case 4:return Lo(),null;case 10:return hd(s.type._context),null;case 22:case 23:return Yd(),null;case 24:return null;default:return null}}var Ku=!1,Jt=!1,jE=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Mo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){vt(r,s,h)}else l.current=null}function Fd(r,s,l){try{l()}catch(h){vt(r,s,h)}}var Hg=!1;function BE(r,s){if(Yh=Ei,r=Im(),zh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,C=-1,O=-1,K=0,re=0,ie=r,ne=null;t:for(;;){for(var pe;ie!==l||f!==0&&ie.nodeType!==3||(C=w+f),ie!==g||h!==0&&ie.nodeType!==3||(O=w+h),ie.nodeType===3&&(w+=ie.nodeValue.length),(pe=ie.firstChild)!==null;)ne=ie,ie=pe;for(;;){if(ie===r)break t;if(ne===l&&++K===f&&(C=w),ne===g&&++re===h&&(O=w),(pe=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=pe}l=C===-1||O===-1?null:{start:C,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xh={focusedElem:r,selectionRange:l},Ei=!1,ye=s;ye!==null;)if(s=ye,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ye=r;else for(;ye!==null;){s=ye;try{var we=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Te=we.memoizedProps,wt=we.memoizedState,$=s.stateNode,F=$.getSnapshotBeforeUpdate(s.elementType===s.type?Te:or(s.type,Te),wt);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){vt(s,s.return,ae)}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}return we=Hg,Hg=!1,we}function Xa(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Fd(s,l,g)}f=f.next}while(f!==h)}}function Gu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Ud(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Wg(r){var s=r.alternate;s!==null&&(r.alternate=null,Wg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Er],delete s[ja],delete s[td],delete s[IE],delete s[SE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Kg(r){return r.tag===5||r.tag===3||r.tag===4}function Gg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Kg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Au));else if(h!==4&&(r=r.child,r!==null))for(jd(r,s,l),r=r.sibling;r!==null;)jd(r,s,l),r=r.sibling}function Bd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Bd(r,s,l),r=r.sibling;r!==null;)Bd(r,s,l),r=r.sibling}var qt=null,ar=!1;function xi(r,s,l){for(l=l.child;l!==null;)Qg(r,s,l),l=l.sibling}function Qg(r,s,l){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(ps,l)}catch{}switch(l.tag){case 5:Jt||Mo(l,s);case 6:var h=qt,f=ar;qt=null,xi(r,s,l),qt=h,ar=f,qt!==null&&(ar?(r=qt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):qt.removeChild(l.stateNode));break;case 18:qt!==null&&(ar?(r=qt,l=l.stateNode,r.nodeType===8?ed(r.parentNode,l):r.nodeType===1&&ed(r,l),nr(r)):ed(qt,l.stateNode));break;case 4:h=qt,f=ar,qt=l.stateNode.containerInfo,ar=!0,xi(r,s,l),qt=h,ar=f;break;case 0:case 11:case 14:case 15:if(!Jt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Fd(l,s,w),f=f.next}while(f!==h)}xi(r,s,l);break;case 1:if(!Jt&&(Mo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(C){vt(l,s,C)}xi(r,s,l);break;case 21:xi(r,s,l);break;case 22:l.mode&1?(Jt=(h=Jt)||l.memoizedState!==null,xi(r,s,l),Jt=h):xi(r,s,l);break;default:xi(r,s,l)}}function Yg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new jE),s.forEach(function(h){var f=YE.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function lr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var g=r,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 5:qt=C.stateNode,ar=!1;break e;case 3:qt=C.stateNode.containerInfo,ar=!0;break e;case 4:qt=C.stateNode.containerInfo,ar=!0;break e}C=C.return}if(qt===null)throw Error(t(160));Qg(g,w,f),qt=null,ar=!1;var O=f.alternate;O!==null&&(O.return=null),f.return=null}catch(K){vt(f,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Xg(s,r),s=s.sibling}function Xg(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(lr(s,r),Sr(r),h&4){try{Xa(3,r,r.return),Gu(3,r)}catch(Te){vt(r,r.return,Te)}try{Xa(5,r,r.return)}catch(Te){vt(r,r.return,Te)}}break;case 1:lr(s,r),Sr(r),h&512&&l!==null&&Mo(l,l.return);break;case 5:if(lr(s,r),Sr(r),h&512&&l!==null&&Mo(l,l.return),r.flags&32){var f=r.stateNode;try{bn(f,"")}catch(Te){vt(r,r.return,Te)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,C=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Xs(f,g),ya(C,w);var K=ya(C,g);for(w=0;w<O.length;w+=2){var re=O[w],ie=O[w+1];re==="style"?as(f,ie):re==="dangerouslySetInnerHTML"?os(f,ie):re==="children"?bn(f,ie):G(f,re,ie,K)}switch(C){case"input":Js(f,g);break;case"textarea":Se(f,g);break;case"select":var ne=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var pe=g.value;pe!=null?he(f,!!g.multiple,pe,!1):ne!==!!g.multiple&&(g.defaultValue!=null?he(f,!!g.multiple,g.defaultValue,!0):he(f,!!g.multiple,g.multiple?[]:"",!1))}f[ja]=g}catch(Te){vt(r,r.return,Te)}}break;case 6:if(lr(s,r),Sr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(Te){vt(r,r.return,Te)}}break;case 3:if(lr(s,r),Sr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{nr(s.containerInfo)}catch(Te){vt(r,r.return,Te)}break;case 4:lr(s,r),Sr(r);break;case 13:lr(s,r),Sr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(qd=ot())),h&4&&Yg(r);break;case 22:if(re=l!==null&&l.memoizedState!==null,r.mode&1?(Jt=(K=Jt)||re,lr(s,r),Jt=K):lr(s,r),Sr(r),h&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!re&&r.mode&1)for(ye=r,re=r.child;re!==null;){for(ie=ye=re;ye!==null;){switch(ne=ye,pe=ne.child,ne.tag){case 0:case 11:case 14:case 15:Xa(4,ne,ne.return);break;case 1:Mo(ne,ne.return);var we=ne.stateNode;if(typeof we.componentWillUnmount=="function"){h=ne,l=ne.return;try{s=h,we.props=s.memoizedProps,we.state=s.memoizedState,we.componentWillUnmount()}catch(Te){vt(h,l,Te)}}break;case 5:Mo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){ey(ie);continue}}pe!==null?(pe.return=ne,ye=pe):ey(ie)}re=re.sibling}e:for(re=null,ie=r;;){if(ie.tag===5){if(re===null){re=ie;try{f=ie.stateNode,K?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=ie.stateNode,O=ie.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,C.style.display=di("display",w))}catch(Te){vt(r,r.return,Te)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=K?"":ie.memoizedProps}catch(Te){vt(r,r.return,Te)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:lr(s,r),Sr(r),h&4&&Yg(r);break;case 21:break;default:lr(s,r),Sr(r)}}function Sr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Kg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(bn(f,""),h.flags&=-33);var g=Gg(r);Bd(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,C=Gg(r);jd(r,C,w);break;default:throw Error(t(161))}}catch(O){vt(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function zE(r,s,l){ye=r,Jg(r)}function Jg(r,s,l){for(var h=(r.mode&1)!==0;ye!==null;){var f=ye,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||Ku;if(!w){var C=f.alternate,O=C!==null&&C.memoizedState!==null||Jt;C=Ku;var K=Jt;if(Ku=w,(Jt=O)&&!K)for(ye=f;ye!==null;)w=ye,O=w.child,w.tag===22&&w.memoizedState!==null?ty(f):O!==null?(O.return=w,ye=O):ty(f);for(;g!==null;)ye=g,Jg(g),g=g.sibling;ye=f,Ku=C,Jt=K}Zg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ye=g):Zg(r)}}function Zg(r){for(;ye!==null;){var s=ye;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Jt||Gu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Jt)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:or(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&eg(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}eg(s,w,l)}break;case 5:var C=s.stateNode;if(l===null&&s.flags&4){l=C;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var re=K.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&nr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||s.flags&512&&Ud(s)}catch(ne){vt(s,s.return,ne)}}if(s===r){ye=null;break}if(l=s.sibling,l!==null){l.return=s.return,ye=l;break}ye=s.return}}function ey(r){for(;ye!==null;){var s=ye;if(s===r){ye=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ye=l;break}ye=s.return}}function ty(r){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Gu(4,s)}catch(O){vt(s,l,O)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(O){vt(s,f,O)}}var g=s.return;try{Ud(s)}catch(O){vt(s,g,O)}break;case 5:var w=s.return;try{Ud(s)}catch(O){vt(s,w,O)}}}catch(O){vt(s,s.return,O)}if(s===r){ye=null;break}var C=s.sibling;if(C!==null){C.return=s.return,ye=C;break}ye=s.return}}var $E=Math.ceil,Qu=ee.ReactCurrentDispatcher,zd=ee.ReactCurrentOwner,$n=ee.ReactCurrentBatchConfig,Ze=0,Ft=null,Rt=null,Ht=0,Pn=0,Fo=Ai(0),Dt=0,Ja=null,Ps=0,Yu=0,$d=0,Za=null,gn=null,qd=0,Uo=1/0,Xr=null,Xu=!1,Hd=null,Ni=null,Ju=!1,Di=null,Zu=0,el=0,Wd=null,ec=-1,tc=0;function ln(){return Ze&6?ot():ec!==-1?ec:ec=ot()}function Vi(r){return r.mode&1?Ze&2&&Ht!==0?Ht&-Ht:RE.transition!==null?(tc===0&&(tc=gs()),tc):(r=Ge,r!==0||(r=window.event,r=r===void 0?16:Pa(r.type)),r):1}function ur(r,s,l,h){if(50<el)throw el=0,Wd=null,Error(t(185));yi(r,l,h),(!(Ze&2)||r!==Ft)&&(r===Ft&&(!(Ze&2)&&(Yu|=l),Dt===4&&bi(r,Ht)),yn(r,h),l===1&&Ze===0&&!(s.mode&1)&&(Uo=ot()+500,ku&&Ci()))}function yn(r,s){var l=r.callbackNode;Ur(r,s);var h=ms(r,r===Ft?Ht:0);if(h===0)l!==null&&Ia(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Ia(l),s===1)r.tag===0?AE(ry.bind(null,r)):zm(ry.bind(null,r)),EE(function(){!(Ze&6)&&Ci()}),l=null;else{switch(_i(h)){case 1:l=fs;break;case 4:l=pi;break;case 16:l=On;break;case 536870912:l=tu;break;default:l=On}l=hy(l,ny.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function ny(r,s){if(ec=-1,tc=0,Ze&6)throw Error(t(327));var l=r.callbackNode;if(jo()&&r.callbackNode!==l)return null;var h=ms(r,r===Ft?Ht:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=nc(r,h);else{s=h;var f=Ze;Ze|=2;var g=sy();(Ft!==r||Ht!==s)&&(Xr=null,Uo=ot()+500,xs(r,s));do try{WE();break}catch(C){iy(r,C)}while(!0);cd(),Qu.current=g,Ze=f,Rt!==null?s=0:(Ft=null,Ht=0,s=Dt)}if(s!==0){if(s===2&&(f=In(r),f!==0&&(h=f,s=Kd(r,f))),s===1)throw l=Ja,xs(r,0),bi(r,h),yn(r,ot()),l;if(s===6)bi(r,h);else{if(f=r.current.alternate,!(h&30)&&!qE(f)&&(s=nc(r,h),s===2&&(g=In(r),g!==0&&(h=g,s=Kd(r,g))),s===1))throw l=Ja,xs(r,0),bi(r,h),yn(r,ot()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ns(r,gn,Xr);break;case 3:if(bi(r,h),(h&130023424)===h&&(s=qd+500-ot(),10<s)){if(ms(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){ln(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Zh(Ns.bind(null,r,gn,Xr),s);break}Ns(r,gn,Xr);break;case 4:if(bi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-sn(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=ot()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*$E(h/1960))-h,10<h){r.timeoutHandle=Zh(Ns.bind(null,r,gn,Xr),h);break}Ns(r,gn,Xr);break;case 5:Ns(r,gn,Xr);break;default:throw Error(t(329))}}}return yn(r,ot()),r.callbackNode===l?ny.bind(null,r):null}function Kd(r,s){var l=Za;return r.current.memoizedState.isDehydrated&&(xs(r,s).flags|=256),r=nc(r,s),r!==2&&(s=gn,gn=l,s!==null&&Gd(s)),r}function Gd(r){gn===null?gn=r:gn.push.apply(gn,r)}function qE(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],g=f.getSnapshot;f=f.value;try{if(!ir(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bi(r,s){for(s&=~$d,s&=~Yu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-sn(s),h=1<<l;r[l]=-1,s&=~h}}function ry(r){if(Ze&6)throw Error(t(327));jo();var s=ms(r,0);if(!(s&1))return yn(r,ot()),null;var l=nc(r,s);if(r.tag!==0&&l===2){var h=In(r);h!==0&&(s=h,l=Kd(r,h))}if(l===1)throw l=Ja,xs(r,0),bi(r,s),yn(r,ot()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ns(r,gn,Xr),yn(r,ot()),null}function Qd(r,s){var l=Ze;Ze|=1;try{return r(s)}finally{Ze=l,Ze===0&&(Uo=ot()+500,ku&&Ci())}}function ks(r){Di!==null&&Di.tag===0&&!(Ze&6)&&jo();var s=Ze;Ze|=1;var l=$n.transition,h=Ge;try{if($n.transition=null,Ge=1,r)return r()}finally{Ge=h,$n.transition=l,Ze=s,!(Ze&6)&&Ci()}}function Yd(){Pn=Fo.current,ut(Fo)}function xs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,wE(l)),Rt!==null)for(l=Rt.return;l!==null;){var h=l;switch(sd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Cu();break;case 3:Lo(),ut(fn),ut(Qt),vd();break;case 5:gd(h);break;case 4:Lo();break;case 13:ut(pt);break;case 19:ut(pt);break;case 10:hd(h.type._context);break;case 22:case 23:Yd()}l=l.return}if(Ft=r,Rt=r=Li(r.current,null),Ht=Pn=s,Dt=0,Ja=null,$d=Yu=Ps=0,gn=Za=null,As!==null){for(s=0;s<As.length;s++)if(l=As[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,g=l.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}l.pending=h}As=null}return r}function iy(r,s){do{var l=Rt;try{if(cd(),Uu.current=$u,ju){for(var h=mt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}ju=!1}if(Cs=0,Mt=Nt=mt=null,Wa=!1,Ka=0,zd.current=null,l===null||l.return===null){Dt=1,Ja=s,Rt=null;break}e:{var g=r,w=l.return,C=l,O=s;if(s=Ht,C.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=O,re=C,ie=re.tag;if(!(re.mode&1)&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var pe=kg(w);if(pe!==null){pe.flags&=-257,xg(pe,w,C,g,s),pe.mode&1&&Pg(g,K,s),s=pe,O=K;var we=s.updateQueue;if(we===null){var Te=new Set;Te.add(O),s.updateQueue=Te}else we.add(O);break e}else{if(!(s&1)){Pg(g,K,s),Xd();break e}O=Error(t(426))}}else if(ft&&C.mode&1){var wt=kg(w);if(wt!==null){!(wt.flags&65536)&&(wt.flags|=256),xg(wt,w,C,g,s),ld(Oo(O,C));break e}}g=O=Oo(O,C),Dt!==4&&(Dt=2),Za===null?Za=[g]:Za.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var $=Rg(g,O,s);Zm(g,$);break e;case 1:C=O;var F=g.type,H=g.stateNode;if(!(g.flags&128)&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ni===null||!Ni.has(H)))){g.flags|=65536,s&=-s,g.lanes|=s;var ae=Cg(g,C,s);Zm(g,ae);break e}}g=g.return}while(g!==null)}ay(l)}catch(Ie){s=Ie,Rt===l&&l!==null&&(Rt=l=l.return);continue}break}while(!0)}function sy(){var r=Qu.current;return Qu.current=$u,r===null?$u:r}function Xd(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||!(Ps&268435455)&&!(Yu&268435455)||bi(Ft,Ht)}function nc(r,s){var l=Ze;Ze|=2;var h=sy();(Ft!==r||Ht!==s)&&(Xr=null,xs(r,s));do try{HE();break}catch(f){iy(r,f)}while(!0);if(cd(),Ze=l,Qu.current=h,Rt!==null)throw Error(t(261));return Ft=null,Ht=0,Dt}function HE(){for(;Rt!==null;)oy(Rt)}function WE(){for(;Rt!==null&&!Zl();)oy(Rt)}function oy(r){var s=cy(r.alternate,r,Pn);r.memoizedProps=r.pendingProps,s===null?ay(r):Rt=s,zd.current=null}function ay(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=UE(l,s),l!==null){l.flags&=32767,Rt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Dt=6,Rt=null;return}}else if(l=FE(l,s,Pn),l!==null){Rt=l;return}if(s=s.sibling,s!==null){Rt=s;return}Rt=s=r}while(s!==null);Dt===0&&(Dt=5)}function Ns(r,s,l){var h=Ge,f=$n.transition;try{$n.transition=null,Ge=1,KE(r,s,l,h)}finally{$n.transition=f,Ge=h}return null}function KE(r,s,l,h){do jo();while(Di!==null);if(Ze&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(st(r,g),r===Ft&&(Rt=Ft=null,Ht=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Ju||(Ju=!0,hy(On,function(){return jo(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=$n.transition,$n.transition=null;var w=Ge;Ge=1;var C=Ze;Ze|=4,zd.current=null,BE(r,l),Xg(l,r),fE(Xh),Ei=!!Yh,Xh=Yh=null,r.current=l,zE(l),bh(),Ze=C,Ge=w,$n.transition=g}else r.current=l;if(Ju&&(Ju=!1,Di=r,Zu=f),g=r.pendingLanes,g===0&&(Ni=null),nu(l.stateNode),yn(r,ot()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(Xu)throw Xu=!1,r=Hd,Hd=null,r;return Zu&1&&r.tag!==0&&jo(),g=r.pendingLanes,g&1?r===Wd?el++:(el=0,Wd=r):el=0,Ci(),null}function jo(){if(Di!==null){var r=_i(Zu),s=$n.transition,l=Ge;try{if($n.transition=null,Ge=16>r?16:r,Di===null)var h=!1;else{if(r=Di,Di=null,Zu=0,Ze&6)throw Error(t(331));var f=Ze;for(Ze|=4,ye=r.current;ye!==null;){var g=ye,w=g.child;if(ye.flags&16){var C=g.deletions;if(C!==null){for(var O=0;O<C.length;O++){var K=C[O];for(ye=K;ye!==null;){var re=ye;switch(re.tag){case 0:case 11:case 15:Xa(8,re,g)}var ie=re.child;if(ie!==null)ie.return=re,ye=ie;else for(;ye!==null;){re=ye;var ne=re.sibling,pe=re.return;if(Wg(re),re===K){ye=null;break}if(ne!==null){ne.return=pe,ye=ne;break}ye=pe}}}var we=g.alternate;if(we!==null){var Te=we.child;if(Te!==null){we.child=null;do{var wt=Te.sibling;Te.sibling=null,Te=wt}while(Te!==null)}}ye=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ye=w;else e:for(;ye!==null;){if(g=ye,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Xa(9,g,g.return)}var $=g.sibling;if($!==null){$.return=g.return,ye=$;break e}ye=g.return}}var F=r.current;for(ye=F;ye!==null;){w=ye;var H=w.child;if(w.subtreeFlags&2064&&H!==null)H.return=w,ye=H;else e:for(w=F;ye!==null;){if(C=ye,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Gu(9,C)}}catch(Ie){vt(C,C.return,Ie)}if(C===w){ye=null;break e}var ae=C.sibling;if(ae!==null){ae.return=C.return,ye=ae;break e}ye=C.return}}if(Ze=f,Ci(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(ps,r)}catch{}h=!0}return h}finally{Ge=l,$n.transition=s}}return!1}function ly(r,s,l){s=Oo(l,s),s=Rg(r,s,1),r=ki(r,s,1),s=ln(),r!==null&&(yi(r,1,s),yn(r,s))}function vt(r,s,l){if(r.tag===3)ly(r,r,l);else for(;s!==null;){if(s.tag===3){ly(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ni===null||!Ni.has(h))){r=Oo(l,r),r=Cg(s,r,1),s=ki(s,r,1),r=ln(),s!==null&&(yi(s,1,r),yn(s,r));break}}s=s.return}}function GE(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=ln(),r.pingedLanes|=r.suspendedLanes&l,Ft===r&&(Ht&l)===l&&(Dt===4||Dt===3&&(Ht&130023424)===Ht&&500>ot()-qd?xs(r,0):$d|=l),yn(r,s)}function uy(r,s){s===0&&(r.mode&1?(s=lo,lo<<=1,!(lo&130023424)&&(lo=4194304)):s=1);var l=ln();r=Gr(r,s),r!==null&&(yi(r,s,l),yn(r,l))}function QE(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),uy(r,l)}function YE(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),uy(r,l)}var cy;cy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||fn.current)mn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return mn=!1,ME(r,s,l);mn=!!(r.flags&131072)}else mn=!1,ft&&s.flags&1048576&&$m(s,Nu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Wu(r,s),r=s.pendingProps;var f=Po(s,Qt.current);bo(s,l),f=Ed(null,s,h,r,f,l);var g=Td();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,pn(h)?(g=!0,Pu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,pd(s),f.updater=qu,s.stateNode=f,f._reactInternals=s,Pd(s,h,r,l),s=Dd(null,s,h,!0,g,l)):(s.tag=0,ft&&g&&id(s),an(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Wu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=JE(h),r=or(h,r),f){case 0:s=Nd(null,s,h,r,l);break e;case 1:s=Og(null,s,h,r,l);break e;case 11:s=Ng(null,s,h,r,l);break e;case 14:s=Dg(null,s,h,or(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:or(h,f),Nd(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:or(h,f),Og(r,s,h,f,l);case 3:e:{if(Mg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,Jm(r,s),Mu(s,h,null,l);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Oo(Error(t(423)),s),s=Fg(r,s,h,l,f);break e}else if(h!==f){f=Oo(Error(t(424)),s),s=Fg(r,s,h,l,f);break e}else for(Cn=Si(s.stateNode.containerInfo.firstChild),Rn=s,ft=!0,sr=null,l=Ym(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(No(),h===f){s=Yr(r,s,l);break e}an(r,s,h,l)}s=s.child}return s;case 5:return tg(s),r===null&&ad(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,Jh(h,f)?w=null:g!==null&&Jh(h,g)&&(s.flags|=32),Lg(r,s),an(r,s,w,l),s.child;case 6:return r===null&&ad(s),null;case 13:return Ug(r,s,l);case 4:return md(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Do(s,null,h,l):an(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:or(h,f),Ng(r,s,h,f,l);case 7:return an(r,s,s.pendingProps,l),s.child;case 8:return an(r,s,s.pendingProps.children,l),s.child;case 12:return an(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,at(bu,h._currentValue),h._currentValue=w,g!==null)if(ir(g.value,w)){if(g.children===f.children&&!fn.current){s=Yr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){w=g.child;for(var O=C.firstContext;O!==null;){if(O.context===h){if(g.tag===1){O=Qr(-1,l&-l),O.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var re=K.pending;re===null?O.next=O:(O.next=re.next,re.next=O),K.pending=O}}g.lanes|=l,O=g.alternate,O!==null&&(O.lanes|=l),dd(g.return,l,s),C.lanes|=l;break}O=O.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=l,C=w.alternate,C!==null&&(C.lanes|=l),dd(w,l,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}an(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,bo(s,l),f=Bn(f),h=h(f),s.flags|=1,an(r,s,h,l),s.child;case 14:return h=s.type,f=or(h,s.pendingProps),f=or(h.type,f),Dg(r,s,h,f,l);case 15:return Vg(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:or(h,f),Wu(r,s),s.tag=1,pn(h)?(r=!0,Pu(s)):r=!1,bo(s,l),Sg(s,h,f),Pd(s,h,f,l),Dd(null,s,h,!0,r,l);case 19:return Bg(r,s,l);case 22:return bg(r,s,l)}throw Error(t(156,s.tag))};function hy(r,s){return oo(r,s)}function XE(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(r,s,l,h){return new XE(r,s,l,h)}function Jd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function JE(r){if(typeof r=="function")return Jd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===Ue)return 14}return 2}function Li(r,s){var l=r.alternate;return l===null?(l=qn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function rc(r,s,l,h,f,g){var w=2;if(h=r,typeof r=="function")Jd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case D:return Ds(l.children,f,g,s);case I:w=8,f|=8;break;case A:return r=qn(12,l,s,f|2),r.elementType=A,r.lanes=g,r;case R:return r=qn(13,l,s,f),r.elementType=R,r.lanes=g,r;case Ne:return r=qn(19,l,s,f),r.elementType=Ne,r.lanes=g,r;case ke:return ic(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:w=10;break e;case M:w=9;break e;case b:w=11;break e;case Ue:w=14;break e;case Je:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=qn(w,l,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Ds(r,s,l,h){return r=qn(7,r,h,s),r.lanes=l,r}function ic(r,s,l,h){return r=qn(22,r,h,s),r.elementType=ke,r.lanes=l,r.stateNode={isHidden:!1},r}function Zd(r,s,l){return r=qn(6,r,null,s),r.lanes=l,r}function ef(r,s,l){return s=qn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function ZE(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function tf(r,s,l,h,f,g,w,C,O){return r=new ZE(r,s,l,C,O),s===1?(s=1,g===!0&&(s|=8)):s=0,g=qn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},pd(g),r}function e1(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function dy(r){if(!r)return Ri;r=r._reactInternals;e:{if(Xn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(pn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(pn(l))return jm(r,l,s)}return s}function fy(r,s,l,h,f,g,w,C,O){return r=tf(l,h,!0,r,f,g,w,C,O),r.context=dy(null),l=r.current,h=ln(),f=Vi(l),g=Qr(h,f),g.callback=s??null,ki(l,g,f),r.current.lanes=f,yi(r,f,h),yn(r,h),r}function sc(r,s,l,h){var f=s.current,g=ln(),w=Vi(f);return l=dy(l),s.context===null?s.context=l:s.pendingContext=l,s=Qr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ki(f,s,w),r!==null&&(ur(r,f,w,g),Ou(r,f,w)),w}function oc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function py(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function nf(r,s){py(r,s),(r=r.alternate)&&py(r,s)}function t1(){return null}var my=typeof reportError=="function"?reportError:function(r){console.error(r)};function rf(r){this._internalRoot=r}ac.prototype.render=rf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));sc(r,s,null,null)},ac.prototype.unmount=rf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ks(function(){sc(null,r,null,null)}),s[qr]=null}};function ac(r){this._internalRoot=r}ac.prototype.unstable_scheduleHydration=function(r){if(r){var s=au();r={blockedOn:null,target:r,priority:s};for(var l=0;l<yr.length&&s!==0&&s<yr[l].priority;l++);yr.splice(l,0,r),l===0&&cu(r)}};function sf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function lc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function gy(){}function n1(r,s,l,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var K=oc(w);g.call(K)}}var w=fy(s,h,r,0,null,!1,!1,"",gy);return r._reactRootContainer=w,r[qr]=w.current,Fa(r.nodeType===8?r.parentNode:r),ks(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var C=h;h=function(){var K=oc(O);C.call(K)}}var O=tf(r,0,!1,null,null,!1,!1,"",gy);return r._reactRootContainer=O,r[qr]=O.current,Fa(r.nodeType===8?r.parentNode:r),ks(function(){sc(s,O,l,h)}),O}function uc(r,s,l,h,f){var g=l._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var C=f;f=function(){var O=oc(w);C.call(O)}}sc(s,w,r,f)}else w=n1(l,s,r,f,h);return oc(w)}su=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=mi(s.pendingLanes);l!==0&&(vi(s,l|1),yn(s,ot()),!(Ze&6)&&(Uo=ot()+500,Ci()))}break;case 13:ks(function(){var h=Gr(r,1);if(h!==null){var f=ln();ur(h,r,1,f)}}),nf(r,1)}},uo=function(r){if(r.tag===13){var s=Gr(r,134217728);if(s!==null){var l=ln();ur(s,r,134217728,l)}nf(r,134217728)}},ou=function(r){if(r.tag===13){var s=Vi(r),l=Gr(r,s);if(l!==null){var h=ln();ur(l,r,s,h)}nf(r,s)}},au=function(){return Ge},lu=function(r,s){var l=Ge;try{return Ge=r,s()}finally{Ge=l}},eo=function(r,s,l){switch(s){case"input":if(Js(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=Ru(h);if(!f)throw Error(t(90));hi(h),Js(h,f)}}}break;case"textarea":Se(r,l);break;case"select":s=l.value,s!=null&&he(r,!!l.multiple,s,!1)}},us=Qd,_a=ks;var r1={usingClientEntryPoint:!1,Events:[Ba,Ro,Ru,mr,va,Qd]},tl={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i1={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ta(r),r===null?null:r.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||t1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{ps=cc.inject(i1),Tn=cc}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r1,vn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sf(s))throw Error(t(200));return e1(r,s,null,l)},vn.createRoot=function(r,s){if(!sf(r))throw Error(t(299));var l=!1,h="",f=my;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=tf(r,1,!1,null,null,l,!1,h,f),r[qr]=s.current,Fa(r.nodeType===8?r.parentNode:r),new rf(s)},vn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ta(s),r=r===null?null:r.stateNode,r},vn.flushSync=function(r){return ks(r)},vn.hydrate=function(r,s,l){if(!lc(s))throw Error(t(200));return uc(null,r,s,!0,l)},vn.hydrateRoot=function(r,s,l){if(!sf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,g="",w=my;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=fy(s,null,r,1,l??null,f,!1,g,w),r[qr]=s.current,Fa(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new ac(s)},vn.render=function(r,s,l){if(!lc(s))throw Error(t(200));return uc(null,r,s,!1,l)},vn.unmountComponentAtNode=function(r){if(!lc(r))throw Error(t(40));return r._reactRootContainer?(ks(function(){uc(null,null,r,!1,function(){r._reactRootContainer=null,r[qr]=null})}),!0):!1},vn.unstable_batchedUpdates=Qd,vn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!lc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return uc(r,s,l,!1,h)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var Sy;function f1(){if(Sy)return lf.exports;Sy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lf.exports=d1(),lf.exports}var Ay;function p1(){if(Ay)return hc;Ay=1;var n=f1();return hc.createRoot=n.createRoot,hc.hydrateRoot=n.hydrateRoot,hc}var m1=p1(),rl={},Ry;function g1(){if(Ry)return rl;Ry=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.parse=c,rl.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,k){const V=new a,x=S.length;if(x<2)return V;const N=(k==null?void 0:k.decode)||_;let j=0;do{const B=S.indexOf("=",j);if(B===-1)break;const G=S.indexOf(";",j),ee=G===-1?x:G;if(B>ee){j=S.lastIndexOf(";",B-1)+1;continue}const de=d(S,j,B),_e=p(S,B,de),D=S.slice(de,_e);if(V[D]===void 0){let I=d(S,B+1,ee),A=p(S,ee,I);const P=N(S.slice(I,A));V[D]=P}j=ee+1}while(j<x);return V}function d(S,k,V){do{const x=S.charCodeAt(k);if(x!==32&&x!==9)return k}while(++k<V);return V}function p(S,k,V){for(;k>V;){const x=S.charCodeAt(--k);if(x!==32&&x!==9)return k+1}return V}function y(S,k,V){const x=(V==null?void 0:V.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const N=x(k);if(!e.test(N))throw new TypeError(`argument val is invalid: ${k}`);let j=S+"="+N;if(!V)return j;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);j+="; Max-Age="+V.maxAge}if(V.domain){if(!t.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);j+="; Domain="+V.domain}if(V.path){if(!i.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);j+="; Path="+V.path}if(V.expires){if(!E(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);j+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(j+="; HttpOnly"),V.secure&&(j+="; Secure"),V.partitioned&&(j+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return j}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function E(S){return o.call(S)==="[object Date]"}return rl}g1();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cy="popstate";function y1(n={}){function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return kf("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:wl(o)}return _1(e,t,null,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function br(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v1(){return Math.random().toString(36).substring(2,10)}function Py(n,e){return{usr:n.state,key:n.key,idx:e}}function kf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:t,key:e&&e.key||i||v1()}}function wl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function oa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function _1(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d="POP",p=null,y=_();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function _(){return(c.state||{idx:null}).idx}function E(){d="POP";let N=_(),j=N==null?null:N-y;y=N,p&&p({action:d,location:x.location,delta:j})}function S(N,j){d="PUSH";let B=kf(x.location,N,j);y=_()+1;let G=Py(B,y),ee=x.createHref(B);try{c.pushState(G,"",ee)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ee)}a&&p&&p({action:d,location:x.location,delta:1})}function k(N,j){d="REPLACE";let B=kf(x.location,N,j);y=_();let G=Py(B,y),ee=x.createHref(B);c.replaceState(G,"",ee),a&&p&&p({action:d,location:x.location,delta:0})}function V(N){let j=o.location.origin!=="null"?o.location.origin:o.location.href,B=typeof N=="string"?N:wl(N);return B=B.replace(/ $/,"%20"),gt(j,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,j)}let x={get action(){return d},get location(){return n(o,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Cy,E),p=N,()=>{o.removeEventListener(Cy,E),p=null}},createHref(N){return e(o,N)},createURL:V,encodeLocation(N){let j=V(N);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:S,replace:k,go(N){return c.go(N)}};return x}function l0(n,e,t="/"){return w1(n,e,t,!1)}function w1(n,e,t,i){let o=typeof e=="string"?oa(e):e,a=Qi(o.pathname||"/",t);if(a==null)return null;let c=u0(n);E1(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=D1(a);d=x1(c[p],y,i)}return d}function u0(n,e=[],t=[],i=""){let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(gt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=ni([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(gt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),u0(a.children,e,_,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:P1(y,a.index),routesMeta:_})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of c0(a.path))o(a,c,p)}),e}function c0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=c0(i.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function E1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:k1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var T1=/^:[\w-]+$/,I1=3,S1=2,A1=1,R1=10,C1=-2,ky=n=>n==="*";function P1(n,e){let t=n.split("/"),i=t.length;return t.some(ky)&&(i+=C1),e&&(i+=S1),t.filter(o=>!ky(o)).reduce((o,a)=>o+(T1.test(a)?I1:a===""?A1:R1),i)}function k1(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function x1(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=Mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),S=p.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=Mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:ni([a,E.pathname]),pathnameBase:O1(ni([a,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(a=ni([a,E.pathnameBase]))}return c}function Mc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=N1(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:E},S)=>{if(_==="*"){let V=d[S]||"";c=a.slice(0,a.length-V.length).replace(/(.)\/+$/,"$1")}const k=d[S];return E&&!k?y[_]=void 0:y[_]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:n}}function N1(n,e=!1,t=!0){br(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function D1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function V1(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?oa(n):n;return{pathname:t?t.startsWith("/")?t:b1(t,e):e,search:M1(i),hash:F1(o)}}function b1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function hf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function h0(n){let e=L1(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function d0(n,e,t,i=!1){let o;typeof n=="string"?o=oa(n):(o={...n},gt(!o.pathname||!o.pathname.includes("?"),hf("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),hf("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),hf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}d=E>=0?e[E]:"/"}let p=V1(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var ni=n=>n.join("/").replace(/\/\/+/g,"/"),O1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),M1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,F1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function U1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var f0=["POST","PUT","PATCH","DELETE"];new Set(f0);var j1=["GET",...f0];new Set(j1);var aa=q.createContext(null);aa.displayName="DataRouter";var sh=q.createContext(null);sh.displayName="DataRouterState";var p0=q.createContext({isTransitioning:!1});p0.displayName="ViewTransition";var B1=q.createContext(new Map);B1.displayName="Fetchers";var z1=q.createContext(null);z1.displayName="Await";var Or=q.createContext(null);Or.displayName="Navigation";var bl=q.createContext(null);bl.displayName="Location";var ui=q.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var lp=q.createContext(null);lp.displayName="RouteError";function $1(n,{relative:e}={}){gt(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=q.useContext(Or),{hash:o,pathname:a,search:c}=Ml(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:ni([t,a])),i.createHref({pathname:d,search:c,hash:o})}function Ll(){return q.useContext(bl)!=null}function Hs(){return gt(Ll(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(bl).location}var m0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function g0(n){q.useContext(Or).static||q.useLayoutEffect(n)}function Ol(){let{isDataRoute:n}=q.useContext(ui);return n?nT():q1()}function q1(){gt(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(aa),{basename:e,navigator:t}=q.useContext(Or),{matches:i}=q.useContext(ui),{pathname:o}=Hs(),a=JSON.stringify(h0(i)),c=q.useRef(!1);return g0(()=>{c.current=!0}),q.useCallback((p,y={})=>{if(br(c.current,m0),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=d0(p,JSON.parse(a),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ni([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,a,o,n])}q.createContext(null);function Ml(n,{relative:e}={}){let{matches:t}=q.useContext(ui),{pathname:i}=Hs(),o=JSON.stringify(h0(t));return q.useMemo(()=>d0(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function H1(n,e){return y0(n,e)}function y0(n,e,t,i){var j;gt(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(Or),{matches:a}=q.useContext(ui),c=a[a.length-1],d=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",_=c&&c.route;{let B=_&&_.path||"";v0(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=Hs(),S;if(e){let B=typeof e=="string"?oa(e):e;gt(y==="/"||((j=B.pathname)==null?void 0:j.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=E;let k=S.pathname||"/",V=k;if(y!=="/"){let B=y.replace(/^\//,"").split("/");V="/"+k.replace(/^\//,"").split("/").slice(B.length).join("/")}let x=l0(n,{pathname:V});br(_||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),br(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Y1(x&&x.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:ni([y,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:ni([y,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),a,t,i);return e&&N?q.createElement(bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function W1(){let n=tT(),e=U1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:a},"ErrorBoundary")," or"," ",q.createElement("code",{style:a},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:o},t):null,c)}var K1=q.createElement(W1,null),G1=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(ui.Provider,{value:this.props.routeContext},q.createElement(lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q1({routeContext:n,match:e,children:t}){let i=q.useContext(aa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(ui.Provider,{value:n},t)}function Y1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);gt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:_,errors:E}=t,S=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let E,S=!1,k=null,V=null;t&&(E=a&&y.route.id?a[y.route.id]:void 0,k=y.route.errorElement||K1,c&&(d<0&&_===0?(v0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):d===_&&(S=!0,V=y.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,_+1)),N=()=>{let j;return E?j=k:S?j=V:y.route.Component?j=q.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=p,q.createElement(Q1,{match:y,routeContext:{outlet:p,matches:x,isDataRoute:t!=null},children:j})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?q.createElement(G1,{location:t.location,revalidation:t.revalidation,component:k,error:E,children:N(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):N()},null)}function up(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X1(n){let e=q.useContext(aa);return gt(e,up(n)),e}function J1(n){let e=q.useContext(sh);return gt(e,up(n)),e}function Z1(n){let e=q.useContext(ui);return gt(e,up(n)),e}function cp(n){let e=Z1(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function eT(){return cp("useRouteId")}function tT(){var i;let n=q.useContext(lp),e=J1("useRouteError"),t=cp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function nT(){let{router:n}=X1("useNavigate"),e=cp("useNavigate"),t=q.useRef(!1);return g0(()=>{t.current=!0}),q.useCallback(async(o,a={})=>{br(t.current,m0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var xy={};function v0(n,e,t){!e&&!xy[n]&&(xy[n]=!0,br(!1,t))}q.memo(rT);function rT({routes:n,future:e,state:t}){return y0(n,void 0,t,e)}function Ec(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){gt(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=oa(t));let{pathname:p="/",search:y="",hash:_="",state:E=null,key:S="default"}=t,k=q.useMemo(()=>{let V=Qi(p,c);return V==null?null:{location:{pathname:V,search:y,hash:_,state:E,key:S},navigationType:i}},[c,p,y,_,E,S,i]);return br(k!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:q.createElement(Or.Provider,{value:d},q.createElement(bl.Provider,{children:e,value:k}))}function sT({children:n,location:e}){return H1(xf(n),e)}function xf(n,e=[]){let t=[];return q.Children.forEach(n,(i,o)=>{if(!q.isValidElement(i))return;let a=[...e,o];if(i.type===q.Fragment){t.push.apply(t,xf(i.props.children,a));return}gt(i.type===Ec,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=xf(i.props.children,a)),t.push(c)}),t}var Tc="get",Ic="application/x-www-form-urlencoded";function oh(n){return n!=null&&typeof n.tagName=="string"}function oT(n){return oh(n)&&n.tagName.toLowerCase()==="button"}function aT(n){return oh(n)&&n.tagName.toLowerCase()==="form"}function lT(n){return oh(n)&&n.tagName.toLowerCase()==="input"}function uT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function cT(n,e){return n.button===0&&(!e||e==="_self")&&!uT(n)}var dc=null;function hT(){if(dc===null)try{new FormData(document.createElement("form"),0),dc=!1}catch{dc=!0}return dc}var dT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function df(n){return n!=null&&!dT.has(n)?(br(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ic}"`),null):n}function fT(n,e){let t,i,o,a,c;if(aT(n)){let d=n.getAttribute("action");i=d?Qi(d,e):null,t=n.getAttribute("method")||Tc,o=df(n.getAttribute("enctype"))||Ic,a=new FormData(n)}else if(oT(n)||lT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Qi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Tc,o=df(n.getAttribute("formenctype"))||df(d.getAttribute("enctype"))||Ic,a=new FormData(d,n),!hT()){let{name:y,type:_,value:E}=n;if(_==="image"){let S=y?`${y}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else y&&a.append(y,E)}}else{if(oh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tc,i=null,o=Ic,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function hp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function pT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gT(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await pT(a,t);return c.links?c.links():[]}return[]}));return wT(i.flat(1).filter(mT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ny(n,e,t,i,o,a){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,y)=>c(p,y)||d(p,y)):a==="data"?e.filter((p,y)=>{var E;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function yT(n,e){return vT(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function vT(n){return[...new Set(n)]}function _T(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function wT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(_T(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function ET(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function TT(){let n=q.useContext(aa);return hp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function IT(){let n=q.useContext(sh);return hp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dp=q.createContext(void 0);dp.displayName="FrameworkContext";function _0(){let n=q.useContext(dp);return hp(n,"You must render this element inside a <HydratedRouter> element"),n}function ST(n,e){let t=q.useContext(dp),[i,o]=q.useState(!1),[a,c]=q.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,S=q.useRef(null);q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let x=j=>{j.forEach(B=>{c(B.isIntersecting)})},N=new IntersectionObserver(x,{threshold:.5});return S.current&&N.observe(S.current),()=>{N.disconnect()}}},[n]),q.useEffect(()=>{if(i){let x=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(x)}}},[i]);let k=()=>{o(!0)},V=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,S,{}]:[a,S,{onFocus:il(d,k),onBlur:il(p,V),onMouseEnter:il(y,k),onMouseLeave:il(_,V),onTouchStart:il(E,k)}]:[!1,S,{}]}function il(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function AT({page:n,...e}){let{router:t}=TT(),i=q.useMemo(()=>l0(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?q.createElement(CT,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function RT(n){let{manifest:e,routeModules:t}=_0(),[i,o]=q.useState([]);return q.useEffect(()=>{let a=!1;return gT(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function CT({page:n,matches:e,...t}){let i=Hs(),{manifest:o,routeModules:a}=_0(),{loaderData:c,matches:d}=IT(),p=q.useMemo(()=>Ny(n,e,d,o,i,"data"),[n,e,d,o,i]),y=q.useMemo(()=>Ny(n,e,d,o,i,"assets"),[n,e,d,o,i]),_=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let k=new Set,V=!1;if(e.forEach(N=>{var B;let j=o.routes[N.route.id];!j||!j.hasLoader||(!p.some(G=>G.route.id===N.route.id)&&N.route.id in c&&((B=a[N.route.id])!=null&&B.shouldRevalidate)||j.hasClientLoader?V=!0:k.add(N.route.id))}),k.size===0)return[];let x=ET(n);return V&&k.size>0&&x.searchParams.set("_routes",e.filter(N=>k.has(N.route.id)).map(N=>N.route.id).join(",")),[x.pathname+x.search]},[c,i,o,p,e,n,a]),E=q.useMemo(()=>yT(y,o),[y,o]),S=RT(y);return q.createElement(q.Fragment,null,_.map(k=>q.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),E.map(k=>q.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),S.map(({key:k,link:V})=>q.createElement("link",{key:k,...V})))}function PT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var w0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w0&&(window.__reactRouterVersion="7.0.2")}catch{}function kT({basename:n,children:e,window:t}){let i=q.useRef();i.current==null&&(i.current=y1({window:t,v5Compat:!0}));let o=i.current,[a,c]=q.useState({action:o.action,location:o.location}),d=q.useCallback(p=>{q.startTransition(()=>c(p))},[c]);return q.useLayoutEffect(()=>o.listen(d),[o,d]),q.createElement(iT,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T0=q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:d,target:p,to:y,preventScrollReset:_,viewTransition:E,...S},k){let{basename:V}=q.useContext(Or),x=typeof y=="string"&&E0.test(y),N,j=!1;if(typeof y=="string"&&x&&(N=y,w0))try{let A=new URL(window.location.href),P=y.startsWith("//")?new URL(A.protocol+y):new URL(y),M=Qi(P.pathname,V);P.origin===A.origin&&M!=null?y=M+P.search+P.hash:j=!0}catch{br(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=$1(y,{relative:o}),[G,ee,de]=ST(i,S),_e=VT(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E});function D(A){e&&e(A),A.defaultPrevented||_e(A)}let I=q.createElement("a",{...S,...de,href:N||B,onClick:j||a?e:D,ref:PT(k,ee),target:p,"data-discover":!x&&t==="render"?"true":void 0});return G&&!x?q.createElement(q.Fragment,null,I,q.createElement(AT,{page:B})):I});T0.displayName="Link";var xT=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:p,...y},_){let E=Ml(c,{relative:y.relative}),S=Hs(),k=q.useContext(sh),{navigator:V,basename:x}=q.useContext(Or),N=k!=null&&FT(E)&&d===!0,j=V.encodeLocation?V.encodeLocation(E).pathname:E.pathname,B=S.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(B=B.toLowerCase(),G=G?G.toLowerCase():null,j=j.toLowerCase()),G&&x&&(G=Qi(G,x)||G);const ee=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let de=B===j||!o&&B.startsWith(j)&&B.charAt(ee)==="/",_e=G!=null&&(G===j||!o&&G.startsWith(j)&&G.charAt(j.length)==="/"),D={isActive:de,isPending:_e,isTransitioning:N},I=de?e:void 0,A;typeof i=="function"?A=i(D):A=[i,de?"active":null,_e?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(D):a;return q.createElement(T0,{...y,"aria-current":I,className:A,ref:_,style:P,to:c,viewTransition:d},typeof p=="function"?p(D):p)});xT.displayName="NavLink";var NT=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=Tc,action:d,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:E,...S},k)=>{let V=OT(),x=MT(d,{relative:y}),N=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&E0.test(d),B=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let ee=G.nativeEvent.submitter,de=(ee==null?void 0:ee.getAttribute("formmethod"))||c;V(ee||G.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:o,state:a,relative:y,preventScrollReset:_,viewTransition:E})};return q.createElement("form",{ref:k,method:N,action:x,onSubmit:i?p:B,...S,"data-discover":!j&&n==="render"?"true":void 0})});NT.displayName="Form";function DT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I0(n){let e=q.useContext(aa);return gt(e,DT(n)),e}function VT(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=Ol(),p=Hs(),y=Ml(n,{relative:a});return q.useCallback(_=>{if(cT(_,e)){_.preventDefault();let E=t!==void 0?t:wl(p)===wl(y);d(n,{replace:E,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,d,y,t,i,e,n,o,a,c])}var bT=0,LT=()=>`__${String(++bT)}__`;function OT(){let{router:n}=I0("useSubmit"),{basename:e}=q.useContext(Or),t=eT();return q.useCallback(async(i,o={})=>{let{action:a,method:c,encType:d,formData:p,body:y}=fT(i,e);if(o.navigate===!1){let _=o.fetcherKey||LT();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function MT(n,{relative:e}={}){let{basename:t}=q.useContext(Or),i=q.useContext(ui);gt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Ml(n||".",{relative:e})},c=Hs();if(n==null){a.search=c.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ni([t,a.pathname])),wl(a)}function FT(n,e={}){let t=q.useContext(p0);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=I0("useViewTransitionState"),o=Ml(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Qi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Qi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Mc(o.pathname,c)!=null||Mc(o.pathname,a)!=null}new TextEncoder;function S0(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=S0(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function $i(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=S0(n))&&(i&&(i+=" "),i+=e);return i}const El=n=>typeof n=="number"&&!isNaN(n),Os=n=>typeof n=="string",kn=n=>typeof n=="function",Sc=n=>Os(n)||kn(n)?n:null,Nf=n=>q.isValidElement(n)||Os(n)||kn(n)||El(n);function UT(n,e,t){t===void 0&&(t=300);const{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function ah(n){let{enter:e,exit:t,appendPosition:i=!1,collapse:o=!0,collapseDuration:a=300}=n;return function(c){let{children:d,position:p,preventExitTransition:y,done:_,nodeRef:E,isIn:S,playToast:k}=c;const V=i?`${e}--${p}`:e,x=i?`${t}--${p}`:t,N=q.useRef(0);return q.useLayoutEffect(()=>{const j=E.current,B=V.split(" "),G=ee=>{ee.target===E.current&&(k(),j.removeEventListener("animationend",G),j.removeEventListener("animationcancel",G),N.current===0&&ee.type!=="animationcancel"&&j.classList.remove(...B))};j.classList.add(...B),j.addEventListener("animationend",G),j.addEventListener("animationcancel",G)},[]),q.useEffect(()=>{const j=E.current,B=()=>{j.removeEventListener("animationend",B),o?UT(j,_,a):_()};S||(y?B():(N.current=1,j.className+=` ${x}`,j.addEventListener("animationend",B)))},[S]),Be.createElement(Be.Fragment,null,d)}}function Dy(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const cn=new Map;let Tl=[];const Df=new Set,jT=n=>Df.forEach(e=>e(n)),A0=()=>cn.size>0;function R0(n,e){var t;if(e)return!((t=cn.get(e))==null||!t.isToastActive(n));let i=!1;return cn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function C0(n,e){Nf(n)&&(A0()||Tl.push({content:n,options:e}),cn.forEach(t=>{t.buildToast(n,e)}))}function Vy(n,e){cn.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function BT(n){const{subscribe:e,getSnapshot:t,setProps:i}=q.useRef(function(a){const c=a.containerId||1;return{subscribe(d){const p=function(_,E,S){let k=1,V=0,x=[],N=[],j=[],B=E;const G=new Map,ee=new Set,de=()=>{j=Array.from(G.values()),ee.forEach(I=>I())},_e=I=>{N=I==null?[]:N.filter(A=>A!==I),de()},D=I=>{const{toastId:A,onOpen:P,updateId:M,children:b}=I.props,R=M==null;I.staleId&&G.delete(I.staleId),G.set(A,I),N=[...N,I.props.toastId].filter(Ne=>Ne!==I.staleId),de(),S(Dy(I,R?"added":"updated")),R&&kn(P)&&P(q.isValidElement(b)&&b.props)};return{id:_,props:B,observe:I=>(ee.add(I),()=>ee.delete(I)),toggle:(I,A)=>{G.forEach(P=>{A!=null&&A!==P.props.toastId||kn(P.toggle)&&P.toggle(I)})},removeToast:_e,toasts:G,clearQueue:()=>{V-=x.length,x=[]},buildToast:(I,A)=>{if((J=>{let{containerId:fe,toastId:Ae,updateId:xe}=J;const Le=fe?fe!==_:_!==1,je=G.has(Ae)&&xe==null;return Le||je})(A))return;const{toastId:P,updateId:M,data:b,staleId:R,delay:Ne}=A,Ue=()=>{_e(P)},Je=M==null;Je&&V++;const ke={...B,style:B.toastStyle,key:k++,...Object.fromEntries(Object.entries(A).filter(J=>{let[fe,Ae]=J;return Ae!=null})),toastId:P,updateId:M,data:b,closeToast:Ue,isIn:!1,className:Sc(A.className||B.toastClassName),bodyClassName:Sc(A.bodyClassName||B.bodyClassName),progressClassName:Sc(A.progressClassName||B.progressClassName),autoClose:!A.isLoading&&(se=A.autoClose,ge=B.autoClose,se===!1||El(se)&&se>0?se:ge),deleteToast(){const J=G.get(P),{onClose:fe,children:Ae}=J.props;kn(fe)&&fe(q.isValidElement(Ae)&&Ae.props),S(Dy(J,"removed")),G.delete(P),V--,V<0&&(V=0),x.length>0?D(x.shift()):de()}};var se,ge;ke.closeButton=B.closeButton,A.closeButton===!1||Nf(A.closeButton)?ke.closeButton=A.closeButton:A.closeButton===!0&&(ke.closeButton=!Nf(B.closeButton)||B.closeButton);let ce=I;q.isValidElement(I)&&!Os(I.type)?ce=q.cloneElement(I,{closeToast:Ue,toastProps:ke,data:b}):kn(I)&&(ce=I({closeToast:Ue,toastProps:ke,data:b}));const U={content:ce,props:ke,staleId:R};B.limit&&B.limit>0&&V>B.limit&&Je?x.push(U):El(Ne)?setTimeout(()=>{D(U)},Ne):D(U)},setProps(I){B=I},setToggle:(I,A)=>{G.get(I).toggle=A},isToastActive:I=>N.some(A=>A===I),getSnapshot:()=>j}}(c,a,jT);cn.set(c,p);const y=p.observe(d);return Tl.forEach(_=>C0(_.content,_.options)),Tl=[],()=>{y(),cn.delete(c)}},setProps(d){var p;(p=cn.get(c))==null||p.setProps(d)},getSnapshot(){var d;return(d=cn.get(c))==null?void 0:d.getSnapshot()}}}(n)).current;i(n);const o=q.useSyncExternalStore(e,t,t);return{getToastToRender:function(a){if(!o)return[];const c=new Map;return n.newestOnTop&&o.reverse(),o.forEach(d=>{const{position:p}=d.props;c.has(p)||c.set(p,[]),c.get(p).push(d)}),Array.from(c,d=>a(d[0],d[1]))},isToastActive:R0,count:o==null?void 0:o.length}}function zT(n){const[e,t]=q.useState(!1),[i,o]=q.useState(!1),a=q.useRef(null),c=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:y,onClick:_,closeOnClick:E}=n;var S,k;function V(){t(!0)}function x(){t(!1)}function N(G){const ee=a.current;c.canDrag&&ee&&(c.didMove=!0,e&&x(),c.delta=n.draggableDirection==="x"?G.clientX-c.start:G.clientY-c.start,c.start!==G.clientX&&(c.canCloseOnClick=!1),ee.style.transform=`translate3d(${n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`},0)`,ee.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function j(){document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",j);const G=a.current;if(c.canDrag&&c.didMove&&G){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return o(!0),n.closeToast(),void n.collapseAll();G.style.transition="transform 0.2s, opacity 0.2s",G.style.removeProperty("transform"),G.style.removeProperty("opacity")}}(k=cn.get((S={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||k.setToggle(S.id,S.fn),q.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||x(),window.addEventListener("focus",V),window.addEventListener("blur",x),()=>{window.removeEventListener("focus",V),window.removeEventListener("blur",x)}},[n.pauseOnFocusLoss]);const B={onPointerDown:function(G){if(n.draggable===!0||n.draggable===G.pointerType){c.didMove=!1,document.addEventListener("pointermove",N),document.addEventListener("pointerup",j);const ee=a.current;c.canCloseOnClick=!0,c.canDrag=!0,ee.style.transition="none",n.draggableDirection==="x"?(c.start=G.clientX,c.removalDistance=ee.offsetWidth*(n.draggablePercent/100)):(c.start=G.clientY,c.removalDistance=ee.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(G){const{top:ee,bottom:de,left:_e,right:D}=a.current.getBoundingClientRect();G.nativeEvent.type!=="touchend"&&n.pauseOnHover&&G.clientX>=_e&&G.clientX<=D&&G.clientY>=ee&&G.clientY<=de?x():V()}};return d&&p&&(B.onMouseEnter=x,n.stacked||(B.onMouseLeave=V)),E&&(B.onClick=G=>{_&&_(G),c.canCloseOnClick&&y()}),{playToast:V,pauseToast:x,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:B}}function $T(n){let{delay:e,isRunning:t,closeToast:i,type:o="default",hide:a,className:c,style:d,controlledProgress:p,progress:y,rtl:_,isIn:E,theme:S}=n;const k=a||p&&y===0,V={...d,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};p&&(V.transform=`scaleX(${y})`);const x=$i("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${S}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":_}),N=kn(c)?c({rtl:_,type:o,defaultClassName:x}):$i(x,c),j={[p&&y>=1?"onTransitionEnd":"onAnimationEnd"]:p&&y<1?null:()=>{E&&i()}};return Be.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":k},Be.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${S} Toastify__progress-bar--${o}`}),Be.createElement("div",{role:"progressbar","aria-hidden":k?"true":"false","aria-label":"notification timer",className:N,style:V,...j}))}let qT=1;const P0=()=>""+qT++;function HT(n){return n&&(Os(n.toastId)||El(n.toastId))?n.toastId:P0()}function fl(n,e){return C0(n,e),e.toastId}function Fc(n,e){return{...e,type:e&&e.type||n,toastId:HT(e)}}function fc(n){return(e,t)=>fl(e,Fc(n,t))}function tt(n,e){return fl(n,Fc("default",e))}tt.loading=(n,e)=>fl(n,Fc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),tt.promise=function(n,e,t){let i,{pending:o,error:a,success:c}=e;o&&(i=Os(o)?tt.loading(o,t):tt.loading(o.render,{...t,...o}));const d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(_,E,S)=>{if(E==null)return void tt.dismiss(i);const k={type:_,...d,...t,data:S},V=Os(E)?{render:E}:E;return i?tt.update(i,{...k,...V}):tt(V.render,{...k,...V}),S},y=kn(n)?n():n;return y.then(_=>p("success",c,_)).catch(_=>p("error",a,_)),y},tt.success=fc("success"),tt.info=fc("info"),tt.error=fc("error"),tt.warning=fc("warning"),tt.warn=tt.warning,tt.dark=(n,e)=>fl(n,Fc("default",{theme:"dark",...e})),tt.dismiss=function(n){(function(e){var t;if(A0()){if(e==null||Os(t=e)||El(t))cn.forEach(i=>{i.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const i=cn.get(e.containerId);i?i.removeToast(e.id):cn.forEach(o=>{o.removeToast(e.id)})}}else Tl=Tl.filter(i=>e!=null&&i.options.toastId!==e)})(n)},tt.clearWaitingQueue=function(n){n===void 0&&(n={}),cn.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},tt.isActive=R0,tt.update=function(n,e){e===void 0&&(e={});const t=((i,o)=>{var a;let{containerId:c}=o;return(a=cn.get(c||1))==null?void 0:a.toasts.get(i)})(n,e);if(t){const{props:i,content:o}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:P0()};a.toastId!==n&&(a.staleId=n);const c=a.render||o;delete a.render,fl(c,a)}},tt.done=n=>{tt.update(n,{progress:1})},tt.onChange=function(n){return Df.add(n),()=>{Df.delete(n)}},tt.play=n=>Vy(!0,n),tt.pause=n=>Vy(!1,n);const WT=typeof window<"u"?q.useLayoutEffect:q.useEffect,pc=n=>{let{theme:e,type:t,isLoading:i,...o}=n;return Be.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...o})},ff={info:function(n){return Be.createElement(pc,{...n},Be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return Be.createElement(pc,{...n},Be.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return Be.createElement(pc,{...n},Be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return Be.createElement(pc,{...n},Be.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Be.createElement("div",{className:"Toastify__spinner"})}},KT=n=>{const{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:a}=zT(n),{closeButton:c,children:d,autoClose:p,onClick:y,type:_,hideProgressBar:E,closeToast:S,transition:k,position:V,className:x,style:N,bodyClassName:j,bodyStyle:B,progressClassName:G,progressStyle:ee,updateId:de,role:_e,progress:D,rtl:I,toastId:A,deleteToast:P,isIn:M,isLoading:b,closeOnClick:R,theme:Ne}=n,Ue=$i("Toastify__toast",`Toastify__toast-theme--${Ne}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":R}),Je=kn(x)?x({rtl:I,position:V,type:_,defaultClassName:Ue}):$i(Ue,x),ke=function(U){let{theme:J,type:fe,isLoading:Ae,icon:xe}=U,Le=null;const je={theme:J,type:fe};return xe===!1||(kn(xe)?Le=xe({...je,isLoading:Ae}):q.isValidElement(xe)?Le=q.cloneElement(xe,je):Ae?Le=ff.spinner():(He=>He in ff)(fe)&&(Le=ff[fe](je))),Le}(n),se=!!D||!p,ge={closeToast:S,type:_,theme:Ne};let ce=null;return c===!1||(ce=kn(c)?c(ge):q.isValidElement(c)?q.cloneElement(c,ge):function(U){let{closeToast:J,theme:fe,ariaLabel:Ae="close"}=U;return Be.createElement("button",{className:`Toastify__close-button Toastify__close-button--${fe}`,type:"button",onClick:xe=>{xe.stopPropagation(),J(xe)},"aria-label":Ae},Be.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Be.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(ge)),Be.createElement(k,{isIn:M,done:P,position:V,preventExitTransition:t,nodeRef:i,playToast:a},Be.createElement("div",{id:A,onClick:y,"data-in":M,className:Je,...o,style:N,ref:i},Be.createElement("div",{...M&&{role:_e},className:kn(j)?j({type:_}):$i("Toastify__toast-body",j),style:B},ke!=null&&Be.createElement("div",{className:$i("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!b})},ke),Be.createElement("div",null,d)),ce,Be.createElement($T,{...de&&!se?{key:`pb-${de}`}:{},rtl:I,theme:Ne,delay:p,isRunning:e,isIn:M,closeToast:S,hide:E,type:_,style:ee,className:G,controlledProgress:se,progress:D||0})))},lh=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},GT=ah(lh("bounce",!0));ah(lh("slide",!0));ah(lh("zoom"));ah(lh("flip"));const QT={position:"top-right",transition:GT,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function YT(n){let e={...QT,...n};const t=n.stacked,[i,o]=q.useState(!0),a=q.useRef(null),{getToastToRender:c,isToastActive:d,count:p}=BT(e),{className:y,style:_,rtl:E,containerId:S}=e;function k(x){const N=$i("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":E});return kn(y)?y({position:x,rtl:E,defaultClassName:N}):$i(N,Sc(y))}function V(){t&&(o(!0),tt.play())}return WT(()=>{if(t){var x;const N=a.current.querySelectorAll('[data-in="true"]'),j=12,B=(x=e.position)==null?void 0:x.includes("top");let G=0,ee=0;Array.from(N).reverse().forEach((de,_e)=>{const D=de;D.classList.add("Toastify__toast--stacked"),_e>0&&(D.dataset.collapsed=`${i}`),D.dataset.pos||(D.dataset.pos=B?"top":"bot");const I=G*(i?.2:1)+(i?0:j*_e);D.style.setProperty("--y",`${B?I:-1*I}px`),D.style.setProperty("--g",`${j}`),D.style.setProperty("--s",""+(1-(i?ee:0))),G+=D.offsetHeight,ee+=.025})}},[i,p,t]),Be.createElement("div",{ref:a,className:"Toastify",id:S,onMouseEnter:()=>{t&&(o(!1),tt.pause())},onMouseLeave:V},c((x,N)=>{const j=N.length?{..._}:{..._,pointerEvents:"none"};return Be.createElement("div",{className:k(x),style:j,key:`container-${x}`},N.map(B=>{let{content:G,props:ee}=B;return Be.createElement(KT,{...ee,stacked:t,collapseAll:V,isIn:d(ee.toastId,ee.containerId),style:ee.style,key:`toast-${ee.key}`},G)}))}))}const fp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='100px'%20height='100px'%3e%3cradialGradient%20id='8O3wK6b5ASW2Wn6hRCB5xa'%20cx='11.087'%20cy='7.022'%20r='47.612'%20gradientTransform='matrix(1%200%200%20-1%200%2050)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%231292ff'/%3e%3cstop%20offset='.079'%20stop-color='%232982ff'/%3e%3cstop%20offset='.23'%20stop-color='%234e69ff'/%3e%3cstop%20offset='.351'%20stop-color='%236559ff'/%3e%3cstop%20offset='.428'%20stop-color='%236d53ff'/%3e%3cstop%20offset='.754'%20stop-color='%23df47aa'/%3e%3cstop%20offset='.946'%20stop-color='%23ff6257'/%3e%3c/radialGradient%3e%3cpath%20fill='url(%238O3wK6b5ASW2Wn6hRCB5xa)'%20d='M44,23.5C44,34.27,35.05,43,24,43c-1.651,0-3.25-0.194-4.784-0.564%20c-0.465-0.112-0.951-0.069-1.379,0.145L13.46,44.77C12.33,45.335,11,44.513,11,43.249v-4.025c0-0.575-0.257-1.111-0.681-1.499%20C6.425,34.165,4,29.11,4,23.5C4,12.73,12.95,4,24,4S44,12.73,44,23.5z'/%3e%3cpath%20d='M34.992,17.292c-0.428,0-0.843,0.142-1.2,0.411l-5.694,4.215%20c-0.133,0.1-0.28,0.15-0.435,0.15c-0.15,0-0.291-0.047-0.41-0.136l-3.972-2.99c-0.808-0.601-1.76-0.918-2.757-0.918%20c-1.576,0-3.025,0.791-3.876,2.116l-1.211,1.891l-4.12,6.695c-0.392,0.614-0.422,1.372-0.071,2.014%20c0.358,0.654,1.034,1.06,1.764,1.06c0.428,0,0.843-0.142,1.2-0.411l5.694-4.215c0.133-0.1,0.28-0.15,0.435-0.15%20c0.15,0,0.291,0.047,0.41,0.136l3.972,2.99c0.809,0.602,1.76,0.918,2.757,0.918c1.576,0,3.025-0.791,3.876-2.116l1.211-1.891%20l4.12-6.695c0.392-0.614,0.422-1.372,0.071-2.014C36.398,17.698,35.722,17.292,34.992,17.292L34.992,17.292z'%20opacity='.05'/%3e%3cpath%20d='M34.992,17.792c-0.319,0-0.63,0.107-0.899,0.31l-5.697,4.218%20c-0.216,0.163-0.468,0.248-0.732,0.248c-0.259,0-0.504-0.082-0.71-0.236l-3.973-2.991c-0.719-0.535-1.568-0.817-2.457-0.817%20c-1.405,0-2.696,0.705-3.455,1.887l-1.21,1.891l-4.115,6.688c-0.297,0.465-0.32,1.033-0.058,1.511c0.266,0.486,0.787,0.8,1.325,0.8%20c0.319,0,0.63-0.107,0.899-0.31l5.697-4.218c0.216-0.163,0.468-0.248,0.732-0.248c0.259,0,0.504,0.082,0.71,0.236l3.973,2.991%20c0.719,0.535,1.568,0.817,2.457,0.817c1.405,0,2.696-0.705,3.455-1.887l1.21-1.891l4.115-6.688c0.297-0.465,0.32-1.033,0.058-1.511%20C36.051,18.106,35.531,17.792,34.992,17.792L34.992,17.792z'%20opacity='.07'/%3e%3cpath%20fill='%23fff'%20d='M34.394,18.501l-5.7,4.22c-0.61,0.46-1.44,0.46-2.04,0.01L22.68,19.74%20c-1.68-1.25-4.06-0.82-5.19,0.94l-1.21,1.89l-4.11,6.68c-0.6,0.94,0.55,2.01,1.44,1.34l5.7-4.22c0.61-0.46,1.44-0.46,2.04-0.01%20l3.974,2.991c1.68,1.25,4.06,0.82,5.19-0.94l1.21-1.89l4.11-6.68C36.434,18.901,35.284,17.831,34.394,18.501z'/%3e%3c/svg%3e";var Fl=n=>n.type==="checkbox",bs=n=>n instanceof Date,un=n=>n==null;const k0=n=>typeof n=="object";var It=n=>!un(n)&&!Array.isArray(n)&&k0(n)&&!bs(n),XT=n=>It(n)&&n.target?Fl(n.target)?n.target.checked:n.target.value:n,JT=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,ZT=(n,e)=>n.has(JT(e)),eI=n=>{const e=n.constructor&&n.constructor.prototype;return It(e)&&e.hasOwnProperty("isPrototypeOf")},pp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Hn(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(pp&&(n instanceof Blob||n instanceof FileList))&&(t||It(n)))if(e=t?[]:{},!t&&!eI(n))e=n;else for(const i in n)n.hasOwnProperty(i)&&(e[i]=Hn(n[i]));else return n;return e}var uh=n=>Array.isArray(n)?n.filter(Boolean):[],Et=n=>n===void 0,Ee=(n,e,t)=>{if(!e||!It(n))return t;const i=uh(e.split(/[,[\].]+?/)).reduce((o,a)=>un(o)?o:o[a],n);return Et(i)||i===n?Et(n[e])?t:n[e]:i},Ar=n=>typeof n=="boolean",mp=n=>/^\w*$/.test(n),x0=n=>uh(n.replace(/["|']|\]/g,"").split(/\.|\[/)),ct=(n,e,t)=>{let i=-1;const o=mp(e)?[e]:x0(e),a=o.length,c=a-1;for(;++i<a;){const d=o[i];let p=t;if(i!==c){const y=n[d];p=It(y)||Array.isArray(y)?y:isNaN(+o[i+1])?{}:[]}if(d==="__proto__")return;n[d]=p,n=n[d]}return n};const by={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Be.createContext(null);var tI=(n,e,t,i=!0)=>{const o={defaultValues:e._defaultValues};for(const a in n)Object.defineProperty(o,a,{get:()=>{const c=a;return e._proxyFormState[c]!==cr.all&&(e._proxyFormState[c]=!i||cr.all),n[c]}});return o},_n=n=>It(n)&&!Object.keys(n).length,nI=(n,e,t,i)=>{t(n);const{name:o,...a}=n;return _n(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(c=>e[c]===cr.all)},Ac=n=>Array.isArray(n)?n:[n];function rI(n){const e=Be.useRef(n);e.current=n,Be.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}var Cr=n=>typeof n=="string",iI=(n,e,t,i,o)=>Cr(n)?(i&&e.watch.add(n),Ee(t,n,o)):Array.isArray(n)?n.map(a=>(i&&e.watch.add(a),Ee(t,a))):(i&&(e.watchAll=!0),t),sI=(n,e,t,i,o)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:o||!0}}:{},Ly=n=>({isOnSubmit:!n||n===cr.onSubmit,isOnBlur:n===cr.onBlur,isOnChange:n===cr.onChange,isOnAll:n===cr.all,isOnTouch:n===cr.onTouched}),Oy=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const pl=(n,e,t,i)=>{for(const o of t||Object.keys(n)){const a=Ee(n,o);if(a){const{_f:c,...d}=a;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(pl(d,e))break}else if(It(d)&&pl(d,e))break}}};var oI=(n,e,t)=>{const i=Ac(Ee(n,t));return ct(i,"root",e[t]),ct(n,t,i),n},gp=n=>n.type==="file",Rr=n=>typeof n=="function",Uc=n=>{if(!pp)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Rc=n=>Cr(n),yp=n=>n.type==="radio",jc=n=>n instanceof RegExp;const My={value:!1,isValid:!1},Fy={value:!0,isValid:!0};var N0=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Et(n[0].attributes.value)?Et(n[0].value)||n[0].value===""?Fy:{value:n[0].value,isValid:!0}:Fy:My}return My};const Uy={isValid:!1,value:null};var D0=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Uy):Uy;function jy(n,e,t="validate"){if(Rc(n)||Array.isArray(n)&&n.every(Rc)||Ar(n)&&!n)return{type:t,message:Rc(n)?n:"",ref:e}}var Bo=n=>It(n)&&!jc(n)?n:{value:n,message:""},By=async(n,e,t,i,o)=>{const{ref:a,refs:c,required:d,maxLength:p,minLength:y,min:_,max:E,pattern:S,validate:k,name:V,valueAsNumber:x,mount:N,disabled:j}=n._f,B=Ee(e,V);if(!N||j)return{};const G=c?c[0]:a,ee=b=>{i&&G.reportValidity&&(G.setCustomValidity(Ar(b)?"":b||""),G.reportValidity())},de={},_e=yp(a),D=Fl(a),I=_e||D,A=(x||gp(a))&&Et(a.value)&&Et(B)||Uc(a)&&a.value===""||B===""||Array.isArray(B)&&!B.length,P=sI.bind(null,V,t,de),M=(b,R,Ne,Ue=Jr.maxLength,Je=Jr.minLength)=>{const ke=b?R:Ne;de[V]={type:b?Ue:Je,message:ke,ref:a,...P(b?Ue:Je,ke)}};if(o?!Array.isArray(B)||!B.length:d&&(!I&&(A||un(B))||Ar(B)&&!B||D&&!N0(c).isValid||_e&&!D0(c).isValid)){const{value:b,message:R}=Rc(d)?{value:!!d,message:d}:Bo(d);if(b&&(de[V]={type:Jr.required,message:R,ref:G,...P(Jr.required,R)},!t))return ee(R),de}if(!A&&(!un(_)||!un(E))){let b,R;const Ne=Bo(E),Ue=Bo(_);if(!un(B)&&!isNaN(B)){const Je=a.valueAsNumber||B&&+B;un(Ne.value)||(b=Je>Ne.value),un(Ue.value)||(R=Je<Ue.value)}else{const Je=a.valueAsDate||new Date(B),ke=ce=>new Date(new Date().toDateString()+" "+ce),se=a.type=="time",ge=a.type=="week";Cr(Ne.value)&&B&&(b=se?ke(B)>ke(Ne.value):ge?B>Ne.value:Je>new Date(Ne.value)),Cr(Ue.value)&&B&&(R=se?ke(B)<ke(Ue.value):ge?B<Ue.value:Je<new Date(Ue.value))}if((b||R)&&(M(!!b,Ne.message,Ue.message,Jr.max,Jr.min),!t))return ee(de[V].message),de}if((p||y)&&!A&&(Cr(B)||o&&Array.isArray(B))){const b=Bo(p),R=Bo(y),Ne=!un(b.value)&&B.length>+b.value,Ue=!un(R.value)&&B.length<+R.value;if((Ne||Ue)&&(M(Ne,b.message,R.message),!t))return ee(de[V].message),de}if(S&&!A&&Cr(B)){const{value:b,message:R}=Bo(S);if(jc(b)&&!B.match(b)&&(de[V]={type:Jr.pattern,message:R,ref:a,...P(Jr.pattern,R)},!t))return ee(R),de}if(k){if(Rr(k)){const b=await k(B,e),R=jy(b,G);if(R&&(de[V]={...R,...P(Jr.validate,R.message)},!t))return ee(R.message),de}else if(It(k)){let b={};for(const R in k){if(!_n(b)&&!t)break;const Ne=jy(await k[R](B,e),G,R);Ne&&(b={...Ne,...P(R,Ne.message)},ee(Ne.message),t&&(de[V]=b))}if(!_n(b)&&(de[V]={ref:G,...b},!t))return de}}return ee(!0),de};function aI(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=Et(n)?i++:n[e[i++]];return n}function lI(n){for(const e in n)if(n.hasOwnProperty(e)&&!Et(n[e]))return!1;return!0}function Vt(n,e){const t=Array.isArray(e)?e:mp(e)?[e]:x0(e),i=t.length===1?n:aI(n,t),o=t.length-1,a=t[o];return i&&delete i[a],o!==0&&(It(i)&&_n(i)||Array.isArray(i)&&lI(i))&&Vt(n,t.slice(0,-1)),n}var pf=()=>{let n=[];return{get observers(){return n},next:o=>{for(const a of n)a.next&&a.next(o)},subscribe:o=>(n.push(o),{unsubscribe:()=>{n=n.filter(a=>a!==o)}}),unsubscribe:()=>{n=[]}}},Vf=n=>un(n)||!k0(n);function Fi(n,e){if(Vf(n)||Vf(e))return n===e;if(bs(n)&&bs(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const o of t){const a=n[o];if(!i.includes(o))return!1;if(o!=="ref"){const c=e[o];if(bs(a)&&bs(c)||It(a)&&It(c)||Array.isArray(a)&&Array.isArray(c)?!Fi(a,c):a!==c)return!1}}return!0}var V0=n=>n.type==="select-multiple",uI=n=>yp(n)||Fl(n),mf=n=>Uc(n)&&n.isConnected,b0=n=>{for(const e in n)if(Rr(n[e]))return!0;return!1};function Bc(n,e={}){const t=Array.isArray(n);if(It(n)||t)for(const i in n)Array.isArray(n[i])||It(n[i])&&!b0(n[i])?(e[i]=Array.isArray(n[i])?[]:{},Bc(n[i],e[i])):un(n[i])||(e[i]=!0);return e}function L0(n,e,t){const i=Array.isArray(n);if(It(n)||i)for(const o in n)Array.isArray(n[o])||It(n[o])&&!b0(n[o])?Et(e)||Vf(t[o])?t[o]=Array.isArray(n[o])?Bc(n[o],[]):{...Bc(n[o])}:L0(n[o],un(e)?{}:e[o],t[o]):t[o]=!Fi(n[o],e[o]);return t}var sl=(n,e)=>L0(n,e,Bc(e)),O0=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>Et(n)?n:e?n===""?NaN:n&&+n:t&&Cr(n)?new Date(n):i?i(n):n;function gf(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return gp(e)?e.files:yp(e)?D0(n.refs).value:V0(e)?[...e.selectedOptions].map(({value:t})=>t):Fl(e)?N0(n.refs).value:O0(Et(e.value)?n.ref.value:e.value,n)}var cI=(n,e,t,i)=>{const o={};for(const a of n){const c=Ee(e,a);c&&ct(o,a,c._f)}return{criteriaMode:t,names:[...n],fields:o,shouldUseNativeValidation:i}},ol=n=>Et(n)?n:jc(n)?n.source:It(n)?jc(n.value)?n.value.source:n.value:n;const zy="AsyncFunction";var hI=n=>(!n||!n.validate)&&!!(Rr(n.validate)&&n.validate.constructor.name===zy||It(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===zy)),dI=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function $y(n,e,t){const i=Ee(n,t);if(i||mp(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const a=o.join("."),c=Ee(e,a),d=Ee(n,a);if(c&&!Array.isArray(c)&&t!==a)return{name:t};if(d&&d.type)return{name:a,error:d};o.pop()}return{name:t}}var fI=(n,e,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||n):(t?i.isOnBlur:o.isOnBlur)?!n:(t?i.isOnChange:o.isOnChange)?n:!0,pI=(n,e)=>!uh(Ee(n,e)).length&&Vt(n,e);const mI={mode:cr.onSubmit,reValidateMode:cr.onChange,shouldFocusError:!0};function gI(n={}){let e={...mI,...n},t={submitCount:0,isDirty:!1,isLoading:Rr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},o=It(e.defaultValues)||It(e.values)?Hn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Hn(o),c={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},p,y=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={values:pf(),array:pf(),state:pf()},S=Ly(e.mode),k=Ly(e.reValidateMode),V=e.criteriaMode===cr.all,x=L=>W=>{clearTimeout(y),y=setTimeout(L,W)},N=async L=>{if(!e.disabled&&(_.isValid||L)){const W=e.resolver?_n((await I()).errors):await P(i,!0);W!==t.isValid&&E.state.next({isValid:W})}},j=(L,W)=>{!e.disabled&&(_.isValidating||_.validatingFields)&&((L||Array.from(d.mount)).forEach(Y=>{Y&&(W?ct(t.validatingFields,Y,W):Vt(t.validatingFields,Y))}),E.state.next({validatingFields:t.validatingFields,isValidating:!_n(t.validatingFields)}))},B=(L,W=[],Y,he,le=!0,oe=!0)=>{if(he&&Y&&!e.disabled){if(c.action=!0,oe&&Array.isArray(Ee(i,L))){const Se=Y(Ee(i,L),he.argA,he.argB);le&&ct(i,L,Se)}if(oe&&Array.isArray(Ee(t.errors,L))){const Se=Y(Ee(t.errors,L),he.argA,he.argB);le&&ct(t.errors,L,Se),pI(t.errors,L)}if(_.touchedFields&&oe&&Array.isArray(Ee(t.touchedFields,L))){const Se=Y(Ee(t.touchedFields,L),he.argA,he.argB);le&&ct(t.touchedFields,L,Se)}_.dirtyFields&&(t.dirtyFields=sl(o,a)),E.state.next({name:L,isDirty:b(L,W),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ct(a,L,W)},G=(L,W)=>{ct(t.errors,L,W),E.state.next({errors:t.errors})},ee=L=>{t.errors=L,E.state.next({errors:t.errors,isValid:!1})},de=(L,W,Y,he)=>{const le=Ee(i,L);if(le){const oe=Ee(a,L,Et(Y)?Ee(o,L):Y);Et(oe)||he&&he.defaultChecked||W?ct(a,L,W?oe:gf(le._f)):Ue(L,oe),c.mount&&N()}},_e=(L,W,Y,he,le)=>{let oe=!1,Se=!1;const Me={name:L};if(!e.disabled){const ze=!!(Ee(i,L)&&Ee(i,L)._f&&Ee(i,L)._f.disabled);if(!Y||he){_.isDirty&&(Se=t.isDirty,t.isDirty=Me.isDirty=b(),oe=Se!==Me.isDirty);const $e=ze||Fi(Ee(o,L),W);Se=!!(!ze&&Ee(t.dirtyFields,L)),$e||ze?Vt(t.dirtyFields,L):ct(t.dirtyFields,L,!0),Me.dirtyFields=t.dirtyFields,oe=oe||_.dirtyFields&&Se!==!$e}if(Y){const $e=Ee(t.touchedFields,L);$e||(ct(t.touchedFields,L,Y),Me.touchedFields=t.touchedFields,oe=oe||_.touchedFields&&$e!==Y)}oe&&le&&E.state.next(Me)}return oe?Me:{}},D=(L,W,Y,he)=>{const le=Ee(t.errors,L),oe=_.isValid&&Ar(W)&&t.isValid!==W;if(n.delayError&&Y?(p=x(()=>G(L,Y)),p(n.delayError)):(clearTimeout(y),p=null,Y?ct(t.errors,L,Y):Vt(t.errors,L)),(Y?!Fi(le,Y):le)||!_n(he)||oe){const Se={...he,...oe&&Ar(W)?{isValid:W}:{},errors:t.errors,name:L};t={...t,...Se},E.state.next(Se)}},I=async L=>{j(L,!0);const W=await e.resolver(a,e.context,cI(L||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return j(L),W},A=async L=>{const{errors:W}=await I(L);if(L)for(const Y of L){const he=Ee(W,Y);he?ct(t.errors,Y,he):Vt(t.errors,Y)}else t.errors=W;return W},P=async(L,W,Y={valid:!0})=>{for(const he in L){const le=L[he];if(le){const{_f:oe,...Se}=le;if(oe){const Me=d.array.has(oe.name),ze=le._f&&hI(le._f);ze&&_.validatingFields&&j([he],!0);const $e=await By(le,a,V,e.shouldUseNativeValidation&&!W,Me);if(ze&&_.validatingFields&&j([he]),$e[oe.name]&&(Y.valid=!1,W))break;!W&&(Ee($e,oe.name)?Me?oI(t.errors,$e,oe.name):ct(t.errors,oe.name,$e[oe.name]):Vt(t.errors,oe.name))}!_n(Se)&&await P(Se,W,Y)}}return Y.valid},M=()=>{for(const L of d.unMount){const W=Ee(i,L);W&&(W._f.refs?W._f.refs.every(Y=>!mf(Y)):!mf(W._f.ref))&&Le(L)}d.unMount=new Set},b=(L,W)=>!e.disabled&&(L&&W&&ct(a,L,W),!Fi(U(),o)),R=(L,W,Y)=>iI(L,d,{...c.mount?a:Et(W)?o:Cr(L)?{[L]:W}:W},Y,W),Ne=L=>uh(Ee(c.mount?a:o,L,n.shouldUnregister?Ee(o,L,[]):[])),Ue=(L,W,Y={})=>{const he=Ee(i,L);let le=W;if(he){const oe=he._f;oe&&(!oe.disabled&&ct(a,L,O0(W,oe)),le=Uc(oe.ref)&&un(W)?"":W,V0(oe.ref)?[...oe.ref.options].forEach(Se=>Se.selected=le.includes(Se.value)):oe.refs?Fl(oe.ref)?oe.refs.length>1?oe.refs.forEach(Se=>(!Se.defaultChecked||!Se.disabled)&&(Se.checked=Array.isArray(le)?!!le.find(Me=>Me===Se.value):le===Se.value)):oe.refs[0]&&(oe.refs[0].checked=!!le):oe.refs.forEach(Se=>Se.checked=Se.value===le):gp(oe.ref)?oe.ref.value="":(oe.ref.value=le,oe.ref.type||E.values.next({name:L,values:{...a}})))}(Y.shouldDirty||Y.shouldTouch)&&_e(L,le,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&ce(L)},Je=(L,W,Y)=>{for(const he in W){const le=W[he],oe=`${L}.${he}`,Se=Ee(i,oe);(d.array.has(L)||It(le)||Se&&!Se._f)&&!bs(le)?Je(oe,le,Y):Ue(oe,le,Y)}},ke=(L,W,Y={})=>{const he=Ee(i,L),le=d.array.has(L),oe=Hn(W);ct(a,L,oe),le?(E.array.next({name:L,values:{...a}}),(_.isDirty||_.dirtyFields)&&Y.shouldDirty&&E.state.next({name:L,dirtyFields:sl(o,a),isDirty:b(L,oe)})):he&&!he._f&&!un(oe)?Je(L,oe,Y):Ue(L,oe,Y),Oy(L,d)&&E.state.next({...t}),E.values.next({name:c.mount?L:void 0,values:{...a}})},se=async L=>{c.mount=!0;const W=L.target;let Y=W.name,he=!0;const le=Ee(i,Y),oe=()=>W.type?gf(le._f):XT(L),Se=Me=>{he=Number.isNaN(Me)||bs(Me)&&isNaN(Me.getTime())||Fi(Me,Ee(a,Y,Me))};if(le){let Me,ze;const $e=oe(),Bt=L.type===by.BLUR||L.type===by.FOCUS_OUT,os=!dI(le._f)&&!e.resolver&&!Ee(t.errors,Y)&&!le._f.deps||fI(Bt,Ee(t.touchedFields,Y),t.isSubmitted,k,S),bn=Oy(Y,d,Bt);ct(a,Y,$e),Bt?(le._f.onBlur&&le._f.onBlur(L),p&&p(0)):le._f.onChange&&le._f.onChange(L);const Gn=_e(Y,$e,Bt,!1),Mr=!_n(Gn)||bn;if(!Bt&&E.values.next({name:Y,type:L.type,values:{...a}}),os)return _.isValid&&(n.mode==="onBlur"?Bt&&N():N()),Mr&&E.state.next({name:Y,...bn?{}:Gn});if(!Bt&&bn&&E.state.next({...t}),e.resolver){const{errors:di}=await I([Y]);if(Se($e),he){const as=$y(t.errors,i,Y),fi=$y(di,i,as.name||Y);Me=fi.error,Y=fi.name,ze=_n(di)}}else j([Y],!0),Me=(await By(le,a,V,e.shouldUseNativeValidation))[Y],j([Y]),Se($e),he&&(Me?ze=!1:_.isValid&&(ze=await P(i,!0)));he&&(le._f.deps&&ce(le._f.deps),D(Y,ze,Me,Gn))}},ge=(L,W)=>{if(Ee(t.errors,W)&&L.focus)return L.focus(),1},ce=async(L,W={})=>{let Y,he;const le=Ac(L);if(e.resolver){const oe=await A(Et(L)?L:le);Y=_n(oe),he=L?!le.some(Se=>Ee(oe,Se)):Y}else L?(he=(await Promise.all(le.map(async oe=>{const Se=Ee(i,oe);return await P(Se&&Se._f?{[oe]:Se}:Se)}))).every(Boolean),!(!he&&!t.isValid)&&N()):he=Y=await P(i);return E.state.next({...!Cr(L)||_.isValid&&Y!==t.isValid?{}:{name:L},...e.resolver||!L?{isValid:Y}:{},errors:t.errors}),W.shouldFocus&&!he&&pl(i,ge,L?le:d.mount),he},U=L=>{const W={...c.mount?a:o};return Et(L)?W:Cr(L)?Ee(W,L):L.map(Y=>Ee(W,Y))},J=(L,W)=>({invalid:!!Ee((W||t).errors,L),isDirty:!!Ee((W||t).dirtyFields,L),error:Ee((W||t).errors,L),isValidating:!!Ee(t.validatingFields,L),isTouched:!!Ee((W||t).touchedFields,L)}),fe=L=>{L&&Ac(L).forEach(W=>Vt(t.errors,W)),E.state.next({errors:L?t.errors:{}})},Ae=(L,W,Y)=>{const he=(Ee(i,L,{_f:{}})._f||{}).ref,le=Ee(t.errors,L)||{},{ref:oe,message:Se,type:Me,...ze}=le;ct(t.errors,L,{...ze,...W,ref:he}),E.state.next({name:L,errors:t.errors,isValid:!1}),Y&&Y.shouldFocus&&he&&he.focus&&he.focus()},xe=(L,W)=>Rr(L)?E.values.subscribe({next:Y=>L(R(void 0,W),Y)}):R(L,W,!0),Le=(L,W={})=>{for(const Y of L?Ac(L):d.mount)d.mount.delete(Y),d.array.delete(Y),W.keepValue||(Vt(i,Y),Vt(a,Y)),!W.keepError&&Vt(t.errors,Y),!W.keepDirty&&Vt(t.dirtyFields,Y),!W.keepTouched&&Vt(t.touchedFields,Y),!W.keepIsValidating&&Vt(t.validatingFields,Y),!e.shouldUnregister&&!W.keepDefaultValue&&Vt(o,Y);E.values.next({values:{...a}}),E.state.next({...t,...W.keepDirty?{isDirty:b()}:{}}),!W.keepIsValid&&N()},je=({disabled:L,name:W,field:Y,fields:he,value:le})=>{if(Ar(L)&&c.mount||L){const oe=L?void 0:Et(le)?gf(Y?Y._f:Ee(he,W)._f):le;ct(a,W,oe),_e(W,oe,!1,!1,!0)}},He=(L,W={})=>{let Y=Ee(i,L);const he=Ar(W.disabled)||Ar(e.disabled);return ct(i,L,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:L}},name:L,mount:!0,...W}}),d.mount.add(L),Y?je({field:Y,disabled:Ar(W.disabled)?W.disabled:e.disabled,name:L,value:W.value}):de(L,!0,W.value),{...he?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:ol(W.min),max:ol(W.max),minLength:ol(W.minLength),maxLength:ol(W.maxLength),pattern:ol(W.pattern)}:{},name:L,onChange:se,onBlur:se,ref:le=>{if(le){He(L,W),Y=Ee(i,L);const oe=Et(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,Se=uI(oe),Me=Y._f.refs||[];if(Se?Me.find(ze=>ze===oe):oe===Y._f.ref)return;ct(i,L,{_f:{...Y._f,...Se?{refs:[...Me.filter(mf),oe,...Array.isArray(Ee(o,L))?[{}]:[]],ref:{type:oe.type,name:L}}:{ref:oe}}}),de(L,!1,void 0,oe)}else Y=Ee(i,L,{}),Y._f&&(Y._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(ZT(d.array,L)&&c.action)&&d.unMount.add(L)}}},rt=()=>e.shouldFocusError&&pl(i,ge,d.mount),St=L=>{Ar(L)&&(E.state.next({disabled:L}),pl(i,(W,Y)=>{const he=Ee(i,Y);he&&(W.disabled=he._f.disabled||L,Array.isArray(he._f.refs)&&he._f.refs.forEach(le=>{le.disabled=he._f.disabled||L}))},0,!1))},Vn=(L,W)=>async Y=>{let he;if(Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist()),e.disabled){W&&await W({...t.errors},Y);return}let le=Hn(a);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:Se}=await I();t.errors=oe,le=Se}else await P(i);if(Vt(t.errors,"root"),_n(t.errors)){E.state.next({errors:{}});try{await L(le,Y)}catch(oe){he=oe}}else W&&await W({...t.errors},Y),rt(),setTimeout(rt);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_n(t.errors)&&!he,submitCount:t.submitCount+1,errors:t.errors}),he)throw he},hi=(L,W={})=>{Ee(i,L)&&(Et(W.defaultValue)?ke(L,Hn(Ee(o,L))):(ke(L,W.defaultValue),ct(o,L,Hn(W.defaultValue))),W.keepTouched||Vt(t.touchedFields,L),W.keepDirty||(Vt(t.dirtyFields,L),t.isDirty=W.defaultValue?b(L,Hn(Ee(o,L))):b()),W.keepError||(Vt(t.errors,L),_.isValid&&N()),E.state.next({...t}))},Kn=(L,W={})=>{const Y=L?Hn(L):o,he=Hn(Y),le=_n(L),oe=le?o:he;if(W.keepDefaultValues||(o=Y),!W.keepValues){if(W.keepDirtyValues){const Se=new Set([...d.mount,...Object.keys(sl(o,a))]);for(const Me of Array.from(Se))Ee(t.dirtyFields,Me)?ct(oe,Me,Ee(a,Me)):ke(Me,Ee(oe,Me))}else{if(pp&&Et(L))for(const Se of d.mount){const Me=Ee(i,Se);if(Me&&Me._f){const ze=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(Uc(ze)){const $e=ze.closest("form");if($e){$e.reset();break}}}}i={}}a=n.shouldUnregister?W.keepDefaultValues?Hn(o):{}:Hn(oe),E.array.next({values:{...oe}}),E.values.next({values:{...oe}})}d={mount:W.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!_.isValid||!!W.keepIsValid||!!W.keepDirtyValues,c.watch=!!n.shouldUnregister,E.state.next({submitCount:W.keepSubmitCount?t.submitCount:0,isDirty:le?!1:W.keepDirty?t.isDirty:!!(W.keepDefaultValues&&!Fi(L,o)),isSubmitted:W.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:le?{}:W.keepDirtyValues?W.keepDefaultValues&&a?sl(o,a):t.dirtyFields:W.keepDefaultValues&&L?sl(o,L):W.keepDirty?t.dirtyFields:{},touchedFields:W.keepTouched?t.touchedFields:{},errors:W.keepErrors?t.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},fr=(L,W)=>Kn(Rr(L)?L(a):L,W);return{control:{register:He,unregister:Le,getFieldState:J,handleSubmit:Vn,setError:Ae,_executeSchema:I,_getWatch:R,_getDirty:b,_updateValid:N,_removeUnmounted:M,_updateFieldArray:B,_updateDisabledField:je,_getFieldArray:Ne,_reset:Kn,_resetDefaultValues:()=>Rr(e.defaultValues)&&e.defaultValues().then(L=>{fr(L,e.resetOptions),E.state.next({isLoading:!1})}),_updateFormState:L=>{t={...t,...L}},_disableForm:St,_subjects:E,_proxyFormState:_,_setErrors:ee,get _fields(){return i},get _formValues(){return a},get _state(){return c},set _state(L){c=L},get _defaultValues(){return o},get _names(){return d},set _names(L){d=L},get _formState(){return t},set _formState(L){t=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:ce,register:He,handleSubmit:Vn,watch:xe,setValue:ke,getValues:U,reset:fr,resetField:hi,clearErrors:fe,unregister:Le,setError:Ae,setFocus:(L,W={})=>{const Y=Ee(i,L),he=Y&&Y._f;if(he){const le=he.refs?he.refs[0]:he.ref;le.focus&&(le.focus(),W.shouldSelect&&Rr(le.select)&&le.select())}},getFieldState:J}}function M0(n={}){const e=Be.useRef(),t=Be.useRef(),[i,o]=Be.useState({isDirty:!1,isValidating:!1,isLoading:Rr(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Rr(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...gI(n),formState:i});const a=e.current.control;return a._options=n,rI({subject:a._subjects.state,next:c=>{nI(c,a._proxyFormState,a._updateFormState)&&o({...a._formState})}}),Be.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),Be.useEffect(()=>{if(a._proxyFormState.isDirty){const c=a._getDirty();c!==i.isDirty&&a._subjects.state.next({isDirty:c})}},[a,i.isDirty]),Be.useEffect(()=>{n.values&&!Fi(n.values,t.current)?(a._reset(n.values,a._options.resetOptions),t.current=n.values,o(c=>({...c}))):a._resetDefaultValues()},[n.values,a]),Be.useEffect(()=>{n.errors&&a._setErrors(n.errors)},[n.errors,a]),Be.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Be.useEffect(()=>{n.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[n.shouldUnregister,a]),e.current.formState=tI(i,a),e.current}var qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},yI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=a>>2,E=(a&3)<<4|d>>4;let S=(d&15)<<2|y>>6,k=y&63;p||(k=64,c||(S=64)),i.push(t[_],t[E],t[S],t[k])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(F0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):yI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||E==null)throw new vI;const S=a<<2|d>>4;if(i.push(S),y!==64){const k=d<<4&240|y>>2;if(i.push(k),E!==64){const V=y<<6&192|E;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _I=function(n){const e=F0(n);return U0.encodeByteArray(e,!0)},zc=function(n){return _I(n).replace(/\./g,"")},j0=function(n){try{return U0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=()=>wI().__FIREBASE_DEFAULTS__,TI=()=>{if(typeof process>"u"||typeof qy>"u")return;const n=qy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},II=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&j0(n[1]);return e&&JSON.parse(e)},ch=()=>{try{return EI()||TI()||II()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},B0=n=>{var e,t;return(t=(e=ch())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},SI=n=>{const e=B0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},z0=()=>{var n;return(n=ch())===null||n===void 0?void 0:n.config},$0=n=>{var e;return(e=ch())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[zc(JSON.stringify(t)),zc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function PI(){var n;const e=(n=ch())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DI(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function VI(){return!PI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bI(){try{return typeof indexedDB=="object"}catch{return!1}}function LI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="FirebaseError";class ci extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=OI,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?MI(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ci(o,d,i)}}function MI(n,e){return n.replace(FI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const FI=/\{\$([^}]+)}/g;function UI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Il(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(Hy(a)&&Hy(c)){if(!Il(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Hy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function al(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function ll(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function jI(n,e){const t=new BI(n,e);return t.subscribe.bind(t)}class BI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");zI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=yf),o.error===void 0&&(o.error=yf),o.complete===void 0&&(o.complete=yf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n){return n&&n._delegate?n._delegate:n}class Us{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new AI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HI(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qI(n){return n===Vs?void 0:n}function HI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $I(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const KI={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},GI=We.INFO,QI={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},YI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=QI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vp{constructor(e){this.name=e,this._logLevel=GI,this._logHandler=YI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const XI=(n,e)=>e.some(t=>n instanceof t);let Wy,Ky;function JI(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZI(){return Ky||(Ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q0=new WeakMap,bf=new WeakMap,H0=new WeakMap,vf=new WeakMap,_p=new WeakMap;function eS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Hi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&q0.set(t,n)}).catch(()=>{}),_p.set(e,n),e}function tS(n){if(bf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});bf.set(n,e)}let Lf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||H0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function nS(n){Lf=n(Lf)}function rS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(_f(this),e,...t);return H0.set(i,e.sort?e.sort():[e]),Hi(i)}:ZI().includes(n)?function(...e){return n.apply(_f(this),e),Hi(q0.get(this))}:function(...e){return Hi(n.apply(_f(this),e))}}function iS(n){return typeof n=="function"?rS(n):(n instanceof IDBTransaction&&tS(n),XI(n,JI())?new Proxy(n,Lf):n)}function Hi(n){if(n instanceof IDBRequest)return eS(n);if(vf.has(n))return vf.get(n);const e=iS(n);return e!==n&&(vf.set(n,e),_p.set(e,n)),e}const _f=n=>_p.get(n);function sS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=Hi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Hi(c.result),p.oldVersion,p.newVersion,Hi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const oS=["get","getKey","getAll","getAllKeys","count"],aS=["put","add","delete","clear"],wf=new Map;function Gy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=aS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||oS.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return wf.set(e,a),a}nS(n=>({...n,get:(e,t,i)=>Gy(e,t)||n.get(e,t,i),has:(e,t)=>!!Gy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function uS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Of="@firebase/app",Qy="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new vp("@firebase/app"),cS="@firebase/app-compat",hS="@firebase/analytics-compat",dS="@firebase/analytics",fS="@firebase/app-check-compat",pS="@firebase/app-check",mS="@firebase/auth",gS="@firebase/auth-compat",yS="@firebase/database",vS="@firebase/data-connect",_S="@firebase/database-compat",wS="@firebase/functions",ES="@firebase/functions-compat",TS="@firebase/installations",IS="@firebase/installations-compat",SS="@firebase/messaging",AS="@firebase/messaging-compat",RS="@firebase/performance",CS="@firebase/performance-compat",PS="@firebase/remote-config",kS="@firebase/remote-config-compat",xS="@firebase/storage",NS="@firebase/storage-compat",DS="@firebase/firestore",VS="@firebase/vertexai",bS="@firebase/firestore-compat",LS="firebase",OS="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]",MS={[Of]:"fire-core",[cS]:"fire-core-compat",[dS]:"fire-analytics",[hS]:"fire-analytics-compat",[pS]:"fire-app-check",[fS]:"fire-app-check-compat",[mS]:"fire-auth",[gS]:"fire-auth-compat",[yS]:"fire-rtdb",[vS]:"fire-data-connect",[_S]:"fire-rtdb-compat",[wS]:"fire-fn",[ES]:"fire-fn-compat",[TS]:"fire-iid",[IS]:"fire-iid-compat",[SS]:"fire-fcm",[AS]:"fire-fcm-compat",[RS]:"fire-perf",[CS]:"fire-perf-compat",[PS]:"fire-rc",[kS]:"fire-rc-compat",[xS]:"fire-gcs",[NS]:"fire-gcs-compat",[DS]:"fire-fst",[bS]:"fire-fst-compat",[VS]:"fire-vertex","fire-js":"fire-js",[LS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,FS=new Map,Ff=new Map;function Yy(n,e){try{n.container.addComponent(e)}catch(t){si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xo(n){const e=n.name;if(Ff.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,n);for(const t of $c.values())Yy(t,n);for(const t of FS.values())Yy(t,n);return!0}function wp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new Ul("app","Firebase",US);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=OS;function W0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Mf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Wi.create("bad-app-name",{appName:String(o)});if(t||(t=z0()),!t)throw Wi.create("no-options");const a=$c.get(o);if(a){if(Il(t,a.options)&&Il(i,a.config))return a;throw Wi.create("duplicate-app",{appName:o})}const c=new WI(o);for(const p of Ff.values())c.addComponent(p);const d=new jS(t,i,c);return $c.set(o,d),d}function K0(n=Mf){const e=$c.get(n);if(!e&&n===Mf&&z0())return W0();if(!e)throw Wi.create("no-app",{appName:n});return e}function Ki(n,e,t){var i;let o=(i=MS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(d.join(" "));return}Xo(new Us(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebase-heartbeat-database",zS=1,Sl="firebase-heartbeat-store";let Ef=null;function G0(){return Ef||(Ef=sS(BS,zS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wi.create("idb-open",{originalErrorMessage:n.message})})),Ef}async function $S(n){try{const t=(await G0()).transaction(Sl),i=await t.objectStore(Sl).get(Q0(n));return await t.done,i}catch(e){if(e instanceof ci)si.warn(e.message);else{const t=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(t.message)}}}async function Xy(n,e){try{const i=(await G0()).transaction(Sl,"readwrite");await i.objectStore(Sl).put(e,Q0(n)),await i.done}catch(t){if(t instanceof ci)si.warn(t.message);else{const i=Wi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});si.warn(i.message)}}}function Q0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=1024,HS=30*24*60*60*1e3;class WS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Jy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=HS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){si.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jy(),{heartbeatsToSend:i,unsentEntries:o}=KS(this._heartbeatsCache.heartbeats),a=zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return si.warn(t),""}}}function Jy(){return new Date().toISOString().substring(0,10)}function KS(n,e=qS){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Zy(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Zy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class GS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bI()?LI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $S(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Zy(n){return zc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){Xo(new Us("platform-logger",e=>new lS(e),"PRIVATE")),Xo(new Us("heartbeat",e=>new WS(e),"PRIVATE")),Ki(Of,Qy,n),Ki(Of,Qy,"esm2017"),Ki("fire-js","")}QS("");var YS="firebase",XS="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(YS,XS,"app");function Ep(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JS=Y0,X0=new Ul("auth","Firebase",Y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new vp("@firebase/auth");function ZS(n,...e){qc.logLevel<=We.WARN&&qc.warn(`Auth (${la}): ${n}`,...e)}function Cc(n,...e){qc.logLevel<=We.ERROR&&qc.error(`Auth (${la}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(n,...e){throw Tp(n,...e)}function kr(n,...e){return Tp(n,...e)}function J0(n,e,t){const i=Object.assign(Object.assign({},JS()),{[e]:t});return new Ul("auth","Firebase",i).create(e,{appName:n.name})}function ri(n){return J0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return X0.create(n,...e)}function De(n,e,...t){if(!n)throw Tp(e,...t)}function Zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cc(e),new Error(e)}function oi(n,e){n||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eA(){return ev()==="http:"||ev()==="https:"}function ev(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eA()||xI()||"connection"in navigator)?navigator.onLine:!0}function nA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t){this.shortDelay=e,this.longDelay=t,oi(t>e,"Short delay should be less than long delay!"),this.isMobile=CI()||NI()}get(){return tA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(n,e){oi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new Bl(3e4,6e4);function ts(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ns(n,e,t,i,o={}){return e_(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=jl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},a);return kI()||(y.referrerPolicy="no-referrer"),Z0.fetch()(t_(n,n.config.apiHost,t,d),y)})}async function e_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},rA),e);try{const o=new oA(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw mc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw mc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw mc(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw J0(n,_,y);hr(n,_)}}catch(o){if(o instanceof ci)throw o;hr(n,"network-request-failed",{message:String(o)})}}async function zl(n,e,t,i,o={}){const a=await ns(n,e,t,i,o);return"mfaPendingCredential"in a&&hr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function t_(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Ip(n.config,o):`${n.config.apiScheme}://${o}`}function sA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(kr(this.auth,"network-request-failed")),iA.get())})}}function mc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=kr(n,e,i);return o.customData._tokenResponse=t,o}function tv(n){return n!==void 0&&n.enterprise!==void 0}class aA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lA(n,e){return ns(n,"GET","/v2/recaptchaConfig",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(n,e){return ns(n,"POST","/v1/accounts:delete",e)}async function n_(n,e){return ns(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cA(n,e=!1){const t=Lt(n),i=await t.getIdToken(e),o=Sp(i);De(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:ml(Tf(o.auth_time)),issuedAtTime:ml(Tf(o.iat)),expirationTime:ml(Tf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Tf(n){return Number(n)*1e3}function Sp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const o=j0(t);return o?JSON.parse(o):(Cc("Failed to decode base64 JWT payload"),null)}catch(o){return Cc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function nv(n){const e=Sp(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ci&&hA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function hA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Al(n,n_(t,{idToken:i}));De(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?r_(a.providerUserInfo):[],d=pA(n.providerData,c),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new jf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function fA(n){const e=Lt(n);await Hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function r_(n){return n.map(e=>{var{providerId:t}=e,i=Ep(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(n,e){const t=await e_(n,{},async()=>{const i=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=t_(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Z0.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gA(n,e){return ns(n,"POST","/v2/accounts:revokeToken",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=nv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await mA(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Ko;return i&&(De(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(De(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(De(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Al(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cA(this,e)}reload(){return fA(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Hc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await Al(this,uA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,p,y,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,k=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,V=(c=t.photoURL)!==null&&c!==void 0?c:void 0,x=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,j=(y=t.createdAt)!==null&&y!==void 0?y:void 0,B=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:G,emailVerified:ee,isAnonymous:de,providerData:_e,stsTokenManager:D}=t;De(G&&D,e,"internal-error");const I=Ko.fromJSON(this.name,D);De(typeof G=="string",e,"internal-error"),Mi(E,e.name),Mi(S,e.name),De(typeof ee=="boolean",e,"internal-error"),De(typeof de=="boolean",e,"internal-error"),Mi(k,e.name),Mi(V,e.name),Mi(x,e.name),Mi(N,e.name),Mi(j,e.name),Mi(B,e.name);const A=new ei({uid:G,auth:e,email:S,emailVerified:ee,displayName:E,isAnonymous:de,photoURL:V,phoneNumber:k,tenantId:x,stsTokenManager:I,createdAt:j,lastLoginAt:B});return _e&&Array.isArray(_e)&&(A.providerData=_e.map(P=>Object.assign({},P))),N&&(A._redirectEventId=N),A}static async _fromIdTokenResponse(e,t,i=!1){const o=new Ko;o.updateFromServerResponse(t);const a=new ei({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Hc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];De(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?r_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Ko;d.updateFromIdToken(i);const p=new ei({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new jf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;function ti(n){oi(n instanceof Function,"Expected a class definition");let e=rv.get(n);return e?(oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,rv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}i_.type="NONE";const iv=i_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(n,e,t){return`firebase:${n}:${e}:${t}`}class Go{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Pc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Pc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Go(ti(iv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||ti(iv);const c=Pc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(c);if(_){const E=ei._fromJSON(e,_);y!==a&&(d=E),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Go(a,e,i):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new Go(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c_(e))return"Blackberry";if(h_(e))return"Webos";if(o_(e))return"Safari";if((e.includes("chrome/")||a_(e))&&!e.includes("edge/"))return"Chrome";if(u_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function s_(n=rn()){return/firefox\//i.test(n)}function o_(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a_(n=rn()){return/crios\//i.test(n)}function l_(n=rn()){return/iemobile/i.test(n)}function u_(n=rn()){return/android/i.test(n)}function c_(n=rn()){return/blackberry/i.test(n)}function h_(n=rn()){return/webos/i.test(n)}function Ap(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yA(n=rn()){var e;return Ap(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vA(){return DI()&&document.documentMode===10}function d_(n=rn()){return Ap(n)||u_(n)||h_(n)||c_(n)||/windows phone/i.test(n)||l_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n,e=[]){let t;switch(n){case"Browser":t=sv(rn());break;case"Worker":t=`${sv(rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${la}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(n,e={}){return ns(n,"GET","/v2/passwordPolicy",ts(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=6;class TA{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:EA,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new _A(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ti(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await n_(this,{idToken:e}),i=await ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(ri(this));const t=e?Lt(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wA(this),t=new TA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await gA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ti(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ws(n){return Lt(n)}class ov{constructor(e){this.auth=e,this.observer=null,this.addObserver=jI(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SA(n){hh=n}function p_(n){return hh.loadJS(n)}function AA(){return hh.recaptchaEnterpriseScript}function RA(){return hh.gapiScript}function CA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class PA{constructor(){this.enterprise=new kA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class kA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xA="recaptcha-enterprise",m_="NO_RECAPTCHA";class NA{constructor(e){this.type=xA,this.auth=Ws(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{lA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new aA(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(a,c,d){const p=window.grecaptcha;tv(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(m_)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PA().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(d=>{if(!t&&tv(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=AA();p.length!==0&&(p+=d),p_(p).then(()=>{o(d,a,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function av(n,e,t,i=!1,o=!1){const a=new NA(n);let c;if(o)c=m_;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Bf(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await av(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await av(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n,e){const t=wp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Il(a,e??{}))return o;hr(o,"already-initialized")}return t.initialize({options:e})}function VA(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ti);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function bA(n,e,t){const i=Ws(n);De(i._canInitEmulator,i,"emulator-config-failed"),De(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=g_(e),{host:c,port:d}=LA(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),OA()}function g_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LA(n){const e=g_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:lv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:lv(c)}}}function lv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function OA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function MA(n,e){return ns(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(n,e){return zl(n,"POST","/v1/accounts:signInWithPassword",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",ts(n,e))}async function jA(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends Rp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Rl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Rl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bf(e,t,"signInWithPassword",FA);case"emailLink":return UA(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bf(e,i,"signUpPassword",MA);case"emailLink":return jA(e,{idToken:t,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n,e){return zl(n,"POST","/v1/accounts:signInWithIdp",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="http://localhost";class js extends Rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Ep(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new js(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}buildRequest(){const e={requestUri:BA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $A(n){const e=al(ll(n)).link,t=e?al(ll(e)).deep_link_id:null,i=al(ll(n)).deep_link_id;return(i?al(ll(i)).link:null)||i||t||e||n}class Cp{constructor(e){var t,i,o,a,c,d;const p=al(ll(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,E=zA((o=p.mode)!==null&&o!==void 0?o:null);De(y&&_&&E,"argument-error"),this.apiKey=y,this.operation=E,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=$A(e);try{return new Cp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.providerId=ua.PROVIDER_ID}static credential(e,t){return Rl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Cp.parseLink(t);return De(i,"argument-error"),Rl._fromEmailAndCode(e,i.code,i.tenantId)}}ua.PROVIDER_ID="password";ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends y_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends $l{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return js._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ji.credential(t,i)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends $l{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends $l{constructor(){super("twitter.com")}static credential(e,t){return js._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return zi.credential(t,i)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(n,e){return zl(n,"POST","/v1/accounts:signUp",ts(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ei._fromIdTokenResponse(e,i,o),c=uv(i);return new Bs({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=uv(i);return new Bs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function uv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends ci{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Wc(e,t,i,o)}}function v_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(n,a,e,i):a})}async function HA(n,e,t=!1){const i=await Al(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Bs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(n,e,t=!1){const{auth:i}=n;if(Pr(i.app))return Promise.reject(ri(i));const o="reauthenticate";try{const a=await Al(n,v_(i,o,e,n),t);De(a.idToken,i,"internal-error");const c=Sp(a.idToken);De(c,i,"internal-error");const{sub:d}=c;return De(n.uid===d,i,"user-mismatch"),Bs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&hr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __(n,e,t=!1){if(Pr(n.app))return Promise.reject(ri(n));const i="signIn",o=await v_(n,i,e),a=await Bs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function KA(n,e){return __(Ws(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w_(n){const e=Ws(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GA(n,e,t){if(Pr(n.app))return Promise.reject(ri(n));const i=Ws(n),c=await Bf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&w_(n),p}),d=await Bs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function QA(n,e,t){return Pr(n.app)?Promise.reject(ri(n)):KA(Lt(n),ua.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&w_(n),i})}function YA(n,e,t,i){return Lt(n).onIdTokenChanged(e,t,i)}function XA(n,e,t){return Lt(n).beforeAuthStateChanged(e,t)}function E_(n,e,t,i){return Lt(n).onAuthStateChanged(e,t,i)}function JA(n){return Lt(n).signOut()}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1e3,eR=10;class I_ extends T_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);vA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ZA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}I_.type="LOCAL";const tR=I_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_ extends T_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}S_.type="SESSION";const A_=S_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new dh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,a)),p=await nR(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const y=Pp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(S.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function iR(n){xr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function sR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aR(){return R_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="firebaseLocalStorageDb",lR=1,Gc="firebaseLocalStorage",P_="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fh(n,e){return n.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function uR(){const n=indexedDB.deleteDatabase(C_);return new ql(n).toPromise()}function zf(){const n=indexedDB.open(C_,lR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Gc,{keyPath:P_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Gc)?e(i):(i.close(),await uR(),e(await zf()))})})}async function cv(n,e,t){const i=fh(n,!0).put({[P_]:e,value:t});return new ql(i).toPromise()}async function cR(n,e){const t=fh(n,!1).get(e),i=await new ql(t).toPromise();return i===void 0?null:i.value}function hv(n,e){const t=fh(n,!0).delete(e);return new ql(t).toPromise()}const hR=800,dR=3;class k_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>dR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(aR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sR(),!this.activeServiceWorker)return;this.sender=new rR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zf();return await cv(e,Kc,"1"),await hv(e,Kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>cv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>cR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=fh(o,!1).getAll();return new ql(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k_.type="LOCAL";const fR=k_;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n,e){return e?ti(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends Rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mR(n){return __(n.auth,new kp(n),n.bypassAuthState)}function gR(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),WA(t,new kp(n),n.bypassAuthState)}async function yR(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),HA(t,new kp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mR;case"linkViaPopup":case"linkViaRedirect":return yR;case"reauthViaPopup":case"reauthViaRedirect":return gR;default:hr(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Bl(2e3,1e4);class Wo extends x_{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vR.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="pendingRedirect",kc=new Map;class wR extends x_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const i=await ER(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ER(n,e){const t=SR(e),i=IR(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function TR(n,e){kc.set(n._key(),e)}function IR(n){return ti(n._redirectPersistence)}function SR(n){return Pc(_R,n.config.apiKey,n.name)}async function AR(n,e,t=!1){if(Pr(n.app))return Promise.reject(ri(n));const i=Ws(n),o=pR(i,e),c=await new wR(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=10*60*1e3;class CR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!N_(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RR&&this.cachedEventUids.clear(),this.cachedEventUids.has(dv(e))}saveEventToCache(e){this.cachedEventUids.add(dv(e)),this.lastProcessedEventTime=Date.now()}}function dv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function N_({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(n,e={}){return ns(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NR=/^https?/;async function DR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await kR(n);for(const t of e)try{if(VR(t))return}catch{}hr(n,"unauthorized-domain")}function VR(n){const e=Uf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!NR.test(t))return!1;if(xR.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Bl(3e4,6e4);function fv(){const n=xr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LR(n){return new Promise((e,t)=>{var i,o,a;function c(){fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fv(),t(kr(n,"network-request-failed"))},timeout:bR.get()})}if(!((o=(i=xr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=xr().gapi)===null||a===void 0)&&a.load)c();else{const d=CA("iframefcb");return xr()[d]=()=>{gapi.load?c():t(kr(n,"network-request-failed"))},p_(`${RA()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw xc=null,e})}let xc=null;function OR(n){return xc=xc||LR(n),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new Bl(5e3,15e3),FR="__/auth/iframe",UR="emulator/auth/iframe",jR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zR(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ip(e,UR):`https://${n.config.authDomain}/${FR}`,i={apiKey:e.apiKey,appName:n.name,v:la},o=BR.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${jl(i).slice(1)}`}async function $R(n){const e=await OR(n),t=xr().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:zR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jR,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=kr(n,"network-request-failed"),d=xr().setTimeout(()=>{a(c)},MR.get());function p(){xr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HR=500,WR=600,KR="_blank",GR="http://localhost";class pv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QR(n,e,t,i=HR,o=WR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},qR),{width:i.toString(),height:o.toString(),top:a,left:c}),y=rn().toLowerCase();t&&(d=a_(y)?KR:t),s_(y)&&(e=e||GR,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[k,V])=>`${S}${k}=${V},`,"");if(yA(y)&&d!=="_self")return YR(e||"",d),new pv(null);const E=window.open(e||"",d,_);De(E,n,"popup-blocked");try{E.focus()}catch{}return new pv(E)}function YR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="__/auth/handler",JR="emulator/auth/handler",ZR=encodeURIComponent("fac");async function mv(n,e,t,i,o,a){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:la,eventId:o};if(e instanceof y_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",UI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof $l){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${ZR}=${encodeURIComponent(p)}`:"";return`${eC(n)}?${jl(d).slice(1)}${y}`}function eC({config:n}){return n.emulator?Ip(n,JR):`https://${n.authDomain}/${XR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="webStorageSupport";class tC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A_,this._completeRedirectFn=AR,this._overrideRedirectResult=TR}async _openPopup(e,t,i,o){var a;oi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await mv(e,t,i,Uf(),o);return QR(e,c,Pp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await mv(e,t,i,Uf(),o);return iR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(oi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await $R(e),i=new CR(e);return t.register("authEvent",o=>(De(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(If,{type:If},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[If];c!==void 0&&t(!!c),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return d_()||o_()||Ap()}}const nC=tC;var gv="@firebase/auth",yv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sC(n){Xo(new Us("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;De(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f_(n)},y=new IA(i,o,a,p);return VA(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Xo(new Us("auth-internal",e=>{const t=Ws(e.getProvider("auth").getImmediate());return(i=>new rC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(gv,yv,iC(n)),Ki(gv,yv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=5*60,aC=$0("authIdTokenMaxAge")||oC;let vv=null;const lC=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>aC)return;const o=t==null?void 0:t.token;vv!==o&&(vv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uC(n=K0()){const e=wp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DA(n,{popupRedirectResolver:nC,persistence:[fR,tR,A_]}),i=$0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=lC(a.toString());XA(t,c,()=>c(t.currentUser)),YA(t,d=>c(d))}}const o=B0("auth");return o&&bA(t,`http://${o}`),t}function cC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}SA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=kr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",cC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sC("Browser");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,D_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function A(){}A.prototype=I.prototype,D.D=I.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(P,M,b){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return I.prototype[M].apply(P,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,I,A){A||(A=0);var P=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)P[M]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(M=0;16>M;++M)P[M]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=D.g[0],A=D.g[1],M=D.g[2];var b=D.g[3],R=I+(b^A&(M^b))+P[0]+3614090360&4294967295;I=A+(R<<7&4294967295|R>>>25),R=b+(M^I&(A^M))+P[1]+3905402710&4294967295,b=I+(R<<12&4294967295|R>>>20),R=M+(A^b&(I^A))+P[2]+606105819&4294967295,M=b+(R<<17&4294967295|R>>>15),R=A+(I^M&(b^I))+P[3]+3250441966&4294967295,A=M+(R<<22&4294967295|R>>>10),R=I+(b^A&(M^b))+P[4]+4118548399&4294967295,I=A+(R<<7&4294967295|R>>>25),R=b+(M^I&(A^M))+P[5]+1200080426&4294967295,b=I+(R<<12&4294967295|R>>>20),R=M+(A^b&(I^A))+P[6]+2821735955&4294967295,M=b+(R<<17&4294967295|R>>>15),R=A+(I^M&(b^I))+P[7]+4249261313&4294967295,A=M+(R<<22&4294967295|R>>>10),R=I+(b^A&(M^b))+P[8]+1770035416&4294967295,I=A+(R<<7&4294967295|R>>>25),R=b+(M^I&(A^M))+P[9]+2336552879&4294967295,b=I+(R<<12&4294967295|R>>>20),R=M+(A^b&(I^A))+P[10]+4294925233&4294967295,M=b+(R<<17&4294967295|R>>>15),R=A+(I^M&(b^I))+P[11]+2304563134&4294967295,A=M+(R<<22&4294967295|R>>>10),R=I+(b^A&(M^b))+P[12]+1804603682&4294967295,I=A+(R<<7&4294967295|R>>>25),R=b+(M^I&(A^M))+P[13]+4254626195&4294967295,b=I+(R<<12&4294967295|R>>>20),R=M+(A^b&(I^A))+P[14]+2792965006&4294967295,M=b+(R<<17&4294967295|R>>>15),R=A+(I^M&(b^I))+P[15]+1236535329&4294967295,A=M+(R<<22&4294967295|R>>>10),R=I+(M^b&(A^M))+P[1]+4129170786&4294967295,I=A+(R<<5&4294967295|R>>>27),R=b+(A^M&(I^A))+P[6]+3225465664&4294967295,b=I+(R<<9&4294967295|R>>>23),R=M+(I^A&(b^I))+P[11]+643717713&4294967295,M=b+(R<<14&4294967295|R>>>18),R=A+(b^I&(M^b))+P[0]+3921069994&4294967295,A=M+(R<<20&4294967295|R>>>12),R=I+(M^b&(A^M))+P[5]+3593408605&4294967295,I=A+(R<<5&4294967295|R>>>27),R=b+(A^M&(I^A))+P[10]+38016083&4294967295,b=I+(R<<9&4294967295|R>>>23),R=M+(I^A&(b^I))+P[15]+3634488961&4294967295,M=b+(R<<14&4294967295|R>>>18),R=A+(b^I&(M^b))+P[4]+3889429448&4294967295,A=M+(R<<20&4294967295|R>>>12),R=I+(M^b&(A^M))+P[9]+568446438&4294967295,I=A+(R<<5&4294967295|R>>>27),R=b+(A^M&(I^A))+P[14]+3275163606&4294967295,b=I+(R<<9&4294967295|R>>>23),R=M+(I^A&(b^I))+P[3]+4107603335&4294967295,M=b+(R<<14&4294967295|R>>>18),R=A+(b^I&(M^b))+P[8]+1163531501&4294967295,A=M+(R<<20&4294967295|R>>>12),R=I+(M^b&(A^M))+P[13]+2850285829&4294967295,I=A+(R<<5&4294967295|R>>>27),R=b+(A^M&(I^A))+P[2]+4243563512&4294967295,b=I+(R<<9&4294967295|R>>>23),R=M+(I^A&(b^I))+P[7]+1735328473&4294967295,M=b+(R<<14&4294967295|R>>>18),R=A+(b^I&(M^b))+P[12]+2368359562&4294967295,A=M+(R<<20&4294967295|R>>>12),R=I+(A^M^b)+P[5]+4294588738&4294967295,I=A+(R<<4&4294967295|R>>>28),R=b+(I^A^M)+P[8]+2272392833&4294967295,b=I+(R<<11&4294967295|R>>>21),R=M+(b^I^A)+P[11]+1839030562&4294967295,M=b+(R<<16&4294967295|R>>>16),R=A+(M^b^I)+P[14]+4259657740&4294967295,A=M+(R<<23&4294967295|R>>>9),R=I+(A^M^b)+P[1]+2763975236&4294967295,I=A+(R<<4&4294967295|R>>>28),R=b+(I^A^M)+P[4]+1272893353&4294967295,b=I+(R<<11&4294967295|R>>>21),R=M+(b^I^A)+P[7]+4139469664&4294967295,M=b+(R<<16&4294967295|R>>>16),R=A+(M^b^I)+P[10]+3200236656&4294967295,A=M+(R<<23&4294967295|R>>>9),R=I+(A^M^b)+P[13]+681279174&4294967295,I=A+(R<<4&4294967295|R>>>28),R=b+(I^A^M)+P[0]+3936430074&4294967295,b=I+(R<<11&4294967295|R>>>21),R=M+(b^I^A)+P[3]+3572445317&4294967295,M=b+(R<<16&4294967295|R>>>16),R=A+(M^b^I)+P[6]+76029189&4294967295,A=M+(R<<23&4294967295|R>>>9),R=I+(A^M^b)+P[9]+3654602809&4294967295,I=A+(R<<4&4294967295|R>>>28),R=b+(I^A^M)+P[12]+3873151461&4294967295,b=I+(R<<11&4294967295|R>>>21),R=M+(b^I^A)+P[15]+530742520&4294967295,M=b+(R<<16&4294967295|R>>>16),R=A+(M^b^I)+P[2]+3299628645&4294967295,A=M+(R<<23&4294967295|R>>>9),R=I+(M^(A|~b))+P[0]+4096336452&4294967295,I=A+(R<<6&4294967295|R>>>26),R=b+(A^(I|~M))+P[7]+1126891415&4294967295,b=I+(R<<10&4294967295|R>>>22),R=M+(I^(b|~A))+P[14]+2878612391&4294967295,M=b+(R<<15&4294967295|R>>>17),R=A+(b^(M|~I))+P[5]+4237533241&4294967295,A=M+(R<<21&4294967295|R>>>11),R=I+(M^(A|~b))+P[12]+1700485571&4294967295,I=A+(R<<6&4294967295|R>>>26),R=b+(A^(I|~M))+P[3]+2399980690&4294967295,b=I+(R<<10&4294967295|R>>>22),R=M+(I^(b|~A))+P[10]+4293915773&4294967295,M=b+(R<<15&4294967295|R>>>17),R=A+(b^(M|~I))+P[1]+2240044497&4294967295,A=M+(R<<21&4294967295|R>>>11),R=I+(M^(A|~b))+P[8]+1873313359&4294967295,I=A+(R<<6&4294967295|R>>>26),R=b+(A^(I|~M))+P[15]+4264355552&4294967295,b=I+(R<<10&4294967295|R>>>22),R=M+(I^(b|~A))+P[6]+2734768916&4294967295,M=b+(R<<15&4294967295|R>>>17),R=A+(b^(M|~I))+P[13]+1309151649&4294967295,A=M+(R<<21&4294967295|R>>>11),R=I+(M^(A|~b))+P[4]+4149444226&4294967295,I=A+(R<<6&4294967295|R>>>26),R=b+(A^(I|~M))+P[11]+3174756917&4294967295,b=I+(R<<10&4294967295|R>>>22),R=M+(I^(b|~A))+P[2]+718787259&4294967295,M=b+(R<<15&4294967295|R>>>17),R=A+(b^(M|~I))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+b&4294967295}i.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var A=I-this.blockSize,P=this.B,M=this.h,b=0;b<I;){if(M==0)for(;b<=A;)o(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<I;)if(P[M++]=D.charCodeAt(b++),M==this.blockSize){o(this,P),M=0;break}}else for(;b<I;)if(P[M++]=D[b++],M==this.blockSize){o(this,P),M=0;break}}this.h=M,this.o+=I},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var A=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=A&255,A/=256;for(this.u(D),D=Array(16),I=A=0;4>I;++I)for(var P=0;32>P;P+=8)D[A++]=this.g[I]>>>P&255;return D};function a(D,I){var A=d;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=I(D)}function c(D,I){this.h=I;for(var A=[],P=!0,M=D.length-1;0<=M;M--){var b=D[M]|0;P&&b==I||(A[M]=b,P=!1)}this.g=A}var d={};function p(D){return-128<=D&&128>D?a(D,function(I){return new c([I|0],0>I?-1:0)}):new c([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return N(y(-D));for(var I=[],A=1,P=0;D>=A;P++)I[P]=D/A|0,A*=4294967296;return new c(I,0)}function _(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return N(_(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(I,8)),P=E,M=0;M<D.length;M+=8){var b=Math.min(8,D.length-M),R=parseInt(D.substring(M,M+b),I);8>b?(b=y(Math.pow(I,b)),P=P.j(b).add(y(R))):(P=P.j(A),P=P.add(y(R)))}return P}var E=p(0),S=p(1),k=p(16777216);n=c.prototype,n.m=function(){if(x(this))return-N(this).m();for(var D=0,I=1,A=0;A<this.g.length;A++){var P=this.i(A);D+=(0<=P?P:4294967296+P)*I,I*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(V(this))return"0";if(x(this))return"-"+N(this).toString(D);for(var I=y(Math.pow(D,6)),A=this,P="";;){var M=ee(A,I).g;A=j(A,M.j(I));var b=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=M,V(A))return b+P;for(;6>b.length;)b="0"+b;P=b+P}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function V(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function x(D){return D.h==-1}n.l=function(D){return D=j(this,D),x(D)?-1:V(D)?0:1};function N(D){for(var I=D.g.length,A=[],P=0;P<I;P++)A[P]=~D.g[P];return new c(A,~D.h).add(S)}n.abs=function(){return x(this)?N(this):this},n.add=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],P=0,M=0;M<=I;M++){var b=P+(this.i(M)&65535)+(D.i(M)&65535),R=(b>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);P=R>>>16,b&=65535,R&=65535,A[M]=R<<16|b}return new c(A,A[A.length-1]&-2147483648?-1:0)};function j(D,I){return D.add(N(I))}n.j=function(D){if(V(this)||V(D))return E;if(x(this))return x(D)?N(this).j(N(D)):N(N(this).j(D));if(x(D))return N(this.j(N(D)));if(0>this.l(k)&&0>D.l(k))return y(this.m()*D.m());for(var I=this.g.length+D.g.length,A=[],P=0;P<2*I;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<D.g.length;M++){var b=this.i(P)>>>16,R=this.i(P)&65535,Ne=D.i(M)>>>16,Ue=D.i(M)&65535;A[2*P+2*M]+=R*Ue,B(A,2*P+2*M),A[2*P+2*M+1]+=b*Ue,B(A,2*P+2*M+1),A[2*P+2*M+1]+=R*Ne,B(A,2*P+2*M+1),A[2*P+2*M+2]+=b*Ne,B(A,2*P+2*M+2)}for(P=0;P<I;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=I;P<2*I;P++)A[P]=0;return new c(A,0)};function B(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function G(D,I){this.g=D,this.h=I}function ee(D,I){if(V(I))throw Error("division by zero");if(V(D))return new G(E,E);if(x(D))return I=ee(N(D),I),new G(N(I.g),N(I.h));if(x(I))return I=ee(D,N(I)),new G(N(I.g),I.h);if(30<D.g.length){if(x(D)||x(I))throw Error("slowDivide_ only works with positive integers.");for(var A=S,P=I;0>=P.l(D);)A=de(A),P=de(P);var M=_e(A,1),b=_e(P,1);for(P=_e(P,2),A=_e(A,2);!V(P);){var R=b.add(P);0>=R.l(D)&&(M=M.add(A),b=R),P=_e(P,1),A=_e(A,1)}return I=j(D,M.j(I)),new G(M,I)}for(M=E;0<=D.l(I);){for(A=Math.max(1,Math.floor(D.m()/I.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),b=y(A),R=b.j(I);x(R)||0<R.l(D);)A-=P,b=y(A),R=b.j(I);V(b)&&(b=S),M=M.add(b),D=j(D,R)}return new G(M,D)}n.A=function(D){return ee(this,D).h},n.and=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)&D.i(P);return new c(A,this.h&D.h)},n.or=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)|D.i(P);return new c(A,this.h|D.h)},n.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)^D.i(P);return new c(A,this.h^D.h)};function de(D){for(var I=D.g.length+1,A=[],P=0;P<I;P++)A[P]=D.i(P)<<1|D.i(P-1)>>>31;return new c(A,D.h)}function _e(D,I){var A=I>>5;I%=32;for(var P=D.g.length-A,M=[],b=0;b<P;b++)M[b]=0<I?D.i(b+A)>>>I|D.i(b+A+1)<<32-I:D.i(b+A);return new c(M,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,D_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Ms=c}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V_,ul,b_,Nc,$f,L_,O_,M_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in v))break e;v=v[z]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,T=!1,z={next:function(){if(!T&&v<u.length){var Q=v++;return{value:m(Q,u[Q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function S(u,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,S.apply(null,arguments)}function k(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function V(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,z,Q){for(var ue=Array(arguments.length-2),it=2;it<arguments.length;it++)ue[it-2]=arguments[it];return m.prototype[z].apply(T,ue)}}function x(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function N(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const z=u.length||0,Q=T.length||0;u.length=z+Q;for(let ue=0;ue<Q;ue++)u[z+ue]=T[ue]}else u.push(T)}}class j{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function B(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ee(u){return ee[" "](u),u}ee[" "]=function(){};var de=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function _e(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function D(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let v,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(v in T)u[v]=T[v];for(let Q=0;Q<A.length;Q++)v=A[Q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function b(u){d.setTimeout(()=>{throw u},0)}function R(){var u=ge;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,v){const T=Ue.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Ue=new j(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,se=!1,ge=new Ne,ce=()=>{const u=d.Promise.resolve(void 0);ke=()=>{u.then(U)}};var U=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(v){b(v)}var m=Ue;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function xe(u,m){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(de){e:{try{ee(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}V(xe,fe);var Le={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),He=0;function rt(u,m,v,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=z,this.key=++He,this.da=this.fa=!1}function St(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vn(u){this.src=u,this.g={},this.h=0}Vn.prototype.add=function(u,m,v,T,z){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ue=Kn(u,m,T,z);return-1<ue?(m=u[ue],v||(m.fa=!1)):(m=new rt(m,this.src,Q,!!T,z),m.fa=v,u.push(m)),m};function hi(u,m){var v=m.type;if(v in u.g){var T=u.g[v],z=Array.prototype.indexOf.call(T,m,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(T,z,1),Q&&(St(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Kn(u,m,v,T){for(var z=0;z<u.length;++z){var Q=u[z];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==T)return z}return-1}var fr="closure_lm_"+(1e6*Math.random()|0),ss={};function Xs(u,m,v,T,z){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Xs(u,m[Q],v,T,z);return null}return v=Me(v),u&&u[je]?u.K(m,v,y(T)?!!T.capture:!!T,z):Js(u,m,v,!1,T,z)}function Js(u,m,v,T,z,Q){if(!m)throw Error("Invalid event type");var ue=y(z)?!!z.capture:!!z,it=oe(u);if(it||(u[fr]=it=new Vn(u)),v=it.add(m,v,T,ue,Q),v.proxy)return v;if(T=L(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)Ae||(z=ue),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(he(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function L(){function u(v){return m.call(u.src,u.listener,v)}const m=le;return u}function W(u,m,v,T,z){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)W(u,m[Q],v,T,z);else T=y(T)?!!T.capture:!!T,v=Me(v),u&&u[je]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],v=Kn(Q,v,T,z),-1<v&&(St(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=oe(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Kn(m,v,T,z)),(v=-1<u?m[u]:null)&&Y(v))}function Y(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[je])hi(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(he(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=oe(m))?(hi(v,u),v.h==0&&(v.src=null,m[fr]=null)):St(u)}}}function he(u){return u in ss?ss[u]:ss[u]="on"+u}function le(u,m){if(u.da)u=!0;else{m=new xe(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&Y(u),u=v.call(T,m)}return u}function oe(u){return u=u[fr],u instanceof Vn?u:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(u){return typeof u=="function"?u:(u[Se]||(u[Se]=function(m){return u.handleEvent(m)}),u[Se])}function ze(){J.call(this),this.i=new Vn(this),this.M=this,this.F=null}V(ze,J),ze.prototype[je]=!0,ze.prototype.removeEventListener=function(u,m,v,T){W(this,u,m,v,T)};function $e(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new fe(m,u);else if(m instanceof fe)m.target=m.target||u;else{var z=m;m=new fe(T,u),P(m,z)}if(z=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ue=m.g=v[Q];z=Bt(ue,T,!0,m)&&z}if(ue=m.g=u,z=Bt(ue,T,!0,m)&&z,z=Bt(ue,T,!1,m)&&z,v)for(Q=0;Q<v.length;Q++)ue=m.g=v[Q],z=Bt(ue,T,!1,m)&&z}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)St(v[T]);delete u.g[m],u.h--}}this.F=null},ze.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ze.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Bt(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,Q=0;Q<m.length;++Q){var ue=m[Q];if(ue&&!ue.da&&ue.capture==v){var it=ue.listener,xt=ue.ha||ue.src;ue.fa&&hi(u.i,ue),z=it.call(xt,T)!==!1&&z}}return z&&!T.defaultPrevented}function os(u,m,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function bn(u){u.g=os(()=>{u.g=null,u.i&&(u.i=!1,bn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Gn extends J{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:bn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){J.call(this),this.h=u,this.g={}}V(Mr,J);var di=[];function as(u){_e(u.g,function(m,v){this.g.hasOwnProperty(v)&&Y(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),as(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fi=d.JSON.stringify,ga=d.JSON.parse,ya=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ls(){}ls.prototype.h=null;function Zs(u){return u.h||(u.h=u.i())}function eo(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){fe.call(this,"d")}V(pr,fe);function to(){fe.call(this,"c")}V(to,fe);var mr={},va=null;function us(){return va=va||new ze}mr.La="serverreachability";function _a(u){fe.call(this,mr.La,u)}V(_a,fe);function Fr(u){const m=us();$e(m,new _a(m))}mr.STAT_EVENT="statevent";function wa(u,m){fe.call(this,mr.STAT_EVENT,u),this.stat=m}V(wa,fe);function _t(u){const m=us();$e(m,new wa(m,u))}mr.Ma="timingevent";function no(u,m){fe.call(this,mr.Ma,u),this.size=m}V(no,fe);function Qn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function hs(u,m,v,T,z,Q){u.info(function(){if(u.g)if(Q)for(var ue="",it=Q.split("&"),xt=0;xt<it.length;xt++){var Ye=it[xt].split("=");if(1<Ye.length){var Ot=Ye[0];Ye=Ye[1];var At=Ot.split("_");ue=2<=At.length&&At[1]=="type"?ue+(Ot+"="+Ye+"&"):ue+(Ot+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+v+`
`+ue})}function ro(u,m,v,T,z,Q,ue){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+v+`
`+Q+" "+ue})}function Yn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(T?" "+T:"")})}function Ea(u,m){u.info(function(){return"TIMEOUT: "+m})}cs.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return fi(v)}catch{return m}}var io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function ds(){}V(ds,ls),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},Xn=new ds;function Jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jl}function Jl(){this.i=null,this.g="",this.h=!1}var Ta={},so={};function oo(u,m,v){u.L=1,u.v=vi(In(m)),u.m=v,u.P=!0,Ia(u,null)}function Ia(u,m){u.F=Date.now(),ot(u),u.A=In(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),wi(v.i,"t",T),u.C=0,v=u.j.J,u.h=new Jl,u.g=gu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Gn(S(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(di[0]=z.toString()),z=di);for(var Q=0;Q<z.length;Q++){var ue=Xs(v,z[Q],T||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fr(),hs(u.i,u.u,u.A,u.l,u.R,u.m)}Jn.prototype.ca=function(u){u=u.target;const m=this.M;m&&dn(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const At=dn(this.g);var m=this.g.Ba();const Fn=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||ka(this.g)))){this.J||At!=4||m==7||(m==8||0>=Fn?Fr(3):Fr(2)),fs(this);var v=this.g.Z();this.X=v;t:if(Zl(this)){var T=ka(this.g);u="";var z=T.length,Q=dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){On(this),pi(this);var ue="";break t}this.h.i=new d.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(Q&&m==z-1)});T.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,ro(this.i,this.u,this.A,this.l,this.R,At,v),this.o){if(this.T&&!this.K){t:{if(this.g){var it,xt=this.g;if((it=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(it)){var Ye=it;break t}}Ye=null}if(v=Ye)Yn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sa(this,v);else{this.o=!1,this.s=3,_t(12),On(this),pi(this);break e}}if(this.P){v=!0;let An;for(;!this.J&&this.C<ue.length;)if(An=bh(this,ue),An==so){At==4&&(this.s=4,_t(14),v=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Ta){this.s=4,_t(15),Yn(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else Yn(this.i,this.l,An,null),Sa(this,An);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ue.length!=0||this.h.h||(this.s=1,_t(16),v=!1),this.o=this.o&&v,!v)Yn(this.i,this.l,ue,"[Invalid Chunked Response]"),On(this),pi(this);else if(0<ue.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Na(Ot),Ot.M=!0,_t(11))}}else Yn(this.i,this.l,ue,null),Sa(this,ue);At==4&&On(this),this.o&&!this.J&&(At==4?vo(this.j,this):(this.o=!1,ot(this)))}else fo(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),On(this),pi(this)}}}catch{}finally{}};function Zl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bh(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?so:(v=Number(m.substring(v,T)),isNaN(v)?Ta:(T+=1,T+v>m.length?so:(m=m.slice(T,T+v),u.C=T+v,m)))}Jn.prototype.cancel=function(){this.J=!0,On(this)};function ot(u){u.S=Date.now()+u.I,eu(u,u.I)}function eu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Qn(S(u.ba,u),m)}function fs(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ea(this.i,this.A),this.L!=2&&(Fr(),_t(17)),On(this),this.s=2,pi(this)):eu(this,this.S-u)};function pi(u){u.j.G==0||u.J||vo(u.j,u)}function On(u){fs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,as(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Sa(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||sn(v.h,u))){if(!u.K&&sn(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)yo(v),rr(v);else break e;go(v),_t(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Qn(S(v.Za,v),6e3));if(1>=nu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else $r(v,11)}else if((u.K||v.g==u)&&yo(v),!B(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let Ye=z[m];if(v.T=Ye[0],Ye=Ye[1],v.G==2)if(Ye[0]=="c"){v.K=Ye[1],v.ia=Ye[2];const Ot=Ye[3];Ot!=null&&(v.la=Ot,v.j.info("VER="+v.la));const At=Ye[4];At!=null&&(v.Aa=At,v.j.info("SVER="+v.Aa));const Fn=Ye[5];Fn!=null&&typeof Fn=="number"&&0<Fn&&(T=1.5*Fn,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const An=u.g;if(An){const ws=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var Q=T.h;Q.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Aa(Q,Q.h),Q.h=null))}if(T.D){const wo=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(T.ya=wo,st(T.I,T.D,wo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var ue=u;if(T.qa=mu(T,T.J?T.ia:null,T.W),ue.K){ru(T.h,ue);var it=ue,xt=T.L;xt&&(it.I=xt),it.B&&(fs(it),ot(it)),T.g=ue}else _s(T);0<v.i.length&&_r(v)}else Ye[0]!="stop"&&Ye[0]!="close"||$r(v,7);else v.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?$r(v,7):$t(v):Ye[0]!="noop"&&v.l&&v.l.ta(Ye),v.v=0)}}Fr(4)}catch{}}var tu=class{constructor(u,m){this.g=u,this.map=m}};function ps(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function nu(u){return u.h?1:u.g?u.g.size:0}function sn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Aa(u,m){u.g?u.g.add(m):u.h=m}function ru(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ps.prototype.cancel=function(){if(this.i=iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function iu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return x(u.i)}function ao(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function lo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function mi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=lo(u),T=ao(u),z=T.length,Q=0;Q<z;Q++)m.call(void 0,T[Q],v&&v[Q],u)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),z=null;if(0<=T){var Q=u[v].substring(0,T);z=u[v].substring(T+1)}else Q=u[v];m(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ur(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ur){this.h=u.h,gs(this,u.j),this.o=u.o,this.g=u.g,gi(this,u.s),this.l=u.l;var m=u.i,v=new gr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),yi(this,v),this.m=u.m}else u&&(m=String(u).match(ms))?(this.h=!1,gs(this,m[1]||"",!0),this.o=Ge(m[2]||""),this.g=Ge(m[3]||"",!0),gi(this,m[4]),this.l=Ge(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=Ge(m[7]||"")):(this.h=!1,this.i=new gr(null,this.h))}Ur.prototype.toString=function(){var u=[],m=this.j;m&&u.push(_i(m,uo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_i(m,uo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(_i(v,v.charAt(0)=="/"?au:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",_i(v,Ra)),u.join("")};function In(u){return new Ur(u)}function gs(u,m,v){u.j=v?Ge(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,v){m instanceof gr?(u.i=m,yr(u.i,u.h)):(v||(m=_i(m,lu)),u.i=new gr(m,u.h))}function st(u,m,v){u.i.set(m,v)}function vi(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ge(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _i(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,su),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function su(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var uo=/[#\/\?@]/g,ou=/[#\?:]/g,au=/[#\?]/g,lu=/[#\?@]/g,Ra=/#/g;function gr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function zt(u){u.g||(u.g=new Map,u.h=0,u.i&&Lh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=gr.prototype,n.add=function(u,m){zt(this),this.i=null,u=Mn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Zn(u,m){zt(u),m=Mn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function er(u,m){return zt(u),m=Mn(u,m),u.g.has(m)}n.forEach=function(u,m){zt(this),this.g.forEach(function(v,T){v.forEach(function(z){u.call(m,z,T,this)},this)},this)},n.na=function(){zt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const z=u[T];for(let Q=0;Q<z.length;Q++)v.push(m[T])}return v},n.V=function(u){zt(this);let m=[];if(typeof u=="string")er(this,u)&&(m=m.concat(this.g.get(Mn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return zt(this),this.i=null,u=Mn(this,u),er(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function wi(u,m,v){Zn(u,m),0<v.length&&(u.i=null,u.g.set(Mn(u,m),x(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const Q=encodeURIComponent(String(T)),ue=this.V(T);for(T=0;T<ue.length;T++){var z=Q;ue[T]!==""&&(z+="="+encodeURIComponent(String(ue[T]))),u.push(z)}}return this.i=u.join("&")};function Mn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function yr(u,m){m&&!u.j&&(zt(u),u.i=null,u.g.forEach(function(v,T){var z=T.toLowerCase();T!=z&&(Zn(this,T),wi(this,z,v))},u)),u.j=m}function Oh(u,m){const v=new cs;if(d.Image){const T=new Image;T.onload=k(hn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=k(hn,v,"TestLoadImage: error",!1,m,T),T.onabort=k(hn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=k(hn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function uu(u,m){const v=new cs,T=new AbortController,z=setTimeout(()=>{T.abort(),hn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(Q=>{clearTimeout(z),Q.ok?hn(v,"TestPingServer: ok",!0,m):hn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),hn(v,"TestPingServer: error",!1,m)})}function hn(u,m,v,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(v)}catch{}}function Mh(){this.g=new ya}function cu(u,m,v){const T=v||"";try{mi(u,function(z,Q){let ue=z;y(z)&&(ue=fi(z)),m.push(T+Q+"="+encodeURIComponent(ue))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function jr(u){this.l=u.Ub||null,this.j=u.eb||!1}V(jr,ls),jr.prototype.g=function(){return new ys(this.l,this.j)},jr.prototype.i=function(u){return function(){return u}}({});function ys(u,m){ze.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(ys,ze),n=ys.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,nr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function hu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?tr(this):nr(this),this.readyState==3&&hu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,tr(this))},n.Qa=function(u){this.g&&(this.response=u,tr(this))},n.ga=function(){this.g&&tr(this)};function tr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,nr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function nr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Br(u){let m="";return _e(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ei(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Br(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):st(u,m,v))}function dt(u){ze.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(dt,ze);var Fh=/^https?$/i,Ca=["POST","PUT"];n=dt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?Zs(this.o):Zs(Xn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){vs(this,Q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)v.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Q of T.keys())v.set(Q,T.get(Q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ca,m,void 0))||T||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of v)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ho(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){vs(this,Q)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,co(u),Sn(u)}function co(u){u.A||(u.A=!0,$e(u,"complete"),$e(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,$e(this,"complete"),$e(this,"abort"),Sn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sn(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},n.bb=function(){Pa(this)};function Pa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||dn(u)!=4||u.Z()!=2)){if(u.u&&dn(u)==4)os(u.Ea,0,u);else if($e(u,"readystatechange"),dn(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=ue===0){var z=String(u.D).match(ms)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),T=!Fh.test(z?z.toLowerCase():"")}v=T}if(v)$e(u,"complete"),$e(u,"success");else{u.m=6;try{var Q=2<dn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",co(u)}}finally{Sn(u)}}}}function Sn(u,m){if(u.g){ho(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||$e(u,"ready");try{v.onreadystatechange=T}catch{}}}function ho(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function dn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<dn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ga(m)}};function ka(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fo(u){const m={};u=(u.g&&2<=dn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(B(u[T]))continue;var v=M(u[T]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[z]||[];m[z]=Q,Q.push(v)}D(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function xa(u){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vr("baseRetryDelayMs",5e3,u),this.cb=vr("retryDelaySeedMs",1e4,u),this.Wa=vr("forwardChannelMaxRetries",2,u),this.wa=vr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(u&&u.concurrentRequestLimit),this.Da=new Mh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,T){_t(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=mu(this,null,this.W),_r(this)};function $t(u){if(po(u),u.G==3){var m=u.U++,v=In(u.I);if(st(v,"SID",u.K),st(v,"RID",m),st(v,"TYPE","terminate"),zr(u,v),m=new Jn(u,u.j,m),m.L=2,m.v=vi(In(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=gu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ot(m)}pu(u)}function rr(u){u.g&&(Na(u),u.g.cancel(),u.g=null)}function po(u){rr(u),u.u&&(d.clearTimeout(u.u),u.u=null),yo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function _r(u){if(!Tn(u.h)&&!u.s){u.s=!0;var m=u.Ga;ke||ce(),se||(ke(),se=!0),ge.add(m,u),u.B=0}}function Uh(u,m){return nu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Qn(S(u.Ga,u,m),fu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Jn(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=I(Q),P(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ti(this,z,m),v=In(this.I),st(v,"RID",u),st(v,"CVER",22),this.D&&st(v,"X-HTTP-Session-Id",this.D),zr(this,v),Q&&(this.O?m="headers="+encodeURIComponent(String(Br(Q)))+"&"+m:this.m&&Ei(v,this.m,Q)),Aa(this.h,z),this.Ua&&st(v,"TYPE","init"),this.P?(st(v,"$req",m),st(v,"SID","null"),z.T=!0,oo(z,v,null)):oo(z,v,m),this.G=2}}else this.G==3&&(u?mo(this,u):this.i.length==0||Tn(this.h)||mo(this))};function mo(u,m){var v;m?v=m.l:v=u.U++;const T=In(u.I);st(T,"SID",u.K),st(T,"RID",v),st(T,"AID",u.T),zr(u,T),u.m&&u.o&&Ei(T,u.m,u.o),v=new Jn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ti(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Aa(u.h,v),oo(v,T,m)}function zr(u,m){u.H&&_e(u.H,function(v,T){st(m,T,v)}),u.l&&mi({},function(v,T){st(m,T,v)})}function Ti(u,m,v){v=Math.min(u.i.length,v);var T=u.l?S(u.l.Na,u.l,u):null;e:{var z=u.i;let Q=-1;for(;;){const ue=["count="+v];Q==-1?0<v?(Q=z[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let it=!0;for(let xt=0;xt<v;xt++){let Ye=z[xt].g;const Ot=z[xt].map;if(Ye-=Q,0>Ye)Q=Math.max(0,z[xt].g-100),it=!1;else try{cu(Ot,ue,"req"+Ye+"_")}catch{T&&T(Ot)}}if(it){T=ue.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function _s(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ke||ce(),se||(ke(),se=!0),ge.add(m,u),u.v=0}}function go(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Qn(S(u.Fa,u),fu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Qn(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),rr(this),du(this))};function Na(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function du(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=In(u.qa);st(m,"RID","rpc"),st(m,"SID",u.K),st(m,"AID",u.T),st(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(m,"TO",u.ja),st(m,"TYPE","xmlhttp"),zr(u,m),u.m&&u.o&&Ei(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=vi(In(m)),v.m=null,v.P=!0,Ia(v,u)}n.Za=function(){this.C!=null&&(this.C=null,rr(this),go(this),_t(19))};function yo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vo(u,m){var v=null;if(u.g==m){yo(u),Na(u),u.g=null;var T=2}else if(sn(u.h,m))v=m.D,ru(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;T=us(),$e(T,new no(T,v)),_r(u)}else _s(u);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Uh(u,m)||T==2&&go(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:$r(u,5);break;case 4:$r(u,10);break;case 3:$r(u,6);break;default:$r(u,2)}}}function fu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function $r(u,m){if(u.j.info("Error code "+m),m==2){var v=S(u.fb,u),T=u.Xa;const z=!T;T=new Ur(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||gs(T,"https"),vi(T),z?Oh(T.toString(),v):uu(T.toString(),v)}else _t(2);u.G=0,u.l&&u.l.sa(m),pu(u),po(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function pu(u){if(u.G=0,u.ka=[],u.l){const m=iu(u.h);(m.length!=0||u.i.length!=0)&&(N(u.ka,m),N(u.ka,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.ra()}}function mu(u,m,v){var T=v instanceof Ur?In(v):new Ur(v);if(T.g!="")m&&(T.g=m+"."+T.g),gi(T,T.s);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var Q=new Ur(null);T&&gs(Q,T),m&&(Q.g=m),z&&gi(Q,z),v&&(Q.l=v),T=Q}return v=u.D,m=u.ya,v&&m&&st(T,v,m),st(T,"VER",u.la),zr(u,T),T}function gu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new dt(new jr({eb:v})):new dt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Da(){}n=Da.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _o(){}_o.prototype.g=function(u,m){return new on(u,m)};function on(u,m){ze.call(this),this.g=new xa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!B(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!B(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new wr(this)}V(on,ze),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){$t(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=fi(u),u=v);m.i.push(new tu(m.Ya++,u)),m.G==3&&_r(m)},on.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,on.aa.N.call(this)};function yu(u){pr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}V(yu,pr);function vu(){to.call(this),this.status=1}V(vu,to);function wr(u){this.g=u}V(wr,Da),wr.prototype.ua=function(){$e(this.g,"a")},wr.prototype.ta=function(u){$e(this.g,new yu(u))},wr.prototype.sa=function(u){$e(this.g,new vu)},wr.prototype.ra=function(){$e(this.g,"b")},_o.prototype.createWebChannel=_o.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,M_=function(){return new _o},O_=function(){return us()},L_=mr,$f={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},io.NO_ERROR=0,io.TIMEOUT=8,io.HTTP_ERROR=6,Nc=io,Xl.COMPLETE="complete",b_=Xl,eo.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ze.prototype.listen=ze.prototype.K,ul=eo,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,V_=dt}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});const wv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new vp("@firebase/firestore");function zo(){return zs.logLevel}function me(n,...e){if(zs.logLevel<=We.DEBUG){const t=e.map(xp);zs.debug(`Firestore (${ca}): ${n}`,...t)}}function ai(n,...e){if(zs.logLevel<=We.ERROR){const t=e.map(xp);zs.error(`Firestore (${ca}): ${n}`,...t)}}function Jo(n,...e){if(zs.logLevel<=We.WARN){const t=e.map(xp);zs.warn(`Firestore (${ca}): ${n}`,...t)}}function xp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n="Unexpected state"){const e=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: `+n;throw ai(e),new Error(e)}function nt(n,e){n||be()}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class dC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ii,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ii)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(nt(typeof i.accessToken=="string"),new F_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new en(e)}}class pC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new pC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){nt(this.o===void 0);const i=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string"),this.R=t.token,new gC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=vC(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Qe(n,e){return n<e?-1:n>e?1:0}function Zo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new kt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new kt(0,0))}static max(){return new Oe(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,t,i){t===void 0?t=0:t>e.length&&be(),i===void 0?i=e.length-t:i>e.length-t&&be(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Cl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ht extends Cl{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const _C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Cl{construct(e,t,i){return new Kt(e,t,i)}static isValidIdentifier(e){return _C.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ve(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new ve(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ht.fromString(e))}static fromName(e){return new Re(ht.fromString(e).popFirst(5))}static empty(){return new Re(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ht(e.slice()))}}function wC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(i===1e9?new kt(t+1,0):new kt(t,i));return new Yi(o,Re.empty(),e)}function EC(n){return new Yi(n.readTime,n.key,-1)}class Yi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Yi(Oe.min(),Re.empty(),-1)}static max(){return new Yi(Oe.max(),Re.empty(),-1)}}function TC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==IC)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,i)=>{t(e)})}static reject(e){return new Z((t,i)=>{i(e)})}static waitFor(e){return new Z((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=Z.resolve(!1);for(const i of e)t=t.next(o=>o?Z.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new Z((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++d,d===a&&i(c)},_=>o(_))}})}static doWhile(e,t){return new Z((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function AC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function da(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ph.oe=-1;function mh(n){return n==null}function Qc(n){return n===0&&1/n==-1/0}function RC(n){return typeof n=="number"&&Number.isInteger(n)&&!Qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ev(e)),e=PC(n.get(t),e);return Ev(e)}function PC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Ev(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function j_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}}class yc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Wt.RED,this.left=o??Wt.EMPTY,this.right=a??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Wt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class Iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new xn([])}unionWith(e){let t=new bt(Kt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new B_("Invalid base64 string: "+a):a}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const kC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(n){if(nt(!!n),typeof n=="string"){let e=0;const t=kC.exec(n);if(nt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ji(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function gh(n){const e=n.mapValue.fields.__previous_value__;return Np(e)?gh(e):e}function Pl(n){const e=Xi(n.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t,i,o,a,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class kl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Np(n)?4:DC(n)?9007199254740991:NC(n)?10:11:be()}function Lr(n,e){if(n===e)return!0;const t=Zi(n);if(t!==Zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pl(n).isEqual(Pl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Xi(o.timestampValue),d=Xi(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ji(o.bytesValue).isEqual(Ji(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Tt(o.geoPointValue.latitude)===Tt(a.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Tt(o.integerValue)===Tt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Tt(o.doubleValue),d=Tt(a.doubleValue);return c===d?Qc(c)===Qc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Zo(n.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Tv(c)!==Tv(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Lr(c[p],d[p])))return!1;return!0}(n,e);default:return be()}}function xl(n,e){return(n.values||[]).find(t=>Lr(t,e))!==void 0}function ea(n,e){if(n===e)return 0;const t=Zi(n),i=Zi(e);if(t!==i)return Qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=Tt(a.integerValue||a.doubleValue),p=Tt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Sv(n.timestampValue,e.timestampValue);case 4:return Sv(Pl(n),Pl(e));case 5:return Qe(n.stringValue,e.stringValue);case 6:return function(a,c){const d=Ji(a),p=Ji(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=Qe(d[y],p[y]);if(_!==0)return _}return Qe(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Qe(Tt(a.latitude),Tt(c.latitude));return d!==0?d:Qe(Tt(a.longitude),Tt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Av(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,p,y,_;const E=a.fields||{},S=c.fields||{},k=(d=E.value)===null||d===void 0?void 0:d.arrayValue,V=(p=S.value)===null||p===void 0?void 0:p.arrayValue,x=Qe(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0);return x!==0?x:Av(k,V)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===vc.mapValue&&c===vc.mapValue)return 0;if(a===vc.mapValue)return 1;if(c===vc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const S=Qe(p[E],_[E]);if(S!==0)return S;const k=ea(d[p[E]],y[_[E]]);if(k!==0)return k}return Qe(p.length,_.length)}(n.mapValue,e.mapValue);default:throw be()}}function Sv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=Xi(n),i=Xi(e),o=Qe(t.seconds,i.seconds);return o!==0?o:Qe(t.nanos,i.nanos)}function Av(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=ea(t[o],i[o]);if(a)return a}return Qe(t.length,i.length)}function ta(n){return qf(n)}function qf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Xi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ji(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=qf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${qf(t.fields[c])}`;return o+"}"}(n.mapValue):be()}function Dc(n){switch(Zi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(n);return e?16+Dc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Dc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return rs(i.fields,(a,c)=>{o+=a.length+Dc(c)}),o}(n.mapValue);default:throw be()}}function Rv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hf(n){return!!n&&"integerValue"in n}function Dp(n){return!!n&&"arrayValue"in n}function Cv(n){return!!n&&"nullValue"in n}function Pv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vc(n){return!!n&&"mapValue"in n}function NC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function gl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=gl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(t)}setAll(e){let t=Kt.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=gl(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){rs(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new En(gl(this.value))}}function z_(n){const e=[];return rs(n.fields,(t,i)=>{const o=new Kt([t]);if(Vc(i)){const a=z_(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new tn(e,0,Oe.min(),Oe.min(),Oe.min(),En.empty(),0)}static newFoundDocument(e,t,i,o){return new tn(e,1,t,Oe.min(),i,o,0)}static newNoDocument(e,t){return new tn(e,2,t,Oe.min(),Oe.min(),En.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,Oe.min(),Oe.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.position=e,this.inclusive=t}}function kv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Re.comparator(Re.fromName(c.referenceValue),t.key):i=ea(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function xv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Lr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function VC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{}class Pt extends $_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new LC(e,t,i):t==="array-contains"?new FC(e,i):t==="in"?new UC(e,i):t==="not-in"?new jC(e,i):t==="array-contains-any"?new BC(e,i):new Pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new OC(e,i):new MC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ea(t,this.value)):t!==null&&Zi(this.value)===Zi(t)&&this.matchesComparison(ea(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends $_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new dr(e,t)}matches(e){return q_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function q_(n){return n.op==="and"}function H_(n){return bC(n)&&q_(n)}function bC(n){for(const e of n.filters)if(e instanceof dr)return!1;return!0}function Wf(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+ta(n.value);if(H_(n))return n.filters.map(e=>Wf(e)).join(",");{const e=n.filters.map(t=>Wf(t)).join(",");return`${n.op}(${e})`}}function W_(n,e){return n instanceof Pt?function(i,o){return o instanceof Pt&&i.op===o.op&&i.field.isEqual(o.field)&&Lr(i.value,o.value)}(n,e):n instanceof dr?function(i,o){return o instanceof dr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&W_(c,o.filters[d]),!0):!1}(n,e):void be()}function K_(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${ta(t.value)}`}(n):n instanceof dr?function(t){return t.op.toString()+" {"+t.getFilters().map(K_).join(" ,")+"}"}(n):"Filter"}class LC extends Pt{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class OC extends Pt{constructor(e,t){super(e,"in",t),this.keys=G_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class MC extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=G_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function G_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Re.fromName(i.referenceValue))}class FC extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dp(t)&&xl(t.arrayValue,this.value)}}class UC extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xl(this.value.arrayValue,t)}}class jC extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xl(this.value.arrayValue,t)}}class BC extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.ue=null}}function Nv(n,e=null,t=[],i=[],o=null,a=null,c=null){return new zC(n,e,t,i,o,a,c)}function Vp(n){const e=Fe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Wf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),mh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ta(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ta(i)).join(",")),e.ue=t}return e.ue}function bp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!VC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!W_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xv(n.startAt,e.startAt)&&xv(n.endAt,e.endAt)}function Kf(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $C(n,e,t,i,o,a,c,d){return new Hl(n,e,t,i,o,a,c,d)}function yh(n){return new Hl(n)}function Dv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Q_(n){return n.collectionGroup!==null}function yl(n){const e=Fe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new bt(Kt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Xc(a,i))}),t.has(Kt.keyField().canonicalString())||e.ce.push(new Xc(Kt.keyField(),i))}return e.ce}function Nr(n){const e=Fe(n);return e.le||(e.le=qC(e,yl(n))),e.le}function qC(n,e){if(n.limitType==="F")return Nv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Xc(o.field,a)});const t=n.endAt?new Yc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Yc(n.startAt.position,n.startAt.inclusive):null;return Nv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Gf(n,e){const t=n.filters.concat([e]);return new Hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qf(n,e,t){return new Hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vh(n,e){return bp(Nr(n),Nr(e))&&n.limitType===e.limitType}function Y_(n){return`${Vp(Nr(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>K_(o)).join(", ")}]`),mh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ta(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ta(o)).join(",")),`Target(${i})`}(Nr(n))}; limitType=${n.limitType})`}function _h(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Re.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of yl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=kv(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,yl(i),o)||i.endAt&&!function(c,d,p){const y=kv(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,yl(i),o))}(n,e)}function HC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function X_(n){return(e,t)=>{let i=!1;for(const o of yl(n)){const a=WC(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function WC(n,e,t){const i=n.field.isKeyField()?Re.comparator(e.key,t.key):function(a,c,d){const p=c.data.field(a),y=d.data.field(a);return p!==null&&y!==null?ea(p,y):be()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return j_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=new yt(Re.comparator);function li(){return KC}const J_=new yt(Re.comparator);function cl(...n){let e=J_;for(const t of n)e=e.insert(t.key,t);return e}function Z_(n){let e=J_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ls(){return vl()}function ew(){return vl()}function vl(){return new Ks(n=>n.toString(),(n,e)=>n.isEqual(e))}const GC=new yt(Re.comparator),QC=new bt(Re.comparator);function Ke(...n){let e=QC;for(const t of n)e=e.add(t);return e}const YC=new bt(Qe);function XC(){return YC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function tw(n){return{integerValue:""+n}}function JC(n,e){return RC(e)?tw(e):Lp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function ZC(n,e,t){return n instanceof Nl?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Np(a)&&(a=gh(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof na?rw(n,e):n instanceof Dl?iw(n,e):function(o,a){const c=nw(o,a),d=Vv(c)+Vv(o.Pe);return Hf(c)&&Hf(o.Pe)?tw(d):Lp(o.serializer,d)}(n,e)}function eP(n,e,t){return n instanceof na?rw(n,e):n instanceof Dl?iw(n,e):t}function nw(n,e){return n instanceof Jc?function(i){return Hf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Nl extends wh{}class na extends wh{constructor(e){super(),this.elements=e}}function rw(n,e){const t=sw(e);for(const i of n.elements)t.some(o=>Lr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Dl extends wh{constructor(e){super(),this.elements=e}}function iw(n,e){let t=sw(e);for(const i of n.elements)t=t.filter(o=>!Lr(o,i));return{arrayValue:{values:t}}}class Jc extends wh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Vv(n){return Tt(n.integerValue||n.doubleValue)}function sw(n){return Dp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.field=e,this.transform=t}}function tP(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof na&&o instanceof na||i instanceof Dl&&o instanceof Dl?Zo(i.elements,o.elements,Lr):i instanceof Jc&&o instanceof Jc?Lr(i.Pe,o.Pe):i instanceof Nl&&o instanceof Nl}(n.transform,e.transform)}class nP{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Eh{}function aw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new uw(n.key,Dr.none()):new Wl(n.key,n.data,Dr.none());{const t=n.data,i=En.empty();let o=new bt(Kt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new is(n.key,i,new xn(o.toArray()),Dr.none())}}function rP(n,e,t){n instanceof Wl?function(o,a,c){const d=o.value.clone(),p=Lv(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof is?function(o,a,c){if(!bc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=Lv(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(lw(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function _l(n,e,t,i){return n instanceof Wl?function(a,c,d,p){if(!bc(a.precondition,c))return d;const y=a.value.clone(),_=Ov(a.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof is?function(a,c,d,p){if(!bc(a.precondition,c))return d;const y=Ov(a.fieldTransforms,p,c),_=c.data;return _.setAll(lw(a)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(a,c,d){return bc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function iP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=nw(i.transform,o||null);a!=null&&(t===null&&(t=En.empty()),t.set(i.field,a))}return t||null}function bv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Zo(i,o,(a,c)=>tP(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wl extends Eh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends Eh{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function lw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Lv(n,e,t){const i=new Map;nt(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,eP(c,d,t[o]))}return i}function Ov(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,ZC(a,c,e))}return i}class uw extends Eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sP extends Eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&rP(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=_l(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=_l(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ew();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=aw(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ke())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(t,i)=>bv(t,i))&&Zo(this.baseMutations,e.baseMutations,(t,i)=>bv(t,i))}}class Op{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){nt(e.mutations.length===i.length);let o=function(){return GC}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Op(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Xe;function uP(n){switch(n){default:return be();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function cw(n){if(n===void 0)return ai("GRPC error has no .code"),te.UNKNOWN;switch(n){case Ct.OK:return te.OK;case Ct.CANCELLED:return te.CANCELLED;case Ct.UNKNOWN:return te.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return te.INTERNAL;case Ct.UNAVAILABLE:return te.UNAVAILABLE;case Ct.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ct.NOT_FOUND:return te.NOT_FOUND;case Ct.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ct.ABORTED:return te.ABORTED;case Ct.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ct.DATA_LOSS:return te.DATA_LOSS;default:return be()}}(Xe=Ct||(Ct={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new Ms([4294967295,4294967295],0);function Mv(n){const e=cP().encode(n),t=new D_;return t.update(e),new Uint8Array(t.digest())}function Fv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ms([t,i],0),new Ms([o,a],0)]}class Mp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new hl(`Invalid padding: ${t}`);if(i<0)throw new hl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new hl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ms.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Ms.fromNumber(i)));return o.compare(hP)===1&&(o=new Ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Mv(e),[i,o]=Fv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Mp(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=Mv(e),[i,o]=Fv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Th(Oe.min(),o,new yt(Qe),li(),Ke())}}class Kl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Kl(i,t,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class hw{constructor(e,t){this.targetId=e,this.me=t}}class dw{constructor(e,t,i=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Uv{constructor(){this.fe=0,this.ge=jv(),this.pe=Gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ke(),t=Ke(),i=Ke();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:be()}}),new Kl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=jv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dP{constructor(e){this.Le=e,this.Be=new Map,this.ke=li(),this.qe=_c(),this.Qe=_c(),this.Ke=new yt(Qe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Kf(a))if(i===0){const c=new Re(a.path);this.We(t,c,tn.newNoDocument(c,Oe.min()))}else nt(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=Ji(i).toUint8Array()}catch(p){if(p instanceof B_)return Jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Mp(c,o,a)}catch(p){return Jo(p instanceof hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,c)=>{const d=this.Ye(c);if(d){if(a.current&&Kf(d.target)){const p=new Re(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,tn.newNoDocument(p,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=Ke();this.Qe.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new Th(e,t,this.Ke,this.ke,i);return this.ke=li(),this.qe=_c(),this.Qe=_c(),this.Ke=new yt(Qe),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Uv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new bt(Qe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bt(Qe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Uv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function _c(){return new yt(Re.comparator)}function jv(){return new yt(Re.comparator)}const fP={asc:"ASCENDING",desc:"DESCENDING"},pP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mP={and:"AND",or:"OR"};class gP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yf(n,e){return n.useProto3Json||mh(e)?e:{value:e}}function Zc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yP(n,e){return Zc(n,e.toTimestamp())}function Vr(n){return nt(!!n),Oe.fromTimestamp(function(t){const i=Xi(t);return new kt(i.seconds,i.nanos)}(n))}function Fp(n,e){return Xf(n,e).canonicalString()}function Xf(n,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pw(n){const e=ht.fromString(n);return nt(_w(e)),e}function Jf(n,e){return Fp(n.databaseId,e.path)}function Sf(n,e){const t=pw(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(gw(t))}function mw(n,e){return Fp(n.databaseId,e)}function vP(n){const e=pw(n);return e.length===4?ht.emptyPath():gw(e)}function Zf(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gw(n){return nt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Bv(n,e,t){return{name:Jf(n,e),fields:t.value.mapValue.fields}}function _P(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,_){return y.useProto3Json?(nt(_===void 0||typeof _=="string"),Gt.fromBase64String(_||"")):(nt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Gt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const _=y.code===void 0?te.UNKNOWN:cw(y.code);return new ve(_,y.message||"")}(c);t=new dw(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Sf(n,i.document.name),a=Vr(i.document.updateTime),c=i.document.createTime?Vr(i.document.createTime):Oe.min(),d=new En({mapValue:{fields:i.document.fields}}),p=tn.newFoundDocument(o,a,c,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new Lc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Sf(n,i.document),a=i.readTime?Vr(i.readTime):Oe.min(),c=tn.newNoDocument(o,a),d=i.removedTargetIds||[];t=new Lc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Sf(n,i.document),a=i.removedTargetIds||[];t=new Lc([],a,o,null)}else{if(!("filter"in e))return be();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new lP(o,a),d=i.targetId;t=new hw(d,c)}}return t}function wP(n,e){let t;if(e instanceof Wl)t={update:Bv(n,e.key,e.value)};else if(e instanceof uw)t={delete:Jf(n,e.key)};else if(e instanceof is)t={update:Bv(n,e.key,e.data),updateMask:kP(e.fieldMask)};else{if(!(e instanceof sP))return be();t={verify:Jf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof Nl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof na)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Dl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Jc)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw be()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:yP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be()}(n,e.precondition)),t}function EP(n,e){return n&&n.length>0?(nt(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?Vr(o.updateTime):Vr(a);return c.isEqual(Oe.min())&&(c=Vr(a)),new nP(c,o.transformResults||[])}(t,e))):[]}function TP(n,e){return{documents:[mw(n,e.path)]}}function IP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=mw(n,o);const a=function(y){if(y.length!==0)return vw(dr.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(_=>function(S){return{field:qo(S.field),direction:RP(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Yf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function SP(n){let e=vP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){nt(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const S=yw(E);return S instanceof dr&&H_(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(S=>function(V){return new Xc(Ho(V.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(E){let S;return S=typeof E=="object"?E.value:E,mh(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(E){const S=!!E.before,k=E.values||[];return new Yc(k,S)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const S=!E.before,k=E.values||[];return new Yc(k,S)}(t.endAt)),$C(e,o,c,a,d,"F",p,y)}function AP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ho(t.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ho(t.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ho(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ho(t.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(Ho(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return dr.create(t.compositeFilter.filters.map(i=>yw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(n):be()}function RP(n){return fP[n]}function CP(n){return pP[n]}function PP(n){return mP[n]}function qo(n){return{fieldPath:n.canonicalString()}}function Ho(n){return Kt.fromServerFormat(n.fieldPath)}function vw(n){return n instanceof Pt?function(t){if(t.op==="=="){if(Pv(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NAN"}};if(Cv(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Pv(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NAN"}};if(Cv(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(t.field),op:CP(t.op),value:t.value}}}(n):n instanceof dr?function(t){const i=t.getFilters().map(o=>vw(o));return i.length===1?i[0]:{compositeFilter:{op:PP(t.op),filters:i}}}(n):be()}function kP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _w(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,t,i,o,a=Oe.min(),c=Oe.min(),d=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.ht=e}}function NP(n){const e=SP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.ln=new VP}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Yi.min())}updateCollectionGroup(e,t,i){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class VP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new bt(ht.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new bt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(41943040,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ra(0)}static Qn(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v([n,e],[t,i]){const o=Qe(n,t);return o===0?Qe(e,i):o}class bP{constructor(e){this.Gn=e,this.buffer=new bt($v),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$v(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){da(t)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ha(t)}await this.Yn(3e5)})}}class OP{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(ph.oe);const i=new bP(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(zv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,c,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(y=Date.now(),zo()<=We.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function MP(n,e){return new OP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.changes=new Ks(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&_l(i.mutation,o,xn.empty(),kt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ke()){const o=Ls();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=cl();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ls();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ke()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=li();const c=vl(),d=function(){return vl()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof is)?a=a.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),_l(_.mutation,y,_.mutation.getFieldMask(),kt.now())):c.set(y.key,xn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var E;return d.set(y,new UP(_,(E=c.get(y))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=vl();let o=new yt((c,d)=>c-d),a=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||xn.empty();_=d.applyToLocalView(y,_),i.set(p,_);const E=(o.get(d.batchId)||Ke()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,E=ew();_.forEach(S=>{if(!a.has(S)){const k=aw(t.get(S),i.get(S));k!==null&&E.set(S,k),a=a.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return Z.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Q_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):Z.resolve(Ls());let d=-1,p=a;return c.next(y=>Z.forEach(y,(_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(_)?Z.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,Ke())).next(_=>({batchId:d,changes:Z_(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(i=>{let o=cl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=cl();return this.indexManager.getCollectionParents(e,a).next(d=>Z.forEach(d,p=>{const y=function(E,S){return new Hl(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((E,S)=>{c=c.insert(E,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,tn.newInvalidDocument(_)))});let d=cl();return c.forEach((p,y)=>{const _=a.get(p);_!==void 0&&_l(_.mutation,y,xn.empty(),kt.now()),_h(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Vr(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:NP(o.bundledQuery),readTime:Vr(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.overlays=new yt(Re.comparator),this.Er=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ls();return Z.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),Z.resolve()}getOverlaysForCollection(e,t,i){const o=Ls(),a=t.length+1,c=new Re(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new yt((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=a.get(y.largestBatchId);_===null&&(_=Ls(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Ls(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return Z.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new aP(t,i));let a=this.Er.get(t);a===void 0&&(a=Ke(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.dr=new bt(jt.Ar),this.Rr=new bt(jt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new jt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new jt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Re(new ht([])),i=new jt(t,e),o=new jt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Re(new ht([])),i=new jt(t,e),o=new jt(t,e+1);let a=Ke();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new jt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class jt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Re.comparator(e.key,t.key)||Qe(e.br,t.br)}static Vr(e,t){return Qe(e.br,t.br)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new bt(jt.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new oP(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new jt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);a.push(d)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new bt(Qe);return t.forEach(o=>{const a=new jt(o,0),c=new jt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],d=>{i=i.add(d.br)})}),Z.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Re.isDocumentKey(a)||(a=a.child(""));const c=new jt(new Re(a),0);let d=new bt(Qe);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},c),Z.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){nt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Z.forEach(t.mutations,o=>{const a=new jt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new jt(t,0),o=this.vr.firstAfterOrEqual(i);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.Nr=e,this.docs=function(){return new yt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Z.resolve(i?i.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let i=li();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():tn.newInvalidDocument(o))}),Z.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=li();const c=t.path,d=new Re(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||TC(EC(_),i)<=0||(o.has(_.key)||_h(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,i,o){be()}Lr(e,t){return Z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new WP(this)}getSize(e){return Z.resolve(this.size)}}class WP extends FP{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.persistence=e,this.Br=new Ks(t=>Vp(t),bp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Up,this.targetCount=0,this.Qr=ra.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ra(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(a).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Z.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Z.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Z.resolve(i)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t){this.Kr={},this.overlays={},this.$r=new ph(0),this.Ur=!1,this.Ur=!0,this.Wr=new $P,this.referenceDelegate=e(this),this.Gr=new KP(this),this.indexManager=new DP,this.remoteDocumentCache=function(o){return new HP(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new xP(t),this.jr=new BP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new qP(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const o=new GP(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return Z.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class GP extends SC{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Zr=new Up,this.Xr=null}static ei(e){return new jp(e)}get ti(){if(this.Xr)return this.Xr;throw be()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Z.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,i=>{const o=Re.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Oe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class eh{constructor(e,t){this.persistence=e,this.ri=new Ks(i=>CC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=MP(this,t)}static ei(e,t){return new eh(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?Z.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,a.removeEntry(c,Oe.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dc(e.data.value)),t}ir(e,t,i){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Z.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Ke(),o=Ke();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Bp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return VI()?8:AC(rn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new QP;return this.ts(e,t,c).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(zo()<=We.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(zo()<=We.DEBUG&&me("QueryEngine","Query:",$o(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(zo()<=We.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(t))):Z.resolve())}Xi(e,t){if(Dv(t))return Z.resolve(null);let i=Nr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Qf(t,null,"F"),i=Nr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Ke(...a);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,c,p.readTime)?this.Xi(e,Qf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Dv(t)||o.isEqual(Oe.min())?Z.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,o)?Z.resolve(null):(zo()<=We.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$o(t)),this.os(e,c,t,wC(o,-1)).next(d=>d))})}rs(e,t){let i=new bt(X_(e));return t.forEach((o,a)=>{_h(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return zo()<=We.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",$o(t)),this.Zi.getDocumentsMatchingQuery(e,t,Yi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new yt(Qe),this.cs=new Ks(a=>Vp(a),bp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function JP(n,e,t,i){return new XP(n,e,t,i)}async function Ew(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let p=Ke();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of a){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:d}))})})}function ZP(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const E=y.batch,S=E.keys();let k=Z.resolve();return S.forEach(V=>{k=k.next(()=>_.getEntry(p,V)).next(x=>{const N=y.docVersions.get(V);nt(N!==null),x.version.compareTo(N)<0&&(E.applyToRemoteDocument(x,y),x.isValidDocument()&&(x.setReadTime(y.commitVersion),_.addEntry(x)))})}),k.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Ke();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Tw(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function ek(n,e){const t=Fe(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((_,E)=>{const S=o.get(E);if(!S)return;d.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,E)));let k=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?k=k.withResumeToken(Gt.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(_.resumeToken,i)),o=o.insert(E,k),function(x,N,j){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(S,k,_)&&d.push(t.Gr.updateTargetData(a,k))});let p=li(),y=Ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(tk(a,c,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Oe.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(E=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(_)}return Z.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(t.us=o,a))}function tk(n,e,t){let i=Ke(),o=Ke();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=li();return t.forEach((d,p)=>{const y=a.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):me("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:c,Es:o}})}function nk(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function rk(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,Z.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new qi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function ep(n,e,t){const i=Fe(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!da(c))throw c;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function qv(n,e,t){const i=Fe(n);let o=Oe.min(),a=Ke();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const E=Fe(p),S=E.cs.get(_);return S!==void 0?Z.resolve(E.us.get(S)):E.Gr.getTargetData(y,_)}(i,c,Nr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Oe.min(),t?a:Ke())).next(d=>(ik(i,HC(e),d),{documents:d,ds:a})))}function ik(n,e,t){let i=n.ls.get(e)||Oe.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class Hv{constructor(){this.activeTargetIds=XC()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sk{constructor(){this._o=new Hv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Hv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function Af(){return wc===null?wc=function(){return 268435456+Math.round(2147483648*Math.random())}():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class uk extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,c){const d=Af(),p=this.No(t,i.toUriEncodedString());me("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,a,c),this.Bo(t,p,y,o).then(_=>(me("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw Jo("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,a,c,d){return this.Oo(t,i,o,a,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ca}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,i){const o=ak[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=Af();return new Promise((c,d)=>{const p=new V_;p.setWithCredentials(!0),p.listenOnce(b_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Nc.NO_ERROR:const _=p.getResponseJson();me(Zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case Nc.TIMEOUT:me(Zt,`RPC '${e}' ${a} timed out`),d(new ve(te.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const E=p.getStatus();if(me(Zt,`RPC '${e}' ${a} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const V=function(N){const j=N.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(j)>=0?j:te.UNKNOWN}(k.status);d(new ve(V,k.message))}else d(new ve(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ve(te.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{me(Zt,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);me(Zt,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Af(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=M_(),d=O_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");me(Zt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);let S=!1,k=!1;const V=new lk({Eo:N=>{k?me(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(S||(me(Zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),me(Zt,`RPC '${e}' stream ${o} sending:`,N),E.send(N))},Ao:()=>E.close()}),x=(N,j,B)=>{N.listen(j,G=>{try{B(G)}catch(ee){setTimeout(()=>{throw ee},0)}})};return x(E,ul.EventType.OPEN,()=>{k||(me(Zt,`RPC '${e}' stream ${o} transport opened.`),V.So())}),x(E,ul.EventType.CLOSE,()=>{k||(k=!0,me(Zt,`RPC '${e}' stream ${o} transport closed`),V.Do())}),x(E,ul.EventType.ERROR,N=>{k||(k=!0,Jo(Zt,`RPC '${e}' stream ${o} transport errored:`,N),V.Do(new ve(te.UNAVAILABLE,"The operation could not be completed")))}),x(E,ul.EventType.MESSAGE,N=>{var j;if(!k){const B=N.data[0];nt(!!B);const G=B,ee=(G==null?void 0:G.error)||((j=G[0])===null||j===void 0?void 0:j.error);if(ee){me(Zt,`RPC '${e}' stream ${o} received error:`,ee);const de=ee.status;let _e=function(A){const P=Ct[A];if(P!==void 0)return cw(P)}(de),D=ee.message;_e===void 0&&(_e=te.INTERNAL,D="Unknown error status: "+de+" with message "+ee.message),k=!0,V.Do(new ve(_e,D)),E.close()}else me(Zt,`RPC '${e}' stream ${o} received:`,B),V.vo(B)}}),x(d,L_.STAT_EVENT,N=>{N.stat===$f.PROXY?me(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===$f.NOPROXY&&me(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.bo()},0),V}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(n){return new gP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,i,o,a,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Iw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ve(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ck extends Sw{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=_P(this.serializer,e),i=function(a){if(!("targetChange"in a))return Oe.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Vr(c.readTime):Oe.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Zf(this.serializer),t.addTarget=function(a,c){let d;const p=c.target;if(d=Kf(p)?{documents:TP(a,p)}:{query:IP(a,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=fw(a,c.resumeToken);const y=Yf(a,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Zc(a,c.snapshotVersion.toTimestamp());const y=Yf(a,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=AP(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Zf(this.serializer),t.removeTarget=e,this.c_(t)}}class hk extends Sw{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=EP(e.writeResults,e.commitTime),i=Vr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Zf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>wP(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,Xf(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(te.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,Xf(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(te.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class fk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ai(t),this.C_=!1):me("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{Gs(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Fe(p);y.k_.add(4),await Gl(y),y.K_.set("Unknown"),y.k_.delete(4),await Sh(y)}(this))})}),this.K_=new fk(i,o)}}async function Sh(n){if(Gs(n))for(const e of n.q_)await e(!0)}async function Gl(n){for(const e of n.q_)await e(!1)}function Aw(n,e){const t=Fe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Hp(t)?qp(t):fa(t).s_()&&$p(t,e))}function zp(n,e){const t=Fe(n),i=fa(t);t.B_.delete(e),i.s_()&&Rw(t,e),t.B_.size===0&&(i.s_()?i.a_():Gs(t)&&t.K_.set("Unknown"))}function $p(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fa(n).V_(e)}function Rw(n,e){n.U_.xe(e),fa(n).m_(e)}function qp(n){n.U_=new dP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),fa(n).start(),n.K_.F_()}function Hp(n){return Gs(n)&&!fa(n).i_()&&n.B_.size>0}function Gs(n){return Fe(n).k_.size===0}function Cw(n){n.U_=void 0}async function mk(n){n.K_.set("Online")}async function gk(n){n.B_.forEach((e,t)=>{$p(n,e)})}async function yk(n,e){Cw(n),Hp(n)?(n.K_.O_(e),qp(n)):n.K_.set("Unknown")}async function vk(n,e,t){if(n.K_.set("Online"),e instanceof dw&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await th(n,i)}else if(e instanceof Lc?n.U_.$e(e):e instanceof hw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Oe.min()))try{const i=await Tw(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.U_.it(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.B_.get(y);_&&a.B_.set(y,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const _=a.B_.get(p);if(!_)return;a.B_.set(p,_.withResumeToken(Gt.EMPTY_BYTE_STRING,_.snapshotVersion)),Rw(a,p);const E=new qi(_.target,p,y,_.sequenceNumber);$p(a,E)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){me("RemoteStore","Failed to raise snapshot:",i),await th(n,i)}}async function th(n,e,t){if(!da(e))throw e;n.k_.add(1),await Gl(n),n.K_.set("Offline"),t||(t=()=>Tw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Sh(n)})}function Pw(n,e){return e().catch(t=>th(n,t,e))}async function Ah(n){const e=Fe(n),t=es(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;_k(e);)try{const o=await nk(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,wk(e,o)}catch(o){await th(e,o)}kw(e)&&xw(e)}function _k(n){return Gs(n)&&n.L_.length<10}function wk(n,e){n.L_.push(e);const t=es(n);t.s_()&&t.f_&&t.g_(e.mutations)}function kw(n){return Gs(n)&&!es(n).i_()&&n.L_.length>0}function xw(n){es(n).start()}async function Ek(n){es(n).w_()}async function Tk(n){const e=es(n);for(const t of n.L_)e.g_(t.mutations)}async function Ik(n,e,t){const i=n.L_.shift(),o=Op.from(i,e,t);await Pw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ah(n)}async function Sk(n,e){e&&es(n).f_&&await async function(i,o){if(function(c){return uP(c)&&c!==te.ABORTED}(o.code)){const a=i.L_.shift();es(i).__(),await Pw(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Ah(i)}}(n,e),kw(n)&&xw(n)}async function Kv(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const i=Gs(t);t.k_.add(3),await Gl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Sh(t)}async function Ak(n,e){const t=Fe(n);e?(t.k_.delete(2),await Sh(t)):e||(t.k_.add(2),await Gl(t),t.K_.set("Unknown"))}function fa(n){return n.W_||(n.W_=function(t,i,o){const a=Fe(t);return a.b_(),new ck(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:mk.bind(null,n),mo:gk.bind(null,n),po:yk.bind(null,n),R_:vk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Hp(n)?qp(n):n.K_.set("Unknown")):(await n.W_.stop(),Cw(n))})),n.W_}function es(n){return n.G_||(n.G_=function(t,i,o){const a=Fe(t);return a.b_(),new hk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Ek.bind(null,n),po:Sk.bind(null,n),p_:Tk.bind(null,n),y_:Ik.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Ah(n)):(await n.G_.stop(),n.L_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new Wp(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(n,e){if(ai("AsyncQueue",`${e}: ${n}`),da(n))return new ve(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=cl(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Yo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.z_=new yt(Re.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):be():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ia{constructor(e,t,i,o,a,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ia(e,t,Yo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Ck{constructor(){this.queries=Qv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Fe(t),a=o.queries;o.queries=Qv(),a.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new ve(te.ABORTED,"Firestore shutting down"))}}function Qv(){return new Ks(n=>Y_(n),vh)}async function Gp(n,e){const t=Fe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new Rk,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Kp(c,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Yp(t)}async function Qp(n,e){const t=Fe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Pk(n,e){const t=Fe(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&Yp(t)}function kk(n,e,t){const i=Fe(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function Yp(n){n.X_.forEach(e=>{e.next()})}var tp,Yv;(Yv=tp||(tp={})).na="default",Yv.Cache="cache";class Xp{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ia(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.key=e}}class Dw{constructor(e){this.key=e}}class xk{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ke(),this.mutatedKeys=Ke(),this.Va=X_(e),this.ma=new Yo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Gv,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const S=o.get(_),k=_h(this.query,E)?E:null,V=!!S&&this.mutatedKeys.has(S.key),x=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let N=!1;S&&k?S.data.isEqual(k.data)?V!==x&&(i.track({type:3,doc:k}),N=!0):this.ya(S,k)||(i.track({type:2,doc:k}),N=!0,(p&&this.Va(k,p)>0||y&&this.Va(k,y)<0)&&(d=!0)):!S&&k?(i.track({type:0,doc:k}),N=!0):S&&!k&&(i.track({type:1,doc:S}),N=!0,(p||y)&&(d=!0)),N&&(k?(c=c.add(k),a=x?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,E)=>function(k,V){const x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return x(k)-x(V)}(_.type,E.type)||this.Va(_.doc,E.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new ia(this.query,e.ma,a,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Gv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ke(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new Dw(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new Nw(i))}),t}va(e){this.da=e.ds,this.Ra=Ke();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ia.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Nk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Dk{constructor(e){this.key=e,this.Fa=!1}}class Vk{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Ks(d=>Y_(d),vh),this.Oa=new Map,this.Na=new Set,this.La=new yt(Re.comparator),this.Ba=new Map,this.ka=new Up,this.qa={},this.Qa=new Map,this.Ka=ra.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function bk(n,e,t=!0){const i=Fw(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await Vw(i,e,t,!0),o}async function Lk(n,e){const t=Fw(n);await Vw(t,e,!0,!1)}async function Vw(n,e,t,i){const o=await rk(n.localStore,Nr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await Ok(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Aw(n.remoteStore,o),d}async function Ok(n,e,t,i,o){n.Ua=(E,S,k)=>async function(x,N,j,B){let G=N.view.ga(j);G.ss&&(G=await qv(x.localStore,N.query,!1).then(({documents:D})=>N.view.ga(D,G)));const ee=B&&B.targetChanges.get(N.targetId),de=B&&B.targetMismatches.get(N.targetId)!=null,_e=N.view.applyChanges(G,x.isPrimaryClient,ee,de);return Jv(x,N.targetId,_e.ba),_e.snapshot}(n,E,S,k);const a=await qv(n.localStore,e,!0),c=new xk(e,a.ds),d=c.ga(a.documents),p=Kl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);Jv(n,t,y.ba);const _=new Nk(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function Mk(n,e,t){const i=Fe(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!vh(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await ep(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&zp(i.remoteStore,o.targetId),np(i,o.targetId)}).catch(ha)):(np(i,o.targetId),await ep(i.localStore,o.targetId,!0))}async function Fk(n,e){const t=Fe(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),zp(t.remoteStore,i.targetId))}async function Uk(n,e,t){const i=Wk(n);try{const o=await function(c,d){const p=Fe(c),y=kt.now(),_=d.reduce((k,V)=>k.add(V.key),Ke());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let V=li(),x=Ke();return p.hs.getEntries(k,_).next(N=>{V=N,V.forEach((j,B)=>{B.isValidDocument()||(x=x.add(j))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,V)).next(N=>{E=N;const j=[];for(const B of d){const G=iP(B,E.get(B.key).overlayedDocument);G!=null&&j.push(new is(B.key,G,z_(G.value.mapValue),Dr.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,j,d)}).next(N=>{S=N;const j=N.applyToLocalDocumentSet(E,x);return p.documentOverlayCache.saveOverlays(k,N.batchId,j)})}).then(()=>({batchId:S.batchId,changes:Z_(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let y=c.qa[c.currentUser.toKey()];y||(y=new yt(Qe)),y=y.insert(d,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await Ql(i,o.changes),await Ah(i.remoteStore)}catch(o){const a=Kp(o,"Failed to persist write");t.reject(a)}}async function bw(n,e){const t=Fe(n);try{const i=await ek(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ba.get(a);c&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?nt(c.Fa):o.removedDocuments.size>0&&(nt(c.Fa),c.Fa=!1))}),await Ql(t,i,e)}catch(i){await ha(i)}}function Xv(n,e,t){const i=Fe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Fe(c);p.onlineState=d;let y=!1;p.queries.forEach((_,E)=>{for(const S of E.J_)S.ea(d)&&(y=!0)}),y&&Yp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jk(n,e,t){const i=Fe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let c=new yt(Re.comparator);c=c.insert(a,tn.newNoDocument(a,Oe.min()));const d=Ke().add(a),p=new Th(Oe.min(),new Map,new yt(Qe),c,d);await bw(i,p),i.La=i.La.remove(a),i.Ba.delete(e),Jp(i)}else await ep(i.localStore,e,!1).then(()=>np(i,e,t)).catch(ha)}async function Bk(n,e){const t=Fe(n),i=e.batch.batchId;try{const o=await ZP(t.localStore,e);Ow(t,i,null),Lw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ql(t,o)}catch(o){await ha(o)}}async function zk(n,e,t){const i=Fe(n);try{const o=await function(c,d){const p=Fe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(E=>(nt(E!==null),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);Ow(i,e,t),Lw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ql(i,o)}catch(o){await ha(o)}}function Lw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Ow(n,e,t){const i=Fe(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function np(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||Mw(n,i)})}function Mw(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(zp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Jp(n))}function Jv(n,e,t){for(const i of t)i instanceof Nw?(n.ka.addReference(i.key,e),$k(n,i)):i instanceof Dw?(me("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||Mw(n,i.key)):be()}function $k(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(me("SyncEngine","New document in limbo: "+t),n.Na.add(i),Jp(n))}function Jp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Re(ht.fromString(e)),i=n.Ka.next();n.Ba.set(i,new Dk(t)),n.La=n.La.insert(t,i),Aw(n.remoteStore,new qi(Nr(yh(t.path)),i,"TargetPurposeLimboResolution",ph.oe))}}async function Ql(n,e,t){const i=Fe(n),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Bp.zi(p.targetId,y);a.push(E)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const _=Fe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Z.forEach(y,S=>Z.forEach(S.Wi,k=>_.persistence.referenceDelegate.addReference(E,S.targetId,k)).next(()=>Z.forEach(S.Gi,k=>_.persistence.referenceDelegate.removeReference(E,S.targetId,k)))))}catch(E){if(!da(E))throw E;me("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const k=_.us.get(S),V=k.snapshotVersion,x=k.withLastLimboFreeSnapshotVersion(V);_.us=_.us.insert(S,x)}}}(i.localStore,a))}async function qk(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const i=await Ew(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(d=>{d.forEach(p=>{p.reject(new ve(te.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ql(t,i.Ts)}}function Hk(n,e){const t=Fe(n),i=t.Ba.get(e);if(i&&i.Fa)return Ke().add(i.key);{let o=Ke();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function Fw(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jk.bind(null,e),e.Ma.R_=Pk.bind(null,e.eventManager),e.Ma.Wa=kk.bind(null,e.eventManager),e}function Wk(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zk.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return JP(this.persistence,new YP,e.initialUser,this.serializer)}ja(e){return new ww(jp.ei,this.serializer)}za(e){return new sk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class Kk extends nh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){nt(this.persistence.referenceDelegate instanceof eh);const i=this.persistence.referenceDelegate.garbageCollector;return new LP(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new ww(i=>eh.ei(i,t),this.serializer)}}class rp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Xv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qk.bind(null,this.syncEngine),await Ak(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ck}()}createDatastore(e){const t=Ih(e.databaseInfo.databaseId),i=function(a){return new uk(a)}(e.databaseInfo);return function(a,c,d,p){return new dk(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new pk(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Xv(this.syncEngine,t,0),function(){return Wv.p()?new Wv:new ok}())}createSyncEngine(e,t){return function(o,a,c,d,p,y,_){const E=new Vk(o,a,c,d,p,y);return _&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Fe(o);me("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Gl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=U_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{me("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(me("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Kp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Cf(n,e){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Ew(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Zv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Qk(n);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Kv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Kv(e.remoteStore,o)),n._onlineComponents=e}async function Qk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Jo("Error using user provided cache. Falling back to memory cache: "+t),await Cf(n,new nh)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Cf(n,new Kk(void 0));return n._offlineComponents}async function Uw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await Zv(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await Zv(n,new rp))),n._onlineComponents}function Yk(n){return Uw(n).then(e=>e.syncEngine)}async function rh(n){const e=await Uw(n),t=e.eventManager;return t.onListen=bk.bind(null,e.syncEngine),t.onUnlisten=Mk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Lk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fk.bind(null,e.syncEngine),t}function Xk(n,e,t={}){const i=new ii;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,y){const _=new Zp({next:S=>{_.eu(),c.enqueueAndForget(()=>Qp(a,E));const k=S.docs.has(d);!k&&S.fromCache?y.reject(new ve(te.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?y.reject(new ve(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new Xp(yh(d.path),_,{includeMetadataChanges:!0,ua:!0});return Gp(a,E)}(await rh(n),n.asyncQueue,e,t,i)),i.promise}function Jk(n,e,t={}){const i=new ii;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,y){const _=new Zp({next:S=>{_.eu(),c.enqueueAndForget(()=>Qp(a,E)),S.fromCache&&p.source==="server"?y.reject(new ve(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new Xp(d,_,{includeMetadataChanges:!0,ua:!0});return Gp(a,E)}(await rh(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n,e,t){if(!t)throw new ve(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Zk(n,e,t,i){if(e===!0&&i===!0)throw new ve(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function t0(n){if(!Re.isDocumentKey(n))throw new ve(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function n0(n){if(Re.isDocumentKey(n))throw new ve(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be()}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rh(n);throw new ve(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hC;switch(i.type){case"firstParty":return new mC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=e0.get(t);i&&(me("ComponentProvider","Removing Datastore"),e0.delete(t),i.terminate())}(this),Promise.resolve()}}function e2(n,e,t,i={}){var o;const a=(n=Wn(n,Ch))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=en.MOCK_USER;else{d=RI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ve(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new en(y)}n._authCredentials=new dC(new F_(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class nn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class Gi extends Qs{constructor(e,t,i){super(e,t,yh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Re(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function Pf(n,e,...t){if(n=Lt(n),Bw("collection","path",e),n instanceof Ch){const i=ht.fromString(e,...t);return n0(i),new Gi(n,null,i)}{if(!(n instanceof nn||n instanceof Gi))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return n0(i),new Gi(n.firestore,null,i)}}function Nn(n,e,...t){if(n=Lt(n),arguments.length===1&&(e=U_.newId()),Bw("doc","path",e),n instanceof Ch){const i=ht.fromString(e,...t);return t0(i),new nn(n,null,new Re(i))}{if(!(n instanceof nn||n instanceof Gi))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return t0(i),new nn(n.firestore,n instanceof Gi?n.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Iw(this,"async_queue_retry"),this.fu=()=>{const i=Rf();i&&me("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Rf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Rf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ii;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!da(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw ai("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Wp.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&be()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function s0(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class $s extends Ch{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new i0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i0(e),this._firestoreClient=void 0,await e}}}function t2(n,e){const t=typeof n=="object"?n:K0(),i=typeof n=="string"?n:"(default)",o=wp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=SI("firestore");a&&e2(o,...a)}return o}function Ph(n){if(n._terminated)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||n2(n),n._firestoreClient}function n2(n){var e,t,i;const o=n._freezeSettings(),a=function(d,p,y,_){return new xC(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,jw(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Gk(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(Gt.fromBase64String(e))}catch(t){throw new ve(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sa(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^__.*__$/;class i2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wl(e,this.data,t,this.fieldTransforms)}}class zw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new is(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $w(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class xh{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new xh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return ih(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if($w(this.Mu)&&r2.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class s2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ih(e)}$u(e,t,i,o=!1){return new xh({Mu:e,methodName:t,Ku:i,path:Kt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nm(n){const e=n._freezeSettings(),t=Ih(n._databaseId);return new s2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function o2(n,e,t,i,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);sm("Data must be an object, but it was:",c,i);const d=qw(i,c);let p,y;if(a.merge)p=new xn(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const S=ip(e,E,t);if(!c.contains(S))throw new ve(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Ww(_,S)||_.push(S)}p=new xn(_),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new i2(new En(d),p,y)}class Nh extends Yl{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function a2(n,e,t){return new xh({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rm extends Yl{_toFieldTransform(e){return new ow(e.path,new Nl)}isEqual(e){return e instanceof rm}}class im extends Yl{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=a2(this,e,!0),i=this.Uu.map(a=>pa(a,t)),o=new na(i);return new ow(e.path,o)}isEqual(e){return e instanceof im&&Il(this.Uu,e.Uu)}}function l2(n,e,t,i){const o=n.$u(1,e,t);sm("Data must be an object, but it was:",o,i);const a=[],c=En.empty();rs(i,(p,y)=>{const _=om(e,p,t);y=Lt(y);const E=o.Bu(_);if(y instanceof Nh)a.push(_);else{const S=pa(y,E);S!=null&&(a.push(_),c.set(_,S))}});const d=new xn(a);return new zw(c,d,o.fieldTransforms)}function u2(n,e,t,i,o,a){const c=n.$u(1,e,t),d=[ip(e,i,t)],p=[o];if(a.length%2!=0)throw new ve(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)d.push(ip(e,a[S])),p.push(a[S+1]);const y=[],_=En.empty();for(let S=d.length-1;S>=0;--S)if(!Ww(y,d[S])){const k=d[S];let V=p[S];V=Lt(V);const x=c.Bu(k);if(V instanceof Nh)y.push(k);else{const N=pa(V,x);N!=null&&(y.push(k),_.set(k,N))}}const E=new xn(y);return new zw(_,E,c.fieldTransforms)}function c2(n,e,t,i=!1){return pa(t,n.$u(i?4:3,e))}function pa(n,e){if(Hw(n=Lt(n)))return sm("Unsupported field value:",e,n),qw(n,e);if(n instanceof Yl)return function(i,o){if(!$w(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let p=pa(d,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=Lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=kt.fromDate(i);return{timestampValue:Zc(o.serializer,a)}}if(i instanceof kt){const a=new kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zc(o.serializer,a)}}if(i instanceof em)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sa)return{bytesValue:fw(o.serializer,i._byteString)};if(i instanceof nn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Fp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof tm)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Lp(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Rh(i)}`)}(n,e)}function qw(n,e){const t={};return j_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(n,(i,o)=>{const a=pa(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function Hw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof em||n instanceof sa||n instanceof nn||n instanceof Yl||n instanceof tm)}function sm(n,e,t){if(!Hw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Rh(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function ip(n,e,t){if((e=Lt(e))instanceof kh)return e._internalPath;if(typeof e=="string")return om(n,e);throw ih("Field path arguments must be of type string or ",n,!1,void 0,t)}const h2=new RegExp("[~\\*/\\[\\]]");function om(n,e,t){if(e.search(h2)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kh(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ih(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ve(te.INVALID_ARGUMENT,d+n+p)}function Ww(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(am("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class d2 extends Kw{data(){return super.data()}}function am(n,e){return typeof e=="string"?om(n,e):e instanceof kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lm{}class f2 extends lm{}function p2(n,e,...t){let i=[];e instanceof lm&&i.push(e),i=i.concat(t),function(a){const c=a.filter(p=>p instanceof um).length,d=a.filter(p=>p instanceof Dh).length;if(c>1||c>0&&d>0)throw new ve(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Dh extends f2{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Dh(e,t,i)}_apply(e){const t=this._parse(e);return Qw(e._query,t),new Qs(e.firestore,e.converter,Gf(e._query,t))}_parse(e){const t=nm(e.firestore);return function(a,c,d,p,y,_,E){let S;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ve(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){a0(E,_);const k=[];for(const V of E)k.push(o0(p,a,V));S={arrayValue:{values:k}}}else S=o0(p,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||a0(E,_),S=c2(d,c,E,_==="in"||_==="not-in");return Pt.create(y,_,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function m2(n,e,t){const i=e,o=am("where",n);return Dh._create(o,i,t)}class um extends lm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new um(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const d=a.getFlattenedFilters();for(const p of d)Qw(c,p),c=Gf(c,p)}(e._query,t),new Qs(e.firestore,e.converter,Gf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function o0(n,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new ve(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q_(e)&&t.indexOf("/")!==-1)throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ht.fromString(t));if(!Re.isDocumentKey(i))throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Rv(n,new Re(i))}if(t instanceof nn)return Rv(n,t._key);throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(t)}.`)}function a0(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qw(n,e){const t=function(o,a){for(const c of o)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class g2{convertValue(e,t="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return rs(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>Tt(c.doubleValue));return new tm(a)}convertGeoPoint(e){return new em(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=gh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const t=Xi(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);nt(_w(i));const o=new kl(i.get(1),i.get(3)),a=new Re(i.popFirst(5));return o.isEqual(t)||ai(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yw extends Kw{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(am("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Oc extends Yw{data(e={}){return super.data(e)}}class Xw{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new dl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Oc(this._firestore,this._userDataWriter,i.key,i,new dl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new Oc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new dl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const p=new Oc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new dl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:v2(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function v2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(n){n=Wn(n,nn);const e=Wn(n.firestore,$s);return Xk(Ph(e),n._key).then(t=>eE(e,n,t))}class cm extends g2{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,t)}}function _2(n){n=Wn(n,Qs);const e=Wn(n.firestore,$s),t=Ph(e),i=new cm(e);return Gw(n._query),Jk(t,n._query).then(o=>new Xw(e,i,n,o))}function sp(n,e,t){n=Wn(n,nn);const i=Wn(n.firestore,$s),o=y2(n.converter,e);return Zw(i,[o2(nm(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Dr.none())])}function qs(n,e,t,...i){n=Wn(n,nn);const o=Wn(n.firestore,$s),a=nm(o);let c;return c=typeof(e=Lt(e))=="string"||e instanceof kh?u2(a,"updateDoc",n._key,e,t,i):l2(a,"updateDoc",n._key,e),Zw(o,[c.toMutation(n._key,Dr.exists(!0))])}function Jw(n,...e){var t,i,o;n=Lt(n);let a={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||s0(e[c])||(a=e[c],c++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(s0(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let p,y,_;if(n instanceof nn)y=Wn(n.firestore,$s),_=yh(n._key.path),p={next:E=>{e[c]&&e[c](eE(y,n,E))},error:e[c+1],complete:e[c+2]};else{const E=Wn(n,Qs);y=Wn(E.firestore,$s),_=E._query;const S=new cm(y);p={next:k=>{e[c]&&e[c](new Xw(y,S,E,k))},error:e[c+1],complete:e[c+2]},Gw(n._query)}return function(S,k,V,x){const N=new Zp(x),j=new Xp(k,N,V);return S.asyncQueue.enqueueAndForget(async()=>Gp(await rh(S),j)),()=>{N.eu(),S.asyncQueue.enqueueAndForget(async()=>Qp(await rh(S),j))}}(Ph(y),_,d,p)}function Zw(n,e){return function(i,o){const a=new ii;return i.asyncQueue.enqueueAndForget(async()=>Uk(await Yk(i),o,a)),a.promise}(Ph(n),e)}function eE(n,e,t){const i=t.docs.get(e._key),o=new cm(n);return new Yw(n,o,e._key,i,new dl(t.hasPendingWrites,t.fromCache),e.converter)}function w2(){return new rm("serverTimestamp")}function op(...n){return new im("arrayUnion",n)}(function(e,t=!0){(function(o){ca=o})(la),Xo(new Us("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new $s(new fC(i.getProvider("auth-internal")),new yC(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(y.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Ki(wv,"4.7.5",e),Ki(wv,"4.7.5","esm2017")})();const E2={apiKey:"AIzaSyADjb67RCLQD4W__vYDuNFaqaQWVo_a2d4",authDomain:"qwikchat-27.firebaseapp.com",projectId:"qwikchat-27",storageBucket:"qwikchat-27.firebasestorage.app",messagingSenderId:"213554428038",appId:"1:213554428038:web:820d6801c4d3e314fbf907"},tE=W0(E2),ma=uC(tE),Dn=t2(tE),T2=async(n,e,t)=>{try{const i=await GA(ma,e,t);console.log(i);const o=i.user;await sp(Nn(Dn,"users",o.uid),{id:o.uid,username:n?n.toLowerCase():"",email:e,name:"",avatar:"",bio:"Hey there I am using QwikChat!",lastSeen:kt.now()}),await sp(Nn(Dn,"chats",o.uid),{chatsData:[]})}catch(i){console.error(i),tt.error(i.code.split("/")[1].split("-").join(" "))}},I2=async(n,e)=>{try{await QA(ma,n,e)}catch(t){console.error(t),tt.error(t.code.split("/")[1].split("-").join(" "))}},S2=async()=>{try{await JA(ma)}catch(n){console.error(n),tt.error(n.code.split("/")[1].split("-").join(" "))}},A2=()=>{const[n,e]=q.useState("Sign Up"),{register:t,handleSubmit:i,formState:{errors:o,isSubmitting:a}}=M0(),[c,d]=q.useState(""),[p,y]=q.useState(""),[_,E]=q.useState(""),S=k=>{n==="Sign Up"?(T2(k.UserName,k.email,k.password),console.log("Login submitted",k)):(I2(k.email,k.password),console.log("Login submitted",k))};return X.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-evenly h-screen w-screen bg-gradient-to-br from-blue-600 via-blue-400 to-pink-300",children:[X.jsx("div",{className:"App",children:X.jsx(YT,{})}),X.jsx("img",{className:"w-[30%] max-w-[300px] mb-8 md:mb-0",src:fp,alt:"icon"}),X.jsxs("form",{className:"flex flex-col items-center gap-6 bg-white p-8 rounded-lg shadow-lg w-[90%] max-w-md",onSubmit:i(S),children:[X.jsx("h1",{className:"font-bold text-xl",children:n}),n==="Sign Up"&&X.jsxs("div",{className:"w-full",children:[X.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",...t("UserName",{required:"Username is required",minLength:{value:4,message:"Must be at least 4 characters"},maxLength:{value:15,message:"Must be at most 15 characters"}}),placeholder:"Username",onChange:k=>d(k.target.value),value:c}),o.UserName&&X.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.UserName.message})]}),X.jsxs("div",{className:"w-full",children:[X.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",...t("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Enter a valid email"}}),onChange:k=>y(k.target.value),value:p}),o.email&&X.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.email.message})]}),X.jsxs("div",{className:"w-full",children:[X.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",...t("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).{8,}$/,message:"Password must contain uppercase letters, lowercase letters, numbers, and special characters"}}),onChange:k=>E(k.target.value),value:_}),o.password&&X.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.password.message})]}),n==="Sign Up"&&X.jsxs("div",{className:"w-full flex items-center gap-3",children:[X.jsx("input",{type:"checkbox",...t("terms",{required:"You must agree to the terms"}),className:"h-4 w-4"}),X.jsx("label",{className:"text-gray-700 text-sm",children:"Agree to the terms of use & privacy policy"})]}),o.terms&&X.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.terms.message}),X.jsx("button",{type:"submit",className:"w-full p-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition disabled:bg-blue-300",disabled:a,children:a?"Submitting...":"Submit"}),X.jsxs("p",{className:"text-sm",children:[n==="Sign Up"?"Already have an account?":"Don't have an account?"," ",X.jsx("span",{className:"text-blue-800 underline cursor-pointer",onClick:()=>e(n==="Sign Up"?"Login":"Sign Up"),children:n==="Sign Up"?"Login":"Sign Up"})]})]})]})},Fs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAALVBMVEX////d3d3a2trk5OTf39/5+fnz8/P8/Pzn5+f29vbw8PDe3t7s7Ozj4+Pt7e3oCmspAAAJJUlEQVR4nO1d24KkKgzsRvGu//+5R6Vttb0hVQGcs/WwDzszaElIQkjC6+UDuS6zquqaHsXwT1dVWalzL88Whs66oq3VgPca5v/aost06Jd0RdkV6ZbYFv3vpEVXhn7de8izgdwltzXPtMgeIrZlc5fdgmUT/VxmiSO7mWWShSZxDJhe3CTLgkJvIlnEJq5dzaP3IVl3oUnN0AWb3odkEYepLFsZfiPHNrywZqkcv5FjGlbrSPMLzbH0wM9wDCOrWnD9bTi2AXSOkP485Fh45lf55TdyrDzy054W4A/F1JuoNiH4jRwbL/x0HYjfgNrDNAabQAPxacw9mogDiqloJCALzW+AEvRxPNvAI8jZxuASOkG1Ivx0aF4rCOjUKJbgDP5iDGwktmCbjUh0zBJcfRONjlmCqW/a0GQOQKOYhmZyiPSvEyRRDLmVuEaNE4x5BgfAsxg7QZhirFp0CUijJqHf3gqJO8EIPZk9uHs33TMI9hQdD+LKpxB03Wno5xDsKbrsF+O29L9wsPxPsBNL3LYZ0e14r3BX2zxIy0xQ9w4ZQ7+uE+4QfIYv84sbvk2A00EG7E8Y82cS7CnaHmk8zVDMsDQZD5XRAXZy+lgZHWAlp8/UoxMs9OkDbf0SFnb/WQ73FpcuuOSuV02Qe4SFfyry9J5UWzRVVpZaD7UlXZG8xXiqc4IF/4EqbXbLDMqOkxa+wWnUhm0phqT0M/1dNm8+yVOLwbUUqrUwwCU/oHdiMaihGfss7Y48kSdBG+IUquJOYk/F5Xg4ibwpvMdvANVKHU4iS5G6ZS0z1+OBOmUpUucINOfx4yvsixBpCoE8V9407k8iZXgsB4SWlrTr2FSUkcFkbFpq2d57MDYVN2OWeyCFUHa2GJR9ISOfjmOUd741Q89wsncTymLc6gPCsKz0ZMosbnQNrmesg5XXoKzFX10DD+p0RnkERo7LT+wU9mfIGa0Ehj8y1aHDkfNZGZuAtfOIigU9tZwQeF8lS6FCStQyE3CFunopUJOK1HjADFfaFNSkIuUPuBe+fC2wl4VMJRJuwGifS6icjGnBQJ9UhiDBVZ59U8hWyNXnwpOYkkaSIvh6NSDDr4LAlqFgiTVspqeFCH2qi6MeDOhKnHQgpJZF63JR93SyiMgw1E3TFqC/rAgfilSXcwTUnTTfH3LjhVs5gLrmY8kQRSPksM0AXbcGHkRYSOGtuVE1yAjijSpQbToOAoxBiHFfASOo0K8kau4NsL3+qEwRn018GaILcfTbkCE8tDYC965DwA3x/Tw0/gMt4jAHgKBLdhn5AmM4pGUA5lDYKTXAXNPBIAJ/Lu7RDAC9mhdmDj0QBPeICmMoGMCYgYUyFKirHsAwh1waDwYfNvl/n6H+HzCEskx8MATXYfmP4fmf+2AI2kOQYfw+Dcowfr8UZRj/3gLVNPHvD3uGUDDLwx4fzJkELX78cZqBISQF0cfaRnUPMYw9XgrvD+OPeSv0I8V+bjE6llgiRuRnT+MUYEs57vNDE03EPFuZjr5fwMnZg8WG4yCSgNOhB1UI5qpGnYthjrnRUhJJhnBm22iwOckAMoBTTM0iAochdBA9AprXNrmVoMkRnEQ8m92oeljYpQjiU/jZ3qE2x7Uq9gqMql0jX3BdnpBNJBR4TXsf+FsBLVKPwaiYnfavcPVopPUWs54nFFfyCVKKEKc4EqHGOca6p/e88yEUisVYu7aMWDMGi67+cMB3PEaVMzXCTypZn8O5lGYDtEJnXheZ2Z8k9fxgUWS1x1h6Ipzu+TWHIq3/xzIQSPBxRzAo8hqcLPU7rZUgrm54rUXXAXnaqKDRyJm3TaxGpnWiw/rTUNtSFlJDA7f3UZuI/54aMYd2DGto8n0ov5+POLTb7b3sLvC/njL3JoT7q5HjVi1fYfOVySJyb7MhcL/39tyP3gFaNbYqp6oFGmDuKAOBpyQW1lFLNPjczzDgN2ftn/MuTknqRup26D1FIHTrilJtt5vPoKtCZPbMU3e1uVyzeaXeSdNlpdZ5PjYSbopUtl/yftxIupO38tIL2jzqIAsm/jvWbHGUIhLZdbHuON7h/JVJPM7y+SOTeLZJ/RuTeJao9Scm8TzO8NwLWGacn6EAjs1o6NK2TTC0bfqGbOZV8N3JOx19lqzkBb1znTWu1ydcHdfeD3/33nUlc8ydu3iu10fu95qj9/Rk04TLmyRt0iZunHmr1kfBRXbn3nOb/CVrB9z+8gMU2jrSb5d4bqds7l8OgCC35GgZAbPh5xQwRKCtZNVyMAvPxsf627zW9Xe3fq0LOcXOJgBcieqN9yJ9KToupOvGSGfOG3DyguPs9O1ersThIUIwCZ1wKKl3UyQPNhlSmZY3cOR03U7L2icYbgnOOFiMt8fZW4oeStVssOd1uSQsbY9qIiG4R9HtVPZ3TUdDcEvRVf+1sRLcUHRO/lwanyiUzIyVunGvgswXBMObiTWWRgPwQeaYRmhDv8XXecZKBSabIVxm6ITW3U4sYZa0YG0TgJqjAA3FmPTohJKl4UeKkWnSAaM25ZgwQzFKXcqy0YZiXNq0YBL83GinYtKnJixFjIYZ00/K48aR16ih30EakWtq1Du9YcV4ox27+McJY4RFCVQEmoHDL8ZW7lN/3PmwklqKbnR0jew2KTC78lruSMFcL1mHmsbSfGKRotwJJngTaBrNBIo2cXgNQWezGv37qeZgRnkIuZtwuEr8mv/cLBA/5kqnHh/2weezAjdiuzxPvIXSF59SBZ/fNDeer6q9ZCqYVH7V+l0XnwNZlUpz/JZi+NdtH1GV5TjxC+MQT/kRSqzJZ/fJFvKb97GEnq7Qlkit+SbRqMR33sfqNb4cW65irdoo+A2YP7WipbiVhRIUjvvIv5VLlDy+OVdPva2Lw8RRfcuX+pnM3F8rz76z1ytpXw6FHfTi1VTauFiQrJlLhXppiEE8f5Alc1Jvz7Ko7N9RV8tCKGVV1hcGS5KGZpfpU6HVWbeu8oqZnkH2k9Q75rcnRdNVWVlqg7LMqqopkjFnffXLF/WKsWCsLNymS6yx/fE7uSHX4dGzbG1rCvrfa++s2oigs7GU8pDo8KO0aLJHklsg10PRaDGUirw/Apq2bVE01YUW+gc7/Ae+CoL+juvgcwAAAABJRU5ErkJggg==",Ys=q.createContext(),R2=n=>{const e=Ol(),[t,i]=q.useState(null),[o,a]=q.useState([]),[c,d]=q.useState(null),[p,y]=q.useState([]),[_,E]=q.useState(null),S=async V=>{try{const x=Nn(Dn,"users",V),j=(await Vl(x)).data();i(j),j.name?e("/chat"):e("/profile"),await qs(x,{lastSeen:Date.now()}),setInterval(async()=>{ma.chatUser&&await qs(x,{lastSeen:Date.now()})},6e4)}catch{}};q.useEffect(()=>{if(t){const V=Nn(Dn,"chats",t.id),x=Jw(V,async N=>{const j=N.data().chatsData,B=[];for(const G of j){const ee=Nn(Dn,"users",G.rId),_e=(await Vl(ee)).data();B.push({...G,userData:_e})}a(B.sort((G,ee)=>{ee.updatedAt-G.updatedAt}))});return()=>{x()}}},[t]);const k={userData:t,setUserData:i,chatData:o,setChatData:a,loadUserData:S,messages:p,setMessages:y,chatUser:_,setChatUser:E,messagesId:c,setMessagesId:d};return X.jsx(Ys.Provider,{value:k,children:n.children})},C2=()=>{const n=Ol(),{userData:e,chatData:t,chatUser:i,setChatUser:o,setMessagesId:a,messagesId:c}=q.useContext(Ys),[d,p]=q.useState(null),[y,_]=q.useState(!1),E=async x=>{try{const N=x.target.value.trim();if(N){_(!0);const j=Pf(Dn,"users"),B=p2(j,m2("username","==",N.toLowerCase())),G=await _2(B);if(G.empty)p(null);else{const ee=G.docs[0];if(ee.id!==e.id){let de=!1;t.map(_e=>{_e.rId===ee.data().id&&(de=!0)}),de||p(ee.data())}else p(null)}}else _(!1)}catch(N){console.error("Error searching for user:",N)}},S=async()=>{const x=Pf(Dn,"messages"),N=Pf(Dn,"chats");try{const j=Nn(x);await sp(j,{createAt:w2(),messages:[]}),await qs(Nn(N,d.id),{chatsData:op({messageId:j.id,lastMessage:"",rId:e.id,updatedAt:Date.now(),messageSeen:!0})}),await qs(Nn(N,e.id),{chatsData:op({messageId:j.id,lastMessage:"",rId:d.id,updatedAt:Date.now(),messageSeen:!0})})}catch(j){tt.error(j.message),console.log(j)}window.location.reload()},k=async x=>{a(x.messageId),o(x)},V=()=>{n("/profile")};return X.jsx("div",{className:"bg-[#001030] text-white h-screen max-w-[20vw] flex flex-col overflow-hidden",children:X.jsxs("div",{className:"p-6",children:[X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("img",{src:fp,alt:"QwikChat Logo",className:"w-10"}),X.jsx("p",{className:"text-[22px] font-semibold",children:"QwikChat"})]}),X.jsxs("div",{className:"relative group cursor-pointer opacity-70 hover:opacity-100 transition-opacity px-2",children:[X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6",children:X.jsx("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),X.jsxs("div",{className:"absolute top-[100%] right-0 hidden group-hover:block w-[200px] p-3 rounded-sm bg-blue-200 text-black shadow-lg z-10",children:[X.jsx("p",{className:"cursor-pointer text-[15px] hover:font-bold",onClick:V,children:"Edit Profile"}),X.jsx("hr",{className:"border-gray-300 my-2"}),X.jsx("p",{className:"cursor-pointer text-[15px] hover:font-bold",onClick:()=>S2(),children:"Logout"})]})]})]}),X.jsxs("div",{className:"bg-[#002670] flex items-center rounded-lg px-3 py-2 mt-6 shadow-md",children:[X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-gray-300",children:X.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z",clipRule:"evenodd"})}),X.jsx("input",{type:"text",placeholder:"Search here...",className:"bg-transparent text-white placeholder-gray-400 outline-none ml-3 w-full",onChange:E})]}),X.jsxs("div",{className:"mt-6",children:[X.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Friends"}),X.jsx("div",{className:"space-y-2 overflow-y-scroll h-80 pr-2",children:y&&d?X.jsxs("div",{className:"flex items-center gap-3 p-2 bg-[#002670] rounded-lg hover:bg-gradient-to-br from-blue-800 via-blue-600 to-pink-400 hover:text-white transition",onClick:S,children:[X.jsx("img",{src:Fs,alt:"Searched User",className:"w-10 h-10 rounded-full"}),X.jsxs("div",{children:[X.jsx("p",{className:"font-medium",children:d.username}),X.jsx("span",{className:"text-sm text-gray-400",children:d.name})]})]}):t.length>0?t.map((x,N)=>X.jsxs("div",{className:"flex items-center gap-3 p-2 bg-[#002670] rounded-lg hover:bg-gradient-to-br from-blue-800 via-blue-600 to-pink-400 hover:text-white transition",onClick:()=>{k(x)},children:[X.jsx("img",{src:Fs,alt:`${N+1}`,className:"w-10 h-10 rounded-full"}),X.jsxs("div",{children:[X.jsx("p",{className:"font-medium",children:x.userData.name}),X.jsx("span",{className:"text-sm text-gray-400 hover:text-white",children:x.lastMessage})]})]},N)):X.jsx("div",{className:"text-center text-gray-400 mt-6",children:"You don't have any friends yet. Start searching to add new friends!"})})]})]})})},nE="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cradialGradient%20id='8O3wK6b5ASW2Wn6hRCB5xa'%20cx='11.087'%20cy='7.022'%20r='47.612'%20gradientTransform='matrix(1%200%200%20-1%200%2050)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%231292ff'/%3e%3cstop%20offset='.079'%20stop-color='%232982ff'/%3e%3cstop%20offset='.23'%20stop-color='%234e69ff'/%3e%3cstop%20offset='.351'%20stop-color='%236559ff'/%3e%3cstop%20offset='.428'%20stop-color='%236d53ff'/%3e%3cstop%20offset='.754'%20stop-color='%23df47aa'/%3e%3cstop%20offset='.946'%20stop-color='%23ff6257'/%3e%3c/radialGradient%3e%3cpath%20fill='url(%238O3wK6b5ASW2Wn6hRCB5xa)'%20d='M44,23.5C44,34.27,35.05,43,24,43c-1.651,0-3.25-0.194-4.784-0.564%20c-0.465-0.112-0.951-0.069-1.379,0.145L13.46,44.77C12.33,45.335,11,44.513,11,43.249v-4.025c0-0.575-0.257-1.111-0.681-1.499%20C6.425,34.165,4,29.11,4,23.5C4,12.73,12.95,4,24,4S44,12.73,44,23.5z'/%3e%3cpath%20d='M34.992,17.292c-0.428,0-0.843,0.142-1.2,0.411l-5.694,4.215%20c-0.133,0.1-0.28,0.15-0.435,0.15c-0.15,0-0.291-0.047-0.41-0.136l-3.972-2.99c-0.808-0.601-1.76-0.918-2.757-0.918%20c-1.576,0-3.025,0.791-3.876,2.116l-1.211,1.891l-4.12,6.695c-0.392,0.614-0.422,1.372-0.071,2.014%20c0.358,0.654,1.034,1.06,1.764,1.06c0.428,0,0.843-0.142,1.2-0.411l5.694-4.215c0.133-0.1,0.28-0.15,0.435-0.15%20c0.15,0,0.291,0.047,0.41,0.136l3.972,2.99c0.809,0.602,1.76,0.918,2.757,0.918c1.576,0,3.025-0.791,3.876-2.116l1.211-1.891%20l4.12-6.695c0.392-0.614,0.422-1.372,0.071-2.014C36.398,17.698,35.722,17.292,34.992,17.292L34.992,17.292z'%20opacity='.05'/%3e%3cpath%20d='M34.992,17.792c-0.319,0-0.63,0.107-0.899,0.31l-5.697,4.218%20c-0.216,0.163-0.468,0.248-0.732,0.248c-0.259,0-0.504-0.082-0.71-0.236l-3.973-2.991c-0.719-0.535-1.568-0.817-2.457-0.817%20c-1.405,0-2.696,0.705-3.455,1.887l-1.21,1.891l-4.115,6.688c-0.297,0.465-0.32,1.033-0.058,1.511c0.266,0.486,0.787,0.8,1.325,0.8%20c0.319,0,0.63-0.107,0.899-0.31l5.697-4.218c0.216-0.163,0.468-0.248,0.732-0.248c0.259,0,0.504,0.082,0.71,0.236l3.973,2.991%20c0.719,0.535,1.568,0.817,2.457,0.817c1.405,0,2.696-0.705,3.455-1.887l1.21-1.891l4.115-6.688c0.297-0.465,0.32-1.033,0.058-1.511%20C36.051,18.106,35.531,17.792,34.992,17.792L34.992,17.792z'%20opacity='.07'/%3e%3cpath%20fill='%23fff'%20d='M34.394,18.501l-5.7,4.22c-0.61,0.46-1.44,0.46-2.04,0.01L22.68,19.74%20c-1.68-1.25-4.06-0.82-5.19,0.94l-1.21,1.89l-4.11,6.68c-0.6,0.94,0.55,2.01,1.44,1.34l5.7-4.22c0.61-0.46,1.44-0.46,2.04-0.01%20l3.974,2.991c1.68,1.25,4.06,0.82,5.19-0.94l1.21-1.89l4.11-6.68C36.434,18.901,35.284,17.831,34.394,18.501z'/%3e%3c/svg%3e",P2=n=>{const{userData:e,messagesId:t,chatUser:i,messages:o,setMessages:a}=q.useContext(Ys);return X.jsx("div",{className:"fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-50",onClick:n.onClose,children:X.jsxs("div",{className:"bg-blue-950 text-white shadow-lg max-w-sm w-full p-4 relative mt-5",onClick:c=>c.stopPropagation(),children:[X.jsxs("div",{className:"text-center mb-6",children:[X.jsx("img",{className:"w-24 h-24 rounded-full border-4 border-gray-300 mx-auto",src:Fs,alt:"User Profile"}),X.jsxs("p",{className:"text-lg font-bold mt-3 flex items-center justify-center gap-1",children:[i.userData.name,X.jsx("span",{children:X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-gray-400",children:X.jsx("path",{fillRule:"evenodd",d:"M.676 6.941A12.964 12.964 0 0 1 10 3c3.657 0 6.963 1.511 9.324 3.941a.75.75 0 0 1-.008 1.053l-.353.354a.75.75 0 0 1-1.069-.008C15.894 6.28 13.097 5 10 5 6.903 5 4.106 6.28 2.106 8.34a.75.75 0 0 1-1.069.008l-.353-.354a.75.75 0 0 1-.008-1.053Zm2.825 2.833A8.976 8.976 0 0 1 10 7a8.976 8.976 0 0 1 6.499 2.774.75.75 0 0 1-.011 1.049l-.354.354a.75.75 0 0 1-1.072-.012A6.978 6.978 0 0 0 10 9c-1.99 0-3.786.83-5.061 2.165a.75.75 0 0 1-1.073.012l-.354-.354a.75.75 0 0 1-.01-1.05Zm2.82 2.84A4.989 4.989 0 0 1 10 11c1.456 0 2.767.623 3.68 1.614a.75.75 0 0 1-.022 1.039l-.354.354a.75.75 0 0 1-1.085-.026A2.99 2.99 0 0 0 10 13c-.88 0-1.67.377-2.22.981a.75.75 0 0 1-1.084.026l-.354-.354a.75.75 0 0 1-.021-1.039Zm2.795 2.752a1.248 1.248 0 0 1 1.768 0 .75.75 0 0 1 0 1.06l-.354.354a.75.75 0 0 1-1.06 0l-.354-.353a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})})]}),X.jsx("p",{className:"text-sm text-gray-400 mt-2",children:i.userData.bio})]}),X.jsx("hr",{className:"border-gray-500 mb-6"}),X.jsxs("div",{className:"text-sm",children:[X.jsx("p",{className:"font-bold text-gray-300",children:"Media"}),X.jsx("div",{className:"flex flex-wrap gap-2 mt-3 max-h-40 overflow-y-scroll"})]}),X.jsx("div",{className:"flex justify-center items-center mt-4",children:X.jsx("button",{className:"bg-blue-700 px-4 py-2 hover:bg-blue-600",children:"Remove User"})})]})})},k2=()=>{var V;const{userData:n,messagesId:e,chatUser:t,messages:i,setMessages:o}=q.useContext(Ys),[a,c]=q.useState(""),[d,p]=q.useState(!1),y=q.useRef(null),_=()=>{y.current&&y.current.scrollIntoView({behavior:"smooth"})};q.useEffect(()=>{if(e){const x=Jw(Nn(Dn,"messages",e),N=>{var j;o(((j=N.data())==null?void 0:j.messages)||[])});return()=>{x()}}},[e,o]),q.useEffect(()=>{_()},[i]);const E=async()=>{try{if(a.trim()&&e){await qs(Nn(Dn,"messages",e),{messages:op({sId:n.id,text:a.trim(),createdAt:new Date})});const x=[t.rId,n.id];for(const N of x){const j=Nn(Dn,"chats",N),B=await Vl(j);if(B.exists()){const G=B.data(),ee=G.chatsData.findIndex(de=>de.messageId===e);ee!==-1&&(G.chatsData[ee].lastMessage=a.slice(0,30),G.chatsData[ee].updatedAt=Date.now(),G.chatsData[ee].rId===n.id&&(G.chatsData[ee].messageSeen=!1),await qs(j,{chatsData:G.chatsData}))}}c("")}}catch(x){tt.error(`Error sending message: ${x.message}`)}},S=x=>{const N=x.toDate(),j=N.getHours(),B=N.getMinutes().toString().padStart(2,"0");return j>12?`${j-12}:${B} PM`:`${j}:${B} AM`},k=x=>{x.key==="Enter"&&E()};return t?X.jsxs("div",{className:"h-screen relative bg-blue-200 flex flex-col",children:[X.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 border-b bg-blue-300 shadow-sm cursor-pointer",onClick:()=>p(!0),children:[X.jsx("img",{className:"w-12 h-12 rounded-full border-2 border-gray-300",src:Fs,alt:"User"}),X.jsx("p",{className:"flex-1 font-semibold text-lg text-black",children:(V=t==null?void 0:t.userData)==null?void 0:V.name})]}),d&&X.jsx(P2,{onClose:()=>p(!1)}),X.jsxs("div",{className:"flex-1 overflow-y-scroll px-4 py-2 bg-gray-100",children:[i.map((x,N)=>X.jsxs("div",{className:`flex ${x.sId===n.id?"justify-end":"justify-start"} gap-2 mb-4`,children:[x.sId!==n.id&&X.jsx("img",{className:"w-8 h-8 rounded-full",src:Fs,alt:"Receiver"}),X.jsxs("div",{className:`text-${x.sId===n.id?"right":"left"}`,children:[X.jsx("p",{className:`${x.sId===n.id?"bg-blue-500 text-white":"bg-gray-300 text-black"} font-medium text-sm px-4 py-2 rounded-lg max-w-xs`,children:x.text}),X.jsx("p",{className:"text-xs text-gray-400 mt-1",children:S(x.createdAt)})]}),x.sId===n.id&&X.jsx("img",{className:"w-8 h-8 rounded-full",src:Fs,alt:"Sender"})]},N)),X.jsx("div",{ref:y})]}),X.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white shadow-md",children:[X.jsx("input",{className:"flex-1 px-4 py-2 border rounded-full bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400",type:"text",placeholder:"Send a message...",onChange:x=>c(x.target.value),value:a,onKeyDown:k}),X.jsx("button",{className:"p-2 rounded-full bg-blue-500 hover:bg-blue-600 transition-colors text-white",onClick:E,children:X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6",children:X.jsx("path",{d:"M3.105 2.288a.75.75 0 0 0-.826.95l1.414 4.926A1.5 1.5 0 0 0 5.135 9.25h6.115a.75.75 0 0 1 0 1.5H5.135a1.5 1.5 0 0 0-1.442 1.086l-1.414 4.926a.75.75 0 0 0 .826.95 28.897 28.897 0 0 0 15.293-7.155.75.75 0 0 0 0-1.114A28.897 28.897 0 0 0 3.105 2.288Z"})})})]})]}):X.jsx("div",{className:"h-screen bg-gradient-to-br from-blue-800 via-blue-600 to-pink-400 flex flex-col justify-center items-center text-center",children:X.jsxs("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-10 shadow-2xl max-w-md",children:[X.jsx("img",{src:nE,alt:"QwikChat",className:"mx-auto w-32 h-32 mb-6 animate-pulse"}),X.jsx("h1",{className:"text-4xl font-bold text-white mb-4 tracking-wide",children:"Welcome to QwikChat!"}),X.jsx("p",{className:"text-xl text-white/80 mb-6",children:"Chat anytime, anywhere with anyone"})]})})},x2=()=>{const{chatData:n,userData:e}=q.useContext(Ys),[t,i]=q.useState(!0);return q.useEffect(()=>{n&&e&&i(!1)},[n,e]),X.jsx("div",{className:"h-screen bg-gradient-to-br from-blue-800 via-blue-600 to-pink-400 flex overflow-hidden",children:t?X.jsxs("div",{className:"w-full h-full flex justify-center items-center",children:[X.jsx("img",{src:nE,alt:"",className:"size-20 flex animate-pulse"}),X.jsx("p",{className:"text-4xl text-white",children:"Loading..."})]}):X.jsxs("div",{className:"flex w-full h-full",children:[X.jsx("div",{className:"w-[20vw]",children:X.jsx(C2,{})}),X.jsx("div",{className:"flex-1",children:X.jsx(k2,{})})]})})},N2=()=>{const{register:n,handleSubmit:e,formState:{errors:t,isSubmitting:i}}=M0(),o=Ol(),[a,c]=q.useState(null),[d,p]=q.useState(""),[y,_]=q.useState(""),[E,S]=q.useState(""),{setUserData:k}=q.useContext(Ys);q.useEffect(()=>{E_(ma,async x=>{if(x){S(x.uid);const N=Nn(Dn,"users",x.uid),j=await Vl(N);j.data().name&&p(j.data().name),j.data().bio&&_(j.data().bio)}else o("/")})},[]);const V=async()=>{try{const x=Nn(Dn,"users",E);await qs(x,{bio:y,name:d});const N=await Vl(x);k(N.data()),console.log(N.data()),o("/chat")}catch(x){console.error(x),tt.error(x.message)}};return X.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-800 via-blue-600 to-pink-400 filter brightness-75 contrast-90 sepia-30 flex items-center justify-center px-4",children:X.jsxs("div",{className:"bg-blue-100 rounded-lg shadow-xl overflow-hidden w-full max-w-lg",children:[X.jsx("div",{className:"bg-[#001030] text-white py-4 px-6 text-center",children:X.jsxs("div",{className:"flex justify-center items-center",children:[X.jsx("img",{src:fp,alt:"QwikChat Logo",className:"w-10 h-10 mr-3"}),X.jsx("span",{className:"text-2xl font-semibold",children:"QwikChat"})]})}),X.jsxs("form",{onSubmit:e(V),className:"p-6 flex flex-col gap-4",children:[X.jsx("h2",{className:"text-2xl font-bold text-center",children:"Your Profile"}),X.jsxs("div",{className:"flex flex-col items-center gap-2",children:[X.jsxs("label",{htmlFor:"image",className:"relative cursor-pointer group",children:[X.jsx("img",{src:a?URL.createObjectURL(a):Fs,alt:"Default User",className:"w-24 h-24 rounded-full border-4 border-gray-300 group-hover:border-blue-500 transition-all"}),X.jsx("span",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full opacity-0 group-hover:opacity-100 text-white text-sm font-semibold",children:"Upload"})]}),X.jsx("input",{type:"file",id:"image",className:"hidden",accept:"image/*",...n("image"),onChange:x=>c(x.target.files[0])})]}),X.jsxs("div",{children:[X.jsx("input",{className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",...n("UserName",{required:"Username is required",minLength:{value:4,message:"Must be at least 4 characters"},maxLength:{value:15,message:"Must be at most 15 characters"}}),placeholder:"Your Name",onChange:x=>p(x.target.value),value:d}),t.UserName&&X.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.UserName.message})]}),X.jsx("div",{children:X.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",...n("bio"),placeholder:"Write a short bio about yourself...",rows:"4",onChange:x=>_(x.target.value),value:y})}),X.jsx("button",{type:"submit",className:"bg-blue-500 text-white font-semibold py-3 rounded-lg hover:bg-blue-600 transition-colors w-full",disabled:i,children:i?"Submitting...":"Submit"})]})]})})};function D2(){const n=Ol(),{loadUserData:e}=q.useContext(Ys);return q.useEffect(()=>{E_(ma,async t=>{t?(n("/chat"),await e(t.uid)):n("/")})},[]),X.jsx("div",{className:"overflow-none",children:X.jsxs(sT,{children:[X.jsx(Ec,{path:"/",element:X.jsx(A2,{})}),X.jsx(Ec,{path:"/chat",element:X.jsx(x2,{})}),X.jsx(Ec,{path:"/profile",element:X.jsx(N2,{})})]})})}m1.createRoot(document.getElementById("root")).render(X.jsx(kT,{children:X.jsx(R2,{children:X.jsx(D2,{})})}));
